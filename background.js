!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=481)}({0:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return c}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function c(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}},10:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(0),i=Object.setPrototypeOf,o=void 0===i?function(e,t){return e.__proto__=t,e}:i,a=function(e){function t(n){void 0===n&&(n="Invariant Violation");var r=e.call(this,"number"==typeof n?"Invariant Violation: "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name="Invariant Violation",o(r,t.prototype),r}return Object(r.c)(t,e),t}(Error);function s(e,t){if(!e)throw new a(t)}function u(e){return function(){return console[e].apply(console,arguments)}}!function(e){e.warn=u("warn"),e.error=u("error")}(s||(s={}));var c={env:{}};if("object"==typeof e)c=e;else try{Function("stub","process = stub")(c)}catch(e){}}).call(this,n(15))},100:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},101:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var a=function(){return"function"==typeof Symbol},s=function(e){return a()&&Boolean(Symbol[e])},u=function(e){return s(e)?Symbol[e]:"@@"+e};a()&&!s("observable")&&(Symbol.observable=Symbol("observable"));var c=u("iterator"),l=u("observable"),f=u("species");function h(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function d(e){var t=e.constructor;return void 0!==t&&null===(t=t[f])&&(t=void 0),void 0!==t?t:x}function p(e){return e instanceof x}function v(e){v.log?v.log(e):setTimeout((function(){throw e}))}function m(e){Promise.resolve().then((function(){try{e()}catch(e){v(e)}}))}function y(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=h(t,"unsubscribe");n&&n.call(t)}}catch(e){v(e)}}function g(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function b(e,t,n){e._state="running";var r=e._observer;try{var i=h(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(g(e),!i)throw n;i.call(r,n);break;case"complete":g(e),i&&i.call(r)}}catch(e){v(e)}"closed"===e._state?y(e):"running"===e._state&&(e._state="ready")}function _(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void m((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(b(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void b(e,t,n);e._queue.push({type:t,value:n})}}var w=function(){function e(t,n){r(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var i=new k(this);try{this._cleanup=n.call(void 0,i)}catch(e){i.error(e)}"initializing"===this._state&&(this._state="ready")}return o(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(g(this),y(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),k=function(){function e(t){r(this,e),this._subscription=t}return o(e,[{key:"next",value:function(e){_(this._subscription,"next",e)}},{key:"error",value:function(e){_(this._subscription,"error",e)}},{key:"complete",value:function(){_(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),x=function(){function e(t){if(r(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return o(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new w(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(d(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(d(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=d(this),r=arguments.length>1,i=!1,o=arguments[1],a=o;return new n((function(n){return t.subscribe({next:function(t){var o=!i;if(i=!0,!o||r)try{a=e(a,t)}catch(e){return n.error(e)}else a=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(a),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=d(this);return new i((function(t){var r,o=0;return function e(a){r=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=d(this);return new n((function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),a()}});i.push(o)},error:function(e){r.error(e)},complete:function(){a()}});function a(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))}},{key:l,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=h(t,l);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return p(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(s("iterator")&&(r=h(t,c)))return new n((function(e){m((function(){if(!e.closed){var n=!0,i=!1,o=void 0;try{for(var a,s=r.call(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;if(e.next(u),e.closed)return}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){m((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="function"==typeof this?this:e;return new i((function(e){m((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:f,get:function(){return this}}]),e}();t.Observable=x,a()&&Object.defineProperty(x,Symbol("extensions"),{value:{symbol:l,hostReportError:v},configurable:!0})},102:function(e,t,n){"use strict";n.r(t),n.d(t,"ErrorLink",(function(){return s})),n.d(t,"onError",(function(){return a}));var r=n(0),i=n(16),o=n(13);function a(e){return new i.ApolloLink((function(t,n){return new o.a((function(r){var i,o,a;try{i=n(t).subscribe({next:function(i){i.errors&&(a=e({graphQLErrors:i.errors,response:i,operation:t,forward:n}))?o=a.subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)}):r.next(i)},error:function(i){(a=e({operation:t,networkError:i,graphQLErrors:i&&i.result&&i.result.errors,forward:n}))?o=a.subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)}):r.error(i)},complete:function(){a||r.complete.bind(r)()}})}catch(i){e({networkError:i,operation:t,forward:n}),r.error(i)}return function(){i&&i.unsubscribe(),o&&i.unsubscribe()}}))}))}var s=function(e){function t(t){var n=e.call(this)||this;return n.link=a(t),n}return Object(r.c)(t,e),t.prototype.request=function(e,t){return this.link.request(e,t)},t}(i.ApolloLink)},103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Token=void 0;var r=function(e,t,n,r){this.parent=0,this.isLoopData=!1,this.name=e,this.value=t,this.windex=parseInt(n,10),this.widget=r};t.Token=r},106:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.UtilityHelper=void 0;var o=function(){function e(){}return e.prototype.removeProps=function(e,t){return r(this,void 0,void 0,(function(){return i(this,(function(n){return e&&t.forEach((function(t){e.hasOwnProperty(t)&&delete e[t]})),[2,e]}))}))},e.prototype.getObjectFromJson=function(e){for(;"string"==typeof e;)e=JSON.parse(e);return e},e.prototype.getWindowSize=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){return[2,new Promise((function(e,t){chrome.tabs.query({active:!0,currentWindow:!0},(function(t){chrome.tabs.sendMessage(t[0].id,{action:"get_browser_window_dimensions"},(function(t){e({width:t.width,height:t.height})}))}))}))]}))}))},e}();t.UtilityHelper=o},12:function(e,t,n){"use strict";n.r(t),n.d(t,"AxiomApiHelper",(function(){return a}));var r=n(21),i=n.n(r),o=n(37);class a{static transpose(e){let t=0,n=[];for(let n=0;n<e.length;n++)e[n].length>t&&(t=e[n].length);for(let e=0;e<t;e++)n.push([]);for(let r=0;r<e.length;r++)for(let i=0;i<t;i++){let t=parseInt(i);n[t].push(e[r][t])}return n}static delay(e,t){return new Promise((function(n){setTimeout(n.bind(null,t),e)}))}static getColLetter(e){let t=["!","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n=t.length-1,r=e,i=!1,o=[],a="";for(;!i;){let e=r/n,s=r%n;0==o.length&&(s+=1),o.push(s),a=t[s]+a,r=Math.round(e-s/n),i=0==r}return a}static getColIndex(e){if(!e)return-1;if(e=e.trim(),parseInt(e,10)>=0)return e;let t=[0];for(let n=0;n<e.length;n++){let r=Math.pow(26,e.length-n-1);t[n]=(e[n].charCodeAt(0)-64)*r}return t.reduce((e,t)=>e+t)-1}static inArray(e,t,n=null){let r=!1;for(let i of t)this.matchingArrays(i,e,n)&&(r=!0);return r}static colString2indexArray(e){let t=[];for(let n of e.split(","))n=n.trim(),Number.isInteger(n)?n-=1:/[A-Za-z]/.test(n)?(/[a-z]/.test(n)&&(n=n.toUpperCase()),n=this.getColIndex(n)):n=Number(n)-1,n>-1&&t.push(n);return t}static matchingArrays(e,t,n=null){let r=!0;if(e.length!=t.length)return!1;if(Array.isArray(e)!=Array.isArray(t))return!1;Array.isArray(e)&&(r=!1);let i=!0;if(Array.isArray(n)&&n.length>0);else{n=[];let r=e.length>t.length?e.length:t.length;for(let e=0;e<r;e++)n.push(this.getColLetter(e+1))}for(let r of n){let n=this.getColIndex(r);e[n]!=t[n]&&(i=!1)}return i}static clone(e){if(!e)return[[""]];let t=[];if(Array.isArray(e[0]))for(let n of e)t[e.indexOf(n)]=this.clone(n);else for(let n of Object.keys(e))t[n]=e[n].valueOf();return t}static getRoute(e){let t=e;if(/\/\//.test(e)){var n=e.split("//");n[0];t=n[n.length-1];var r=t.split(".");if(r.length>2)r.shift();let i=r.pop();i=i.split("/"),i.pop(),t=r.join(".")+"."+i.join("/")}return t}static sendTabMessage(e,t){return new Promise((n,r)=>{let o=new i.a;o.load().then(async()=>{let r;try{r=o.states[0].tab_id}catch(e){}r||(r=await new Promise(e=>{chrome.tabs.query({},t=>{for(let n of t)chrome.tabs.sendMessage(n.id,{action:"is_loaded"},t=>{t&&e(n.id)})}),setTimeout(()=>{e(null)},2e3)})),t.action=e,chrome.tabs.sendMessage(r,t,t=>{if(chrome.runtime.hasOwnProperty("lastError"))switch(e){case"display_message":n("");break;default:n({error:{message:chrome.runtime.lastError.message}})}else n(t)})})})}static isValidJson(e){try{const t=JSON.parse(e);if(t&&"object"==typeof t)return!0}catch(e){}return!1}static buildSelectorArray(e,t){let n=[],r=[];if(Array.isArray(e))void 0!==e[0].resultType&&(r=e.map(e=>e.resultType),n=e.map(e=>e.selector));else if("string"==typeof e){n=e.split(",");let i=[];for(let e of n)i.push(e.trim()),"string"==typeof t?r.push(t):r.push("textContent");n=i}return{selectors:n,resultTypes:r}}static applyToIframes(e){jQuery("iframe").each((t,n)=>{const r=jQuery(n).contents();r&&r.length&&e(t,r)})}static extractFormData(e,t=!1){let n=[];for(;"string"==typeof e.data;)e.data=JSON.parse(e.data);for(let r in e.data.form)(t||void 0===e.data.form[r].is_disable||!0!==e.data.form[r].is_disable)&&n.push(e.data.form[r]);return n}static async getCampaign(){return new Promise(e=>{chrome.cookies.getAll({name:"axiom_ga_query_params"},t=>{if(t.length>0){const n=t.filter(e=>"/"===e.path)[0];e(n?n.value:t[0].value)}else e("")})})}static getStepNumbering(e,t){if(!t){t=(new o.WidgetsNestable).buildNestingData(e)}let n=[0,0,0,0,0];for(let r in t)t[r].endingBlock?t[r-1]&&t[r-1].indent>t[r].indent&&(n[t[r-1].indent]=0):n[t[r].indent]++,e[r].stepNumber=n.slice(0,t[r].indent+1).join(".")}static getTrimmedUrl(e){try{let t=e.trim().toLowerCase(),n=new URL(t);return n.hash="",n.search="",n.pathname="",n.toString()}catch(t){return e}}}},13:function(e,t,n){"use strict";var r=n(72),i=n.n(r).a;t.a=i},14:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.apiProvider=void 0;var a=n(81),s=n(78),u=n(16),c=n(82),l=o(n(79)),f=o(n(43)),h=n(102),d=n(8),p=new(function(){function e(){var e=this;this.client=null,this.loaded=!0,r(e,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.initClient()];case 1:case 2:return e.sent(),[3,3];case 3:return[2]}}))}))}return e.prototype.sendGqlQuery=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return this.client?[3,2]:[4,this.initClient()];case 1:r.sent(),r.label=2;case 2:return n=f.default(e),[2,this.client.query({fetchPolicy:"network-only",query:n,variables:t})]}}))}))},e.prototype.sendGqlMutation=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return this.client?[3,2]:[4,this.initClient()];case 1:r.sent(),r.label=2;case 2:return n=f.default(e),[2,this.client.mutate({mutation:n,variables:t})]}}))}))},e.prototype.initClient=function(e){return void 0===e&&(e="https://lar.axiom.ai/graphql"),r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return t=new d.CurrentUserData,n=this,[4,t.load().then((function(){var r=c.createHttpLink({uri:e,headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Authorization:t.token?"Bearer "+t.token:""},fetch:l.default}),i=h.onError((function(e){e.graphQLErrors;var t=e.networkError;t&&"string"==typeof t.message&&-1!==t.message.indexOf("401")&&chrome.runtime.sendMessage({greeting:"unauthenticated_api"})}));n.client=new s.ApolloClient({link:u.concat(i,r),connectToDevTools:!0,cache:new a.InMemoryCache({addTypename:!1})})}))];case 1:return r.sent(),[2]}}))}))},e}());t.apiProvider=p},142:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CloudRunApi=void 0;var o=function(){function e(e,t){this.cud=e,this.taskId=t}return e.prototype.retrieveUrl=function(){return r(this,void 0,void 0,(function(){var e,t,n;return i(this,(function(r){switch(r.label){case 0:if(0===this.cud.type&&this.cud.cloud_backend)return this.url=this.cud.cloud_backend.replace("https://",""),this.password=this.cud.cloud_password,this.port=this.cud.cloud_port,[2,"ok"];r.label=1;case 1:return r.trys.push([1,4,,5]),e=new AbortController,setTimeout((function(){return e.abort()}),5e3),[4,fetch("https://lar.axiom.ai/pod/url?uid="+this.cud.id+"&taskId="+this.taskId,{signal:e.signal,method:"get",headers:new Headers({Authorization:"Bearer "+this.cud.token})})];case 2:return[4,r.sent().json()];case 3:return(t=r.sent()).status?[2,t.status]:(this.url=t.url.replace("https://",""),this.password=t.pw,this.pid=t.pid,this.port="443",[2,"ok"]);case 4:return n=r.sent(),console.error(n),[2,"server"];case 5:return[2]}}))}))},e.prototype.rebuildUrl=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){return this.password=e.pw,this.pid=e.id,this.url=e.url.replace("https://",""),this.port="443",[2]}))}))},e.prototype.openWindow=function(e){return r(this,void 0,void 0,(function(){var t,n,o,a,s,u,c=this;return i(this,(function(l){switch(l.label){case 0:return this.url?(t=this.port,n=this.url,o=this.password,a="",-1!==n.indexOf("localhost")?(u=n.split(":4444")[0],a="?host="+u+"&port=1234"):"443"===t?((s=n.split("."))[0]=s[0]+"-proxy",a="?host="+s.join(".")+"&port="+t+"&password="+o):(t||(t="8090"),u=n.split(":4444")[0],a="?host="+u+"&port="+t+"&password="+o),this.cud.type>=2?this.windowUrl="chrome-extension://"+chrome.runtime.id+"/axiombuilder.html#/viewer"+a+"&taskId="+e:this.windowUrl="https://vnc.axiom.ai/vnc_lite.html"+a,-1===this.windowUrl.indexOf("v5")&&-1===this.windowUrl.indexOf("workspace")?[3,2]:[4,this.switchToRunningTask(e)]):[2,!1];case 1:l.sent(),l.label=2;case 2:return[2,new Promise((function(e){chrome.tabs.query({},(function(t){return r(c,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:n=0,r.label=1;case 1:return n<t.length?-1===t[n].url.indexOf("cpgamigjcbffkaiciiepndmonbfdimbb/axiombuilder.html#/viewer")?[3,3]:[4,new Promise((function(e){chrome.tabs.remove(t[n].id,(function(){e()}))}))]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return chrome.tabs.create({url:this.windowUrl,active:!0},(function(){e()})),[2]}}))}))}))}))]}}))}))},e.prototype.switchToRunningTask=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,fetch("https://lar.axiom.ai/pod/switch-window?taskId="+e,{method:"get",headers:new Headers({Authorization:"Bearer "+this.cud.token})})];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),console.error(t),[3,3];case 3:return[2]}}))}))},e.prototype.closeWindow=function(e){chrome.runtime.sendMessage({action:"updateViewer",command:"close_window",data:{task_id:e}},(function(){}))},e.prototype.done=function(e){return void 0===e&&(e=0),r(this,void 0,void 0,(function(){var t=this;return i(this,(function(n){switch(n.label){case 0:return[4,this.cud.load()];case 1:return n.sent(),[4,new Promise((function(n){return r(t,void 0,void 0,(function(){var t=this;return i(this,(function(o){return setTimeout((function(){return r(t,void 0,void 0,(function(){var t;return i(this,(function(r){switch(r.label){case 0:t=new AbortController,setTimeout((function(){return t.abort()}),5e3),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,fetch("https://lar.axiom.ai/api/v3/stop?pid="+this.pid+"&pw="+this.password+"&taskId="+e,{signal:t.signal,method:"get",headers:new Headers({Authorization:"Bearer "+this.cud.token})})];case 2:return r.sent(),n(!1),[3,4];case 3:return r.sent(),n(!1),[3,4];case 4:return[2]}}))}))}),2e3),[2]}))}))}))];case 2:return[2,n.sent()]}}))}))},e}();t.CloudRunApi=o},143:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.RunLocalSchedules=void 0;var o=function(){function e(){this.disabled=!1}return e.prototype.store=function(){chrome.storage.local.set({axiom_run_local_schedules:this.disabled})},e.prototype.load=function(){return r(this,void 0,Promise,(function(){var e=this;return i(this,(function(t){return[2,new Promise((function(t){chrome.storage.local.get("axiom_run_local_schedules",(function(n){n.axiom_run_local_schedules?e.disabled=n.axiom_run_local_schedules:e.disabled=!1,t()}))}))]}))}))},e}();t.RunLocalSchedules=o},144:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyVault=void 0;var o=function(){function e(){this.keys={none:"",openAI:""}}return e.prototype.paramToKey=function(e){return e.name&&e.name.indexOf("ChatGPT")>-1?"openAI":"none"},e.prototype.store=function(){return r(this,void 0,Promise,(function(){var e=this;return i(this,(function(t){return[2,new Promise((function(t){chrome.storage.local.set({axiom_local_keys:e.keys},(function(){t()}))}))]}))}))},e.prototype.load=function(){return r(this,void 0,Promise,(function(){var e=this;return i(this,(function(t){return[2,new Promise((function(t){chrome.storage.local.get("axiom_local_keys",(function(n){n&&n.axiom_local_keys&&(e.keys=n.axiom_local_keys),t(e.keys)}))}))]}))}))},e}();t.KeyVault=o},15:function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},16:function(e,t,n){"use strict";n.r(t),n.d(t,"ApolloLink",(function(){return _})),n.d(t,"concat",(function(){return b})),n.d(t,"createOperation",(function(){return d})),n.d(t,"empty",(function(){return m})),n.d(t,"execute",(function(){return w})),n.d(t,"from",(function(){return y})),n.d(t,"fromError",(function(){return h})),n.d(t,"fromPromise",(function(){return f})),n.d(t,"makePromise",(function(){return l})),n.d(t,"split",(function(){return g})),n.d(t,"toPromise",(function(){return c}));var r=n(13);n.d(t,"Observable",(function(){return r.a}));var i=n(29),o=n(0),a=n(2);n.d(t,"getOperationName",(function(){return a.n}));var s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}return Object(o.c)(t,e),t}(Error);function u(e){return e.request.length<=1}function c(e){var t=!1;return new Promise((function(n,r){e.subscribe({next:function(e){t?i.b.warn("Promise Wrapper does not support multiple results from Observable"):(t=!0,n(e))},error:r})}))}var l=c;function f(e){return new r.a((function(t){e.then((function(e){t.next(e),t.complete()})).catch(t.error.bind(t))}))}function h(e){return new r.a((function(t){t.error(e)}))}function d(e,t){var n=Object(o.a)({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n="function"==typeof e?Object(o.a)({},n,e(n)):Object(o.a)({},n,e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return Object(o.a)({},n)}}),Object.defineProperty(t,"toKey",{enumerable:!1,value:function(){return function(e){var t=e.query,n=e.variables,r=e.operationName;return JSON.stringify([r,t,n])}(t)}}),t}function p(e,t){return t?t(e):r.a.of()}function v(e){return"function"==typeof e?new _(e):e}function m(){return new _((function(){return r.a.of()}))}function y(e){return 0===e.length?m():e.map(v).reduce((function(e,t){return e.concat(t)}))}function g(e,t,n){var i=v(t),o=v(n||new _(p));return u(i)&&u(o)?new _((function(t){return e(t)?i.request(t)||r.a.of():o.request(t)||r.a.of()})):new _((function(t,n){return e(t)?i.request(t,n)||r.a.of():o.request(t,n)||r.a.of()}))}var b=function(e,t){var n=v(e);if(u(n))return i.b.warn(new s("You are calling concat on a terminating link, which will have no effect",n)),n;var o=v(t);return u(o)?new _((function(e){return n.request(e,(function(e){return o.request(e)||r.a.of()}))||r.a.of()})):new _((function(e,t){return n.request(e,(function(e){return o.request(e,t)||r.a.of()}))||r.a.of()}))},_=function(){function e(e){e&&(this.request=e)}return e.prototype.split=function(t,n,r){return this.concat(g(t,n,r||new e(p)))},e.prototype.concat=function(e){return b(this,e)},e.prototype.request=function(e,t){throw new i.a("request is not implemented")},e.empty=m,e.from=y,e.split=g,e.execute=w,e}();function w(e,t){return e.request(d(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?Object(a.n)(t.query):""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];if(t.indexOf(o)<0)throw new i.a("illegal argument: "+o)}return e}(t))))||r.a.of()}},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n(51),i={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},o=Object.freeze({});function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,a=void 0,c=Array.isArray(e),l=[e],f=-1,h=[],d=void 0,p=void 0,v=void 0,m=[],y=[],g=e;do{var b=++f===l.length,_=b&&0!==h.length;if(b){if(p=0===y.length?void 0:m[m.length-1],d=v,v=y.pop(),_){if(c)d=d.slice();else{for(var w={},k=0,x=Object.keys(d);k<x.length;k++){var S=x[k];w[S]=d[S]}d=w}for(var O=0,E=0;E<h.length;E++){var T=h[E][0],I=h[E][1];c&&(T-=O),c&&null===I?(d.splice(T,1),O++):d[T]=I}}f=a.index,l=a.keys,h=a.edits,c=a.inArray,a=a.prev}else{if(p=v?c?f:l[f]:void 0,null==(d=v?v[p]:g))continue;v&&m.push(p)}var A=void 0;if(!Array.isArray(d)){if(!s(d))throw new Error("Invalid AST Node: "+Object(r.a)(d));var j=u(t,d.kind,b);if(j){if((A=j.call(t,d,p,v,m,y))===o)break;if(!1===A){if(!b){m.pop();continue}}else if(void 0!==A&&(h.push([p,A]),!b)){if(!s(A)){m.pop();continue}d=A}}}void 0===A&&_&&h.push([p,d]),b?m.pop():(a={inArray:c,index:f,keys:l,edits:h,prev:a},l=(c=Array.isArray(d))?d:n[d.kind]||[],f=-1,h=[],v&&y.push(v),v=d)}while(void 0!==a);return 0!==h.length&&(g=h[h.length-1][1]),g}function s(e){return Boolean(e&&"string"==typeof e.kind)}function u(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var a=o[t];if("function"==typeof a)return a}}}},170:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.SocketHandler=void 0;var o=function(){function e(e){this.key=0,this.wsURL=e}return e.prototype.getKey=function(){return this.key++,this.key},e.prototype.start=function(){return r(this,void 0,void 0,(function(){var e=this;return i(this,(function(t){return[2,new Promise((function(t,n){try{e.socket=new WebSocket(e.wsURL,"echo-protocol"),e.socket.onclose=function(){},e.socket.onopen=function(){e.socket.onmessage=function(t){var n=t.data,r=JSON.parse(n);switch(r.type){case"axiom/isrunning":e.responder(r.body),e.version=r.body.version,e.status="connected";break;case"axiom/execution":r.key&&e.responder&&e.responder(r.body)}},e.socket.onerror=function(t){e.responder({automation_status:"websocket_died"})},t(null)}}catch(t){e.responder({automation_status:"websocket_died"}),n(t)}}))]}))}))},e.prototype.sendStartMessage=function(e,t,n){return this.send({type:"start_execution",taskId:e,execId:e,body:t},n)},e.prototype.sendFullExecutionMessage=function(e,t){return this.send({type:"start_full_execution",body:e},t)},e.prototype.sendStorageValues=function(e){return this.send({type:"storage_values",body:e},null)},e.prototype.sendCurrentUrl=function(e){return this.send({type:"current_url",body:e},null)},e.prototype.sendApiValues=function(e){return this.send({type:"axiom_api_store",body:e},null)},e.prototype.sendStopMessage=function(e){return this.send({type:"stop_execution",taskId:e},null)},e.prototype.send=function(e,t,n){void 0===n&&(n=this.getKey());var r=JSON.stringify({message:e,key:n});if(r.length>1048576)return n;try{this.socket.send(r),t&&(this.responder=t)}catch(e){t({automation_status:"websocket_died"})}return n},e}();t.SocketHandler=o},18:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RuntimeModel=void 0;var a=n(14),s=o(n(19)),u=function(){function e(){this.minutes=30,this.plan="free",this.runtimeUsed=0,this.percentageUsed=0,this.concurrency=1,this.intervalMin=null,this.finishedLoading=!1,this.cached=!1,this.singleRunLimit=0,this.createdAt=""}return e.prototype.store=function(){throw new Error("Method not implemented.")},e.prototype.userReadablePlan=function(){return"pro_max"===this.plan?"pro max":this.plan},e.prototype.load=function(){return r(this,void 0,Promise,(function(){var e=this;return i(this,(function(t){switch(t.label){case 0:return s.default.isExpired("RuntimeModel")?[3,2]:[4,s.default.retrieve("RuntimeModel",this)];case 1:if(t.sent())return[2];t.label=2;case 2:return[2,new Promise((function(t){a.apiProvider.sendGqlQuery("\n                query subscriptionDetail {\n                    subscriptionDetail {\n                        plan,\n                        minutes,\n                        concurrency,\n                        interval_min,\n                        single_run_limit,\n                        created_at\n                    }\n                }\n            ",{}).then((function(n){void 0!==n.data&&void 0!==n.data.subscriptionDetail&&(e.plan=n.data.subscriptionDetail.plan,e.minutes=n.data.subscriptionDetail.minutes,e.concurrency=n.data.subscriptionDetail.concurrency,e.intervalMin=n.data.subscriptionDetail.interval_min,e.singleRunLimit=n.data.subscriptionDetail.single_run_limit,e.createdAt=n.data.subscriptionDetail.created_at),e.minutes>=1800?(chrome.runtime.sendMessage({greeting:"get_user_pods"}),chrome.runtime.sendMessage({greeting:"scheduler_start"})):chrome.runtime.sendMessage({greeting:"scheduler_stop"}),"free_new"!==e.plan?a.apiProvider.sendGqlQuery("query monthlyRuntime($runtime_month: Boolean!) {\n                        monthlyRuntime(runtime_month: $runtime_month) {\n                            runtime_month\n                        }\n                    }",{runtime_month:!0}).then((function(n){return r(e,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return void 0!==n.data&&void 0!==n.data.monthlyRuntime&&this.calculate(n.data.monthlyRuntime.runtime_month),this.finishedLoading=!0,[4,s.default.refresh("RuntimeModel",this)];case 1:return e.sent(),t(),[2]}}))}))})):a.apiProvider.sendGqlQuery("query monthlyRuntime($runtime_total: Boolean!) {\n                        monthlyRuntime(runtime_total: $runtime_total) {\n                            runtime_total\n                        }\n                    }",{runtime_total:!0}).then((function(n){return r(e,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return void 0!==n.data&&void 0!==n.data.monthlyRuntime&&this.calculate(n.data.monthlyRuntime.runtime_total),this.finishedLoading=!0,[4,s.default.refresh("RuntimeModel",this)];case 1:return e.sent(),t(),[2]}}))}))}))}))}))]}}))}))},e.prototype.estimateRemainingTime=function(){if(this.percentageUsed>=100)return-1;var e,t=new Date,n=new Date(this.createdAt),r=n.toTimeString().split(" ")[0],i=t.toUTCString().split(" ")[4];e=n.getDate()<t.getDate()||n.getDate()==t.getDate()&&r<=i?new Date(t.getFullYear(),t.getMonth(),n.getDate()):0==t.getMonth()?new Date(t.getFullYear()-1+"-12-"+n.getDate()):new Date(t.getFullYear()+"-"+t.getMonth()+"-"+n.getDate());var o=new Date(n.getFullYear(),n.getMonth()+1,1).getTime()-new Date(n.getFullYear(),n.getMonth(),1).getTime(),a=t.getTime()-e.getTime();if(100*(a/o)>this.percentageUsed)return-1;var s=this.percentageUsed/(a/864e5);return 0==s?-1:Math.floor((100-this.percentageUsed)/s)},e.prototype.calculate=function(e){this.runtimeUsed=Math.floor(e/60),this.percentageUsed=Math.floor(this.runtimeUsed/this.minutes*100),this.percentageUsed>100&&(this.percentageUsed=100)},e}();t.RuntimeModel=u},19:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=new(function(){function e(){this.data={},chrome.storage.local.set({axiom_cache:[]})}return e.prototype.refresh=function(e,t){return r(this,void 0,void 0,(function(){var n,r=this;return i(this,(function(i){for(n in this.data[e]={expired:!1,data:{}},t)"function"!=typeof t[n]&&(this.data[e].data[n]=t[n]);return[2,new Promise((function(e){chrome.storage.local.set({axiom_cache:r.data},(function(){e()}))}))]}))}))},e.prototype.retrieve=function(e,t){return r(this,void 0,Promise,(function(){var n,r,o=this;return i(this,(function(i){switch(i.label){case 0:return this.data[e]?[3,2]:[4,new Promise((function(e){chrome.storage.local.get("axiom_cache",(function(t){o.data=t.axiom_cache,e()}))}))];case 1:i.sent(),i.label=2;case 2:try{for(r in n=this.data[e],t)"function"!=typeof t[r]&&(t[r]=n.data[r]);return[2,!0]}catch(t){return console.error("Error retrieving from cache for "+e,t),[2,!1]}return[2]}}))}))},e.prototype.isExpired=function(e){return!this.data[e]||this.data[e].expired},e.prototype.expire=function(e){return r(this,void 0,void 0,(function(){var t=this;return i(this,(function(n){return[2,new Promise((function(n){chrome.storage.local.get("axiom_cache",(function(r){t.data=r.axiom_cache,t.data[e]?(t.data[e].expired&&n(!0),t.data[e].expired=!0):t.data[e]={expired:!0},chrome.storage.local.set({axiom_cache:t.data},(function(){n(!0)}))}))}))]}))}))},e.prototype.clearAll=function(){this.data={},chrome.storage.local.set({axiom_cache:this.data})},e}());t.default=o},2:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return U})),n.d(t,"e",(function(){return G})),n.d(t,"f",(function(){return W})),n.d(t,"g",(function(){return C})),n.d(t,"h",(function(){return R})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return A})),n.d(t,"k",(function(){return S})),n.d(t,"l",(function(){return D})),n.d(t,"m",(function(){return T})),n.d(t,"n",(function(){return I})),n.d(t,"o",(function(){return j})),n.d(t,"p",(function(){return f})),n.d(t,"q",(function(){return Y})),n.d(t,"r",(function(){return k})),n.d(t,"s",(function(){return w})),n.d(t,"t",(function(){return p})),n.d(t,"u",(function(){return m})),n.d(t,"v",(function(){return v})),n.d(t,"w",(function(){return g})),n.d(t,"x",(function(){return H})),n.d(t,"y",(function(){return K})),n.d(t,"z",(function(){return Z})),n.d(t,"A",(function(){return ee})),n.d(t,"B",(function(){return te})),n.d(t,"C",(function(){return V})),n.d(t,"D",(function(){return Q})),n.d(t,"E",(function(){return d})),n.d(t,"F",(function(){return _})),n.d(t,"G",(function(){return c})),n.d(t,"H",(function(){return y})),n.d(t,"I",(function(){return J}));var r=n(17),i=n(7),o=n(0),a=n(69),s=n.n(a);n(22);function u(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var o={};n.fields.map((function(e){return u(o,e.name,e.value,r)})),e[t.value]=o}else if(function(e){return"Variable"===e.kind}(n)){var a=(r||{})[n.name.value];e[t.value]=a}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return u(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw new i.a('The inline argument "'+t.value+'" of kind "'+n.kind+'"is not supported. Use variables instead of inline arguments to overcome this limitation.');e[t.value]=null}}function c(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(r){var i=r.name,o=r.value;return u(n[e.name.value],i,o,t)}))})));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach((function(e){var n=e.name,i=e.value;return u(r,n,i,t)}))),f(e.name.value,r,n)}var l=["connection","include","skip","client","rest","export"];function f(e,t,n){if(n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i=t,o={};return r.forEach((function(e){o[e]=i[e]})),n.connection.key+"("+JSON.stringify(o)+")"}return n.connection.key}var a=e;if(t){var u=s()(t);a+="("+u+")"}return n&&Object.keys(n).forEach((function(e){-1===l.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?a+="@"+e+"("+JSON.stringify(n[e])+")":a+="@"+e)})),a}function h(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,i=e.value;return u(n,r,i,t)})),n}return null}function d(e){return e.alias?e.alias.value:e.name.value}function p(e){return"Field"===e.kind}function v(e){return"InlineFragment"===e.kind}function m(e){return e&&"id"===e.type&&"boolean"==typeof e.generated}function y(e,t){return void 0===t&&(t=!1),Object(o.a)({type:"id",generated:t},"string"==typeof e?{id:e,typename:void 0}:e)}function g(e){return null!=e&&"object"==typeof e&&"json"===e.type}function b(e,t){if(e.directives&&e.directives.length){var n={};return e.directives.forEach((function(e){n[e.name.value]=h(e,t)})),n}return null}function _(e,t){return void 0===t&&(t={}),(n=e.directives,n?n.filter(x).map((function(e){var t=e.arguments,n=e.name.value;Object(i.b)(t&&1===t.length,"Incorrect number of arguments for the @"+n+" directive.");var r=t[0];Object(i.b)(r.name&&"if"===r.name.value,"Invalid argument for the @"+n+" directive.");var o=r.value;return Object(i.b)(o&&("Variable"===o.kind||"BooleanValue"===o.kind),"Argument for the @"+n+" directive must be a variable or a boolean value."),{directive:e,ifArgument:r}})):[]).every((function(e){var n=e.directive,r=e.ifArgument,o=!1;return"Variable"===r.value.kind?(o=t[r.value.name.value],Object(i.b)(void 0!==o,"Invalid variable referenced in @"+n.name.value+" directive.")):o=r.value.value,"skip"===n.name.value?!o:o}));var n}function w(e,t){return function(e){var t=[];return Object(r.b)(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some((function(t){return e.indexOf(t)>-1}))}function k(e){return e&&w(["client"],e)&&w(["export"],e)}function x(e){var t=e.name.value;return"skip"===t||"include"===t}function S(e,t){var n=t,r=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw new i.a("Found a "+e.operation+" operation"+(e.name?" named '"+e.name.value+"'":"")+". No operations are allowed when using a fragment as a query. Only fragments are allowed.");"FragmentDefinition"===e.kind&&r.push(e)})),void 0===n&&(Object(i.b)(1===r.length,"Found "+r.length+" fragments. `fragmentName` must be provided when there is not exactly 1 fragment."),n=r[0].name.value),Object(o.a)(Object(o.a)({},e),{definitions:Object(o.f)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions)})}function O(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){null!=t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function E(e){Object(i.b)(e&&"Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql');var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw new i.a('Schema type definitions not allowed in queries. Found: "'+e.kind+'"');return e}));return Object(i.b)(t.length<=1,"Ambiguous GraphQL document: contains "+t.length+" operations"),e}function T(e){return E(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function I(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function A(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function j(e){var t=T(e);return Object(i.b)(t&&"query"===t.operation,"Must contain a query definition."),t}function D(e){var t;E(e);for(var n=0,r=e.definitions;n<r.length;n++){var o=r[n];if("OperationDefinition"===o.kind){var a=o.operation;if("query"===a||"mutation"===a||"subscription"===a)return o}"FragmentDefinition"!==o.kind||t||(t=o)}if(t)return t;throw new i.a("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment.")}function C(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function R(e){if(e&&e.variableDefinitions&&e.variableDefinitions.length){var t=e.variableDefinitions.filter((function(e){return e.defaultValue})).map((function(e){var t=e.variable,n=e.defaultValue,r={};return u(r,t.name,n),r}));return O.apply(void 0,Object(o.f)([{}],t))}return{}}function N(e,t,n){var r=0;return e.forEach((function(n,i){t.call(this,n,i,e)&&(e[r++]=n)}),n),e.length=r,e}var P={kind:"Field",name:{kind:"Name",value:"__typename"}};function M(e){return function e(t,n){return t.selectionSet.selections.every((function(t){return"FragmentSpread"===t.kind&&e(n[t.name.value],n)}))}(T(e)||function(e){Object(i.b)("Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'),Object(i.b)(e.definitions.length<=1,"Fragment must have exactly one definition.");var t=e.definitions[0];return Object(i.b)("FragmentDefinition"===t.kind,"Must be a fragment definition."),t}(e),C(A(e)))?null:e}function L(e){return function(t){return e.some((function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)}))}}function q(e,t){var n=Object.create(null),i=[],a=Object.create(null),s=[],u=M(Object(r.b)(t,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&(e.some((function(e){return e.remove}))&&t.directives&&t.directives.some(L(e))))return t.arguments&&t.arguments.forEach((function(e){"Variable"===e.value.kind&&i.push({name:e.value.name.value})})),t.selectionSet&&function e(t){var n=[];return t.selections.forEach((function(t){(p(t)||v(t))&&t.selectionSet?e(t.selectionSet).forEach((function(e){return n.push(e)})):"FragmentSpread"===t.kind&&n.push(t)})),n}(t.selectionSet).forEach((function(e){s.push({name:e.name.value})})),null}},FragmentSpread:{enter:function(e){a[e.name.value]=!0}},Directive:{enter:function(t){if(L(e)(t))return null}}}));return u&&N(i,(function(e){return!n[e.name]})).length&&(u=function(e,t){var n=function(e){return function(t){return e.some((function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))}))}}(e);return M(Object(r.b)(t,{OperationDefinition:{enter:function(t){return Object(o.a)(Object(o.a)({},t),{variableDefinitions:t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))}))})}},Field:{enter:function(t){if(e.some((function(e){return e.remove}))){var r=0;if(t.arguments.forEach((function(e){n(e)&&(r+=1)})),1===r)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(i,u)),u&&N(s,(function(e){return!a[e.name]})).length&&(u=function(e,t){function n(t){if(e.some((function(e){return e.name===t.name.value})))return null}return M(Object(r.b)(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(s,u)),u}function F(e){return Object(r.b)(E(e),{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var r=e.selections;if(r)if(!r.some((function(e){return p(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var i=n;if(!(p(i)&&i.directives&&i.directives.some((function(e){return"export"===e.name.value}))))return Object(o.a)(Object(o.a)({},e),{selections:Object(o.f)(r,[P])})}}}}})}var $={test:function(e){var t="connection"===e.name.value;return t&&(e.arguments&&e.arguments.some((function(e){return"key"===e.name.value}))||i.b.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.")),t}};function Q(e){return q([$],E(e))}function U(e){return"query"===D(e).operation?e:Object(r.b)(e,{OperationDefinition:{enter:function(e){return Object(o.a)(Object(o.a)({},e),{operation:"query"})}}})}function V(e){E(e);var t=q([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=Object(r.b)(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every((function(e){return p(e)&&"__typename"===e.name.value})))return null}}})),t}var G="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product),B=Object.prototype.toString;function W(e){return function e(t,n){switch(B.call(t)){case"[object Array]":if(n.has(t))return n.get(t);var r=t.slice(0);return n.set(t,r),r.forEach((function(t,i){r[i]=e(t,n)})),r;case"[object Object]":if(n.has(t))return n.get(t);var i=Object.create(Object.getPrototypeOf(t));return n.set(t,i),Object.keys(t).forEach((function(r){i[r]=e(t[r],n)})),i;default:return t}}(e,new Map)}function z(e){return"development"===e}function H(){return!0===z("production")}function K(){return!0===z("test")}function J(e){try{return e()}catch(e){console.error&&console.error(e)}}function Y(e){return e.errors&&e.errors.length}function Z(e){if((!0===z("development")||K())&&!("function"==typeof Symbol&&"string"==typeof Symbol("")))return function e(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(n){null===t[n]||"object"!=typeof t[n]&&"function"!=typeof t[n]||Object.isFrozen(t[n])||e(t[n])})),t}(e);return e}var X=Object.prototype.hasOwnProperty;function ee(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return te(e)}function te(e){var t=e[0]||{},n=e.length;if(n>1){var r=[];t=ie(t,r);for(var i=1;i<n;++i)t=re(t,e[i],r)}return t}function ne(e){return null!==e&&"object"==typeof e}function re(e,t,n){return ne(t)&&ne(e)?(Object.isExtensible&&!Object.isExtensible(e)&&(e=ie(e,n)),Object.keys(t).forEach((function(r){var i=t[r];if(X.call(e,r)){var o=e[r];i!==o&&(e[r]=re(ie(o,n),i,n))}else e[r]=i})),e):t}function ie(e,t){return null!==e&&"object"==typeof e&&t.indexOf(e)<0&&(e=Array.isArray(e)?e.slice(0):Object(o.a)({__proto__:Object.getPrototypeOf(e)},e),t.push(e)),e}Object.create({})}).call(this,n(15))},20:function(e,t,n){(function(e,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",c="[object Array]",l="[object Boolean]",f="[object Date]",h="[object Error]",d="[object Function]",p="[object GeneratorFunction]",v="[object Map]",m="[object Number]",y="[object Object]",g="[object RegExp]",b="[object Set]",_="[object String]",w="[object Symbol]",k="[object WeakMap]",x="[object ArrayBuffer]",S="[object DataView]",O="[object Float32Array]",E="[object Float64Array]",T="[object Int8Array]",I="[object Int16Array]",A="[object Int32Array]",j="[object Uint8Array]",D="[object Uint16Array]",C="[object Uint32Array]",R=/\b__p \+= '';/g,N=/\b(__p \+=) '' \+/g,P=/(__e\(.*?\)|\b__t\)) \+\n'';/g,M=/&(?:amp|lt|gt|quot|#39);/g,L=/[&<>"']/g,q=RegExp(M.source),F=RegExp(L.source),$=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,U=/<%=([\s\S]+?)%>/g,V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,G=/^\w*$/,B=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,W=/[\\^$.*+?()[\]{}|]/g,z=RegExp(W.source),H=/^\s+/,K=/\s/,J=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Y=/\{\n\/\* \[wrapped with (.+)\] \*/,Z=/,? & /,X=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ee=/[()=,{}\[\]\/\s]/,te=/\\(\\)?/g,ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,re=/\w*$/,ie=/^[-+]0x[0-9a-f]+$/i,oe=/^0b[01]+$/i,ae=/^\[object .+?Constructor\]$/,se=/^0o[0-7]+$/i,ue=/^(?:0|[1-9]\d*)$/,ce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,le=/($^)/,fe=/['\n\r\u2028\u2029\\]/g,he="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",de="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pe="[\\ud800-\\udfff]",ve="["+de+"]",me="["+he+"]",ye="\\d+",ge="[\\u2700-\\u27bf]",be="[a-z\\xdf-\\xf6\\xf8-\\xff]",_e="[^\\ud800-\\udfff"+de+ye+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",we="\\ud83c[\\udffb-\\udfff]",ke="[^\\ud800-\\udfff]",xe="(?:\\ud83c[\\udde6-\\uddff]){2}",Se="[\\ud800-\\udbff][\\udc00-\\udfff]",Oe="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ee="(?:"+be+"|"+_e+")",Te="(?:"+Oe+"|"+_e+")",Ie="(?:"+me+"|"+we+")"+"?",Ae="[\\ufe0e\\ufe0f]?"+Ie+("(?:\\u200d(?:"+[ke,xe,Se].join("|")+")[\\ufe0e\\ufe0f]?"+Ie+")*"),je="(?:"+[ge,xe,Se].join("|")+")"+Ae,De="(?:"+[ke+me+"?",me,xe,Se,pe].join("|")+")",Ce=RegExp("[']","g"),Re=RegExp(me,"g"),Ne=RegExp(we+"(?="+we+")|"+De+Ae,"g"),Pe=RegExp([Oe+"?"+be+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[ve,Oe,"$"].join("|")+")",Te+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[ve,Oe+Ee,"$"].join("|")+")",Oe+"?"+Ee+"+(?:['](?:d|ll|m|re|s|t|ve))?",Oe+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ye,je].join("|"),"g"),Me=RegExp("[\\u200d\\ud800-\\udfff"+he+"\\ufe0e\\ufe0f]"),Le=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Fe=-1,$e={};$e[O]=$e[E]=$e[T]=$e[I]=$e[A]=$e[j]=$e["[object Uint8ClampedArray]"]=$e[D]=$e[C]=!0,$e[u]=$e[c]=$e[x]=$e[l]=$e[S]=$e[f]=$e[h]=$e[d]=$e[v]=$e[m]=$e[y]=$e[g]=$e[b]=$e[_]=$e[k]=!1;var Qe={};Qe[u]=Qe[c]=Qe[x]=Qe[S]=Qe[l]=Qe[f]=Qe[O]=Qe[E]=Qe[T]=Qe[I]=Qe[A]=Qe[v]=Qe[m]=Qe[y]=Qe[g]=Qe[b]=Qe[_]=Qe[w]=Qe[j]=Qe["[object Uint8ClampedArray]"]=Qe[D]=Qe[C]=!0,Qe[h]=Qe[d]=Qe[k]=!1;var Ue={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ve=parseFloat,Ge=parseInt,Be="object"==typeof e&&e&&e.Object===Object&&e,We="object"==typeof self&&self&&self.Object===Object&&self,ze=Be||We||Function("return this")(),He=t&&!t.nodeType&&t,Ke=He&&"object"==typeof r&&r&&!r.nodeType&&r,Je=Ke&&Ke.exports===He,Ye=Je&&Be.process,Ze=function(){try{var e=Ke&&Ke.require&&Ke.require("util").types;return e||Ye&&Ye.binding&&Ye.binding("util")}catch(e){}}(),Xe=Ze&&Ze.isArrayBuffer,et=Ze&&Ze.isDate,tt=Ze&&Ze.isMap,nt=Ze&&Ze.isRegExp,rt=Ze&&Ze.isSet,it=Ze&&Ze.isTypedArray;function ot(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function at(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function st(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function ut(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function lt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function ft(e,t){return!!(null==e?0:e.length)&&wt(e,t,0)>-1}function ht(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function dt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function pt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function vt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function mt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function yt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var gt=Ot("length");function bt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function _t(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function wt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):_t(e,xt,n)}function kt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function xt(e){return e!=e}function St(e,t){var n=null==e?0:e.length;return n?It(e,t)/n:NaN}function Ot(e){return function(t){return null==t?void 0:t[e]}}function Et(e){return function(t){return null==e?void 0:e[t]}}function Tt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function It(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function At(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function jt(e){return e?e.slice(0,Ht(e)+1).replace(H,""):e}function Dt(e){return function(t){return e(t)}}function Ct(e,t){return dt(t,(function(t){return e[t]}))}function Rt(e,t){return e.has(t)}function Nt(e,t){for(var n=-1,r=e.length;++n<r&&wt(t,e[n],0)>-1;);return n}function Pt(e,t){for(var n=e.length;n--&&wt(t,e[n],0)>-1;);return n}function Mt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Lt=Et({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),qt=Et({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ft(e){return"\\"+Ue[e]}function $t(e){return Me.test(e)}function Qt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Ut(e,t){return function(n){return e(t(n))}}function Vt(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function Gt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Bt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Wt(e){return $t(e)?function(e){var t=Ne.lastIndex=0;for(;Ne.test(e);)++t;return t}(e):gt(e)}function zt(e){return $t(e)?function(e){return e.match(Ne)||[]}(e):function(e){return e.split("")}(e)}function Ht(e){for(var t=e.length;t--&&K.test(e.charAt(t)););return t}var Kt=Et({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Jt=function e(t){var n,r=(t=null==t?ze:Jt.defaults(ze.Object(),t,Jt.pick(ze,qe))).Array,i=t.Date,K=t.Error,he=t.Function,de=t.Math,pe=t.Object,ve=t.RegExp,me=t.String,ye=t.TypeError,ge=r.prototype,be=he.prototype,_e=pe.prototype,we=t["__core-js_shared__"],ke=be.toString,xe=_e.hasOwnProperty,Se=0,Oe=(n=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ee=_e.toString,Te=ke.call(pe),Ie=ze._,Ae=ve("^"+ke.call(xe).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),je=Je?t.Buffer:void 0,De=t.Symbol,Ne=t.Uint8Array,Me=je?je.allocUnsafe:void 0,Ue=Ut(pe.getPrototypeOf,pe),Be=pe.create,We=_e.propertyIsEnumerable,He=ge.splice,Ke=De?De.isConcatSpreadable:void 0,Ye=De?De.iterator:void 0,Ze=De?De.toStringTag:void 0,gt=function(){try{var e=eo(pe,"defineProperty");return e({},"",{}),e}catch(e){}}(),Et=t.clearTimeout!==ze.clearTimeout&&t.clearTimeout,Yt=i&&i.now!==ze.Date.now&&i.now,Zt=t.setTimeout!==ze.setTimeout&&t.setTimeout,Xt=de.ceil,en=de.floor,tn=pe.getOwnPropertySymbols,nn=je?je.isBuffer:void 0,rn=t.isFinite,on=ge.join,an=Ut(pe.keys,pe),sn=de.max,un=de.min,cn=i.now,ln=t.parseInt,fn=de.random,hn=ge.reverse,dn=eo(t,"DataView"),pn=eo(t,"Map"),vn=eo(t,"Promise"),mn=eo(t,"Set"),yn=eo(t,"WeakMap"),gn=eo(pe,"create"),bn=yn&&new yn,_n={},wn=Io(dn),kn=Io(pn),xn=Io(vn),Sn=Io(mn),On=Io(yn),En=De?De.prototype:void 0,Tn=En?En.valueOf:void 0,In=En?En.toString:void 0;function An(e){if(Ba(e)&&!Na(e)&&!(e instanceof Rn)){if(e instanceof Cn)return e;if(xe.call(e,"__wrapped__"))return Ao(e)}return new Cn(e)}var jn=function(){function e(){}return function(t){if(!Ga(t))return{};if(Be)return Be(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Dn(){}function Cn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Rn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Pn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Mn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ln(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Mn;++t<n;)this.add(e[t])}function qn(e){var t=this.__data__=new Pn(e);this.size=t.size}function Fn(e,t){var n=Na(e),r=!n&&Ra(e),i=!n&&!r&&qa(e),o=!n&&!r&&!i&&Xa(e),a=n||r||i||o,s=a?At(e.length,me):[],u=s.length;for(var c in e)!t&&!xe.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||so(c,u))||s.push(c);return s}function $n(e){var t=e.length;return t?e[Lr(0,t-1)]:void 0}function Qn(e,t){return Oo(gi(e),Jn(t,0,e.length))}function Un(e){return Oo(gi(e))}function Vn(e,t,n){(void 0!==n&&!ja(e[t],n)||void 0===n&&!(t in e))&&Hn(e,t,n)}function Gn(e,t,n){var r=e[t];xe.call(e,t)&&ja(r,n)&&(void 0!==n||t in e)||Hn(e,t,n)}function Bn(e,t){for(var n=e.length;n--;)if(ja(e[n][0],t))return n;return-1}function Wn(e,t,n,r){return tr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function zn(e,t){return e&&bi(t,ws(t),e)}function Hn(e,t,n){"__proto__"==t&&gt?gt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Kn(e,t){for(var n=-1,i=t.length,o=r(i),a=null==e;++n<i;)o[n]=a?void 0:ms(e,t[n]);return o}function Jn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Yn(e,t,n,r,i,o){var a,s=1&t,c=2&t,h=4&t;if(n&&(a=i?n(e,r,i,o):n(e)),void 0!==a)return a;if(!Ga(e))return e;var k=Na(e);if(k){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&xe.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return gi(e,a)}else{var R=ro(e),N=R==d||R==p;if(qa(e))return hi(e,s);if(R==y||R==u||N&&!i){if(a=c||N?{}:oo(e),!s)return c?function(e,t){return bi(e,no(e),t)}(e,function(e,t){return e&&bi(t,ks(t),e)}(a,e)):function(e,t){return bi(e,to(e),t)}(e,zn(a,e))}else{if(!Qe[R])return i?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case x:return di(e);case l:case f:return new r(+e);case S:return function(e,t){var n=t?di(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case O:case E:case T:case I:case A:case j:case"[object Uint8ClampedArray]":case D:case C:return pi(e,n);case v:return new r;case m:case _:return new r(e);case g:return function(e){var t=new e.constructor(e.source,re.exec(e));return t.lastIndex=e.lastIndex,t}(e);case b:return new r;case w:return i=e,Tn?pe(Tn.call(i)):{}}var i}(e,R,s)}}o||(o=new qn);var P=o.get(e);if(P)return P;o.set(e,a),Ja(e)?e.forEach((function(r){a.add(Yn(r,t,n,r,e,o))})):Wa(e)&&e.forEach((function(r,i){a.set(i,Yn(r,t,n,i,e,o))}));var M=k?void 0:(h?c?zi:Wi:c?ks:ws)(e);return st(M||e,(function(r,i){M&&(r=e[i=r]),Gn(a,i,Yn(r,t,n,i,e,o))})),a}function Zn(e,t,n){var r=n.length;if(null==e)return!r;for(e=pe(e);r--;){var i=n[r],o=t[i],a=e[i];if(void 0===a&&!(i in e)||!o(a))return!1}return!0}function Xn(e,t,n){if("function"!=typeof e)throw new ye(o);return wo((function(){e.apply(void 0,n)}),t)}function er(e,t,n,r){var i=-1,o=ft,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=dt(t,Dt(n))),r?(o=ht,a=!1):t.length>=200&&(o=Rt,a=!1,t=new Ln(t));e:for(;++i<s;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var h=c;h--;)if(t[h]===f)continue e;u.push(l)}else o(t,f,r)||u.push(l)}return u}An.templateSettings={escape:$,evaluate:Q,interpolate:U,variable:"",imports:{_:An}},An.prototype=Dn.prototype,An.prototype.constructor=An,Cn.prototype=jn(Dn.prototype),Cn.prototype.constructor=Cn,Rn.prototype=jn(Dn.prototype),Rn.prototype.constructor=Rn,Nn.prototype.clear=function(){this.__data__=gn?gn(null):{},this.size=0},Nn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Nn.prototype.get=function(e){var t=this.__data__;if(gn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return xe.call(t,e)?t[e]:void 0},Nn.prototype.has=function(e){var t=this.__data__;return gn?void 0!==t[e]:xe.call(t,e)},Nn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=gn&&void 0===t?"__lodash_hash_undefined__":t,this},Pn.prototype.clear=function(){this.__data__=[],this.size=0},Pn.prototype.delete=function(e){var t=this.__data__,n=Bn(t,e);return!(n<0)&&(n==t.length-1?t.pop():He.call(t,n,1),--this.size,!0)},Pn.prototype.get=function(e){var t=this.__data__,n=Bn(t,e);return n<0?void 0:t[n][1]},Pn.prototype.has=function(e){return Bn(this.__data__,e)>-1},Pn.prototype.set=function(e,t){var n=this.__data__,r=Bn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Mn.prototype.clear=function(){this.size=0,this.__data__={hash:new Nn,map:new(pn||Pn),string:new Nn}},Mn.prototype.delete=function(e){var t=Zi(this,e).delete(e);return this.size-=t?1:0,t},Mn.prototype.get=function(e){return Zi(this,e).get(e)},Mn.prototype.has=function(e){return Zi(this,e).has(e)},Mn.prototype.set=function(e,t){var n=Zi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ln.prototype.add=Ln.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ln.prototype.has=function(e){return this.__data__.has(e)},qn.prototype.clear=function(){this.__data__=new Pn,this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},qn.prototype.get=function(e){return this.__data__.get(e)},qn.prototype.has=function(e){return this.__data__.has(e)},qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Pn){var r=n.__data__;if(!pn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Mn(r)}return n.set(e,t),this.size=n.size,this};var tr=ki(cr),nr=ki(lr,!0);function rr(e,t){var n=!0;return tr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function ir(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!Za(a):n(a,s)))var s=a,u=o}return u}function or(e,t){var n=[];return tr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function ar(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=ao),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?ar(s,t-1,n,r,i):pt(i,s):r||(i[i.length]=s)}return i}var sr=xi(),ur=xi(!0);function cr(e,t){return e&&sr(e,t,ws)}function lr(e,t){return e&&ur(e,t,ws)}function fr(e,t){return lt(t,(function(t){return Qa(e[t])}))}function hr(e,t){for(var n=0,r=(t=ui(t,e)).length;null!=e&&n<r;)e=e[To(t[n++])];return n&&n==r?e:void 0}function dr(e,t,n){var r=t(e);return Na(e)?r:pt(r,n(e))}function pr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ze&&Ze in pe(e)?function(e){var t=xe.call(e,Ze),n=e[Ze];try{e[Ze]=void 0;var r=!0}catch(e){}var i=Ee.call(e);r&&(t?e[Ze]=n:delete e[Ze]);return i}(e):function(e){return Ee.call(e)}(e)}function vr(e,t){return e>t}function mr(e,t){return null!=e&&xe.call(e,t)}function yr(e,t){return null!=e&&t in pe(e)}function gr(e,t,n){for(var i=n?ht:ft,o=e[0].length,a=e.length,s=a,u=r(a),c=1/0,l=[];s--;){var f=e[s];s&&t&&(f=dt(f,Dt(t))),c=un(f.length,c),u[s]=!n&&(t||o>=120&&f.length>=120)?new Ln(s&&f):void 0}f=e[0];var h=-1,d=u[0];e:for(;++h<o&&l.length<c;){var p=f[h],v=t?t(p):p;if(p=n||0!==p?p:0,!(d?Rt(d,v):i(l,v,n))){for(s=a;--s;){var m=u[s];if(!(m?Rt(m,v):i(e[s],v,n)))continue e}d&&d.push(v),l.push(p)}}return l}function br(e,t,n){var r=null==(e=yo(e,t=ui(t,e)))?e:e[To($o(t))];return null==r?void 0:ot(r,e,n)}function _r(e){return Ba(e)&&pr(e)==u}function wr(e,t,n,r,i){return e===t||(null==e||null==t||!Ba(e)&&!Ba(t)?e!=e&&t!=t:function(e,t,n,r,i,o){var a=Na(e),s=Na(t),d=a?c:ro(e),p=s?c:ro(t),k=(d=d==u?y:d)==y,O=(p=p==u?y:p)==y,E=d==p;if(E&&qa(e)){if(!qa(t))return!1;a=!0,k=!1}if(E&&!k)return o||(o=new qn),a||Xa(e)?Gi(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!o(new Ne(e),new Ne(t)));case l:case f:case m:return ja(+e,+t);case h:return e.name==t.name&&e.message==t.message;case g:case _:return e==t+"";case v:var s=Qt;case b:var u=1&r;if(s||(s=Gt),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var d=Gi(s(e),s(t),r,i,o,a);return a.delete(e),d;case w:if(Tn)return Tn.call(e)==Tn.call(t)}return!1}(e,t,d,n,r,i,o);if(!(1&n)){var T=k&&xe.call(e,"__wrapped__"),I=O&&xe.call(t,"__wrapped__");if(T||I){var A=T?e.value():e,j=I?t.value():t;return o||(o=new qn),i(A,j,n,r,o)}}if(!E)return!1;return o||(o=new qn),function(e,t,n,r,i,o){var a=1&n,s=Wi(e),u=s.length,c=Wi(t).length;if(u!=c&&!a)return!1;var l=u;for(;l--;){var f=s[l];if(!(a?f in t:xe.call(t,f)))return!1}var h=o.get(e),d=o.get(t);if(h&&d)return h==t&&d==e;var p=!0;o.set(e,t),o.set(t,e);var v=a;for(;++l<u;){f=s[l];var m=e[f],y=t[f];if(r)var g=a?r(y,m,f,t,e,o):r(m,y,f,e,t,o);if(!(void 0===g?m===y||i(m,y,n,r,o):g)){p=!1;break}v||(v="constructor"==f)}if(p&&!v){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,i,o)}(e,t,n,r,wr,i))}function kr(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=pe(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var f=new qn;if(r)var h=r(c,l,u,e,t,f);if(!(void 0===h?wr(l,c,3,r,f):h))return!1}}return!0}function xr(e){return!(!Ga(e)||(t=e,Oe&&Oe in t))&&(Qa(e)?Ae:ae).test(Io(e));var t}function Sr(e){return"function"==typeof e?e:null==e?zs:"object"==typeof e?Na(e)?jr(e[0],e[1]):Ar(e):nu(e)}function Or(e){if(!ho(e))return an(e);var t=[];for(var n in pe(e))xe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Er(e){if(!Ga(e))return function(e){var t=[];if(null!=e)for(var n in pe(e))t.push(n);return t}(e);var t=ho(e),n=[];for(var r in e)("constructor"!=r||!t&&xe.call(e,r))&&n.push(r);return n}function Tr(e,t){return e<t}function Ir(e,t){var n=-1,i=Ma(e)?r(e.length):[];return tr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Ar(e){var t=Xi(e);return 1==t.length&&t[0][2]?vo(t[0][0],t[0][1]):function(n){return n===e||kr(n,e,t)}}function jr(e,t){return co(e)&&po(t)?vo(To(e),t):function(n){var r=ms(n,e);return void 0===r&&r===t?ys(n,e):wr(t,r,3)}}function Dr(e,t,n,r,i){e!==t&&sr(t,(function(o,a){if(i||(i=new qn),Ga(o))!function(e,t,n,r,i,o,a){var s=bo(e,n),u=bo(t,n),c=a.get(u);if(c)return void Vn(e,n,c);var l=o?o(s,u,n+"",e,t,a):void 0,f=void 0===l;if(f){var h=Na(u),d=!h&&qa(u),p=!h&&!d&&Xa(u);l=u,h||d||p?Na(s)?l=s:La(s)?l=gi(s):d?(f=!1,l=hi(u,!0)):p?(f=!1,l=pi(u,!0)):l=[]:Ha(u)||Ra(u)?(l=s,Ra(s)?l=ss(s):Ga(s)&&!Qa(s)||(l=oo(u))):f=!1}f&&(a.set(u,l),i(l,u,r,o,a),a.delete(u));Vn(e,n,l)}(e,t,a,n,Dr,r,i);else{var s=r?r(bo(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),Vn(e,a,s)}}),ks)}function Cr(e,t){var n=e.length;if(n)return so(t+=t<0?n:0,n)?e[t]:void 0}function Rr(e,t,n){t=t.length?dt(t,(function(e){return Na(e)?function(t){return hr(t,1===e.length?e[0]:e)}:e})):[zs];var r=-1;return t=dt(t,Dt(Yi())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ir(e,(function(e,n,i){return{criteria:dt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var u=vi(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)}))}function Nr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=hr(e,a);n(s,a)&&Ur(o,ui(a,e),s)}return o}function Pr(e,t,n,r){var i=r?kt:wt,o=-1,a=t.length,s=e;for(e===t&&(t=gi(t)),n&&(s=dt(e,Dt(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&He.call(s,u,1),He.call(e,u,1);return e}function Mr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;so(i)?He.call(e,i,1):ei(e,i)}}return e}function Lr(e,t){return e+en(fn()*(t-e+1))}function qr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=en(t/2))&&(e+=e)}while(t);return n}function Fr(e,t){return ko(mo(e,t,zs),e+"")}function $r(e){return $n(js(e))}function Qr(e,t){var n=js(e);return Oo(n,Jn(t,0,n.length))}function Ur(e,t,n,r){if(!Ga(e))return e;for(var i=-1,o=(t=ui(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=To(t[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=Ga(l)?l:so(t[i+1])?[]:{})}Gn(s,u,c),s=s[u]}return e}var Vr=bn?function(e,t){return bn.set(e,t),e}:zs,Gr=gt?function(e,t){return gt(e,"toString",{configurable:!0,enumerable:!1,value:Gs(t),writable:!0})}:zs;function Br(e){return Oo(js(e))}function Wr(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function zr(e,t){var n;return tr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Hr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!Za(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return Kr(e,t,zs,n)}function Kr(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=n(t))!=t,s=null===t,u=Za(t),c=void 0===t;i<o;){var l=en((i+o)/2),f=n(e[l]),h=void 0!==f,d=null===f,p=f==f,v=Za(f);if(a)var m=r||p;else m=c?p&&(r||h):s?p&&h&&(r||!d):u?p&&h&&!d&&(r||!v):!d&&!v&&(r?f<=t:f<t);m?i=l+1:o=l}return un(o,4294967294)}function Jr(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!ja(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Yr(e){return"number"==typeof e?e:Za(e)?NaN:+e}function Zr(e){if("string"==typeof e)return e;if(Na(e))return dt(e,Zr)+"";if(Za(e))return In?In.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Xr(e,t,n){var r=-1,i=ft,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=ht;else if(o>=200){var c=t?null:qi(e);if(c)return Gt(c);a=!1,i=Rt,u=new Ln}else u=t?[]:s;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function ei(e,t){return null==(e=yo(e,t=ui(t,e)))||delete e[To($o(t))]}function ti(e,t,n,r){return Ur(e,t,n(hr(e,t)),r)}function ni(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Wr(e,r?0:o,r?o+1:i):Wr(e,r?o+1:0,r?i:o)}function ri(e,t){var n=e;return n instanceof Rn&&(n=n.value()),vt(t,(function(e,t){return t.func.apply(t.thisArg,pt([e],t.args))}),n)}function ii(e,t,n){var i=e.length;if(i<2)return i?Xr(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=er(a[o]||s,e[u],t,n));return Xr(ar(a,1),t,n)}function oi(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:void 0;n(a,e[r],s)}return a}function ai(e){return La(e)?e:[]}function si(e){return"function"==typeof e?e:zs}function ui(e,t){return Na(e)?e:co(e,t)?[e]:Eo(us(e))}var ci=Fr;function li(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Wr(e,t,n)}var fi=Et||function(e){return ze.clearTimeout(e)};function hi(e,t){if(t)return e.slice();var n=e.length,r=Me?Me(n):new e.constructor(n);return e.copy(r),r}function di(e){var t=new e.constructor(e.byteLength);return new Ne(t).set(new Ne(e)),t}function pi(e,t){var n=t?di(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function vi(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=Za(e),a=void 0!==t,s=null===t,u=t==t,c=Za(t);if(!s&&!c&&!o&&e>t||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function mi(e,t,n,i){for(var o=-1,a=e.length,s=n.length,u=-1,c=t.length,l=sn(a-s,0),f=r(c+l),h=!i;++u<c;)f[u]=t[u];for(;++o<s;)(h||o<a)&&(f[n[o]]=e[o]);for(;l--;)f[u++]=e[o++];return f}function yi(e,t,n,i){for(var o=-1,a=e.length,s=-1,u=n.length,c=-1,l=t.length,f=sn(a-u,0),h=r(f+l),d=!i;++o<f;)h[o]=e[o];for(var p=o;++c<l;)h[p+c]=t[c];for(;++s<u;)(d||o<a)&&(h[p+n[s]]=e[o++]);return h}function gi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function bi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?Hn(n,s,u):Gn(n,s,u)}return n}function _i(e,t){return function(n,r){var i=Na(n)?at:Wn,o=t?t():{};return i(n,e,Yi(r,2),o)}}function wi(e){return Fr((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&uo(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=pe(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t}))}function ki(e,t){return function(n,r){if(null==n)return n;if(!Ma(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=pe(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function xi(e){return function(t,n,r){for(var i=-1,o=pe(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function Si(e){return function(t){var n=$t(t=us(t))?zt(t):void 0,r=n?n[0]:t.charAt(0),i=n?li(n,1).join(""):t.slice(1);return r[e]()+i}}function Oi(e){return function(t){return vt(Qs(Rs(t).replace(Ce,"")),e,"")}}function Ei(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=jn(e.prototype),r=e.apply(n,t);return Ga(r)?r:n}}function Ti(e){return function(t,n,r){var i=pe(t);if(!Ma(t)){var o=Yi(n,3);t=ws(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}function Ii(e){return Bi((function(t){var n=t.length,r=n,i=Cn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new ye(o);if(i&&!s&&"wrapper"==Ki(a))var s=new Cn([],!0)}for(r=s?r:n;++r<n;){var u=Ki(a=t[r]),c="wrapper"==u?Hi(a):void 0;s=c&&lo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[Ki(c[0])].apply(s,c[3]):1==a.length&&lo(a)?s[u]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Na(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Ai(e,t,n,i,o,a,s,u,c,l){var f=128&t,h=1&t,d=2&t,p=24&t,v=512&t,m=d?void 0:Ei(e);return function y(){for(var g=arguments.length,b=r(g),_=g;_--;)b[_]=arguments[_];if(p)var w=Ji(y),k=Mt(b,w);if(i&&(b=mi(b,i,o,p)),a&&(b=yi(b,a,s,p)),g-=k,p&&g<l){var x=Vt(b,w);return Mi(e,t,Ai,y.placeholder,n,b,x,u,c,l-g)}var S=h?n:this,O=d?S[e]:e;return g=b.length,u?b=go(b,u):v&&g>1&&b.reverse(),f&&c<g&&(b.length=c),this&&this!==ze&&this instanceof y&&(O=m||Ei(O)),O.apply(S,b)}}function ji(e,t){return function(n,r){return function(e,t,n,r){return cr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Di(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Zr(n),r=Zr(r)):(n=Yr(n),r=Yr(r)),i=e(n,r)}return i}}function Ci(e){return Bi((function(t){return t=dt(t,Dt(Yi())),Fr((function(n){var r=this;return e(t,(function(e){return ot(e,r,n)}))}))}))}function Ri(e,t){var n=(t=void 0===t?" ":Zr(t)).length;if(n<2)return n?qr(t,e):t;var r=qr(t,Xt(e/Wt(t)));return $t(t)?li(zt(r),0,e).join(""):r.slice(0,e)}function Ni(e){return function(t,n,i){return i&&"number"!=typeof i&&uo(t,n,i)&&(n=i=void 0),t=rs(t),void 0===n?(n=t,t=0):n=rs(n),function(e,t,n,i){for(var o=-1,a=sn(Xt((t-e)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=e,e+=n;return s}(t,n,i=void 0===i?t<n?1:-1:rs(i),e)}}function Pi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=as(t),n=as(n)),e(t,n)}}function Mi(e,t,n,r,i,o,a,s,u,c){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var f=[e,t,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,s,u,c],h=n.apply(void 0,f);return lo(e)&&_o(h,f),h.placeholder=r,xo(h,e,t)}function Li(e){var t=de[e];return function(e,n){if(e=as(e),(n=null==n?0:un(is(n),292))&&rn(e)){var r=(us(e)+"e").split("e");return+((r=(us(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var qi=mn&&1/Gt(new mn([,-0]))[1]==1/0?function(e){return new mn(e)}:Zs;function Fi(e){return function(t){var n=ro(t);return n==v?Qt(t):n==b?Bt(t):function(e,t){return dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function $i(e,t,n,i,s,u,c,l){var f=2&t;if(!f&&"function"!=typeof e)throw new ye(o);var h=i?i.length:0;if(h||(t&=-97,i=s=void 0),c=void 0===c?c:sn(is(c),0),l=void 0===l?l:is(l),h-=s?s.length:0,64&t){var d=i,p=s;i=s=void 0}var v=f?void 0:Hi(e),m=[e,t,n,i,s,d,p,u,c,l];if(v&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?mi(c,u,t[4]):u,e[4]=c?Vt(e[3],a):t[4]}(u=t[5])&&(c=e[5],e[5]=c?yi(c,u,t[6]):u,e[6]=c?Vt(e[5],a):t[6]);(u=t[7])&&(e[7]=u);128&r&&(e[8]=null==e[8]?t[8]:un(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(m,v),e=m[0],t=m[1],n=m[2],i=m[3],s=m[4],!(l=m[9]=void 0===m[9]?f?0:e.length:sn(m[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)y=8==t||16==t?function(e,t,n){var i=Ei(e);return function o(){for(var a=arguments.length,s=r(a),u=a,c=Ji(o);u--;)s[u]=arguments[u];var l=a<3&&s[0]!==c&&s[a-1]!==c?[]:Vt(s,c);if((a-=l.length)<n)return Mi(e,t,Ai,o.placeholder,void 0,s,l,void 0,void 0,n-a);var f=this&&this!==ze&&this instanceof o?i:e;return ot(f,this,s)}}(e,t,l):32!=t&&33!=t||s.length?Ai.apply(void 0,m):function(e,t,n,i){var o=1&t,a=Ei(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=r(l+u),h=this&&this!==ze&&this instanceof t?a:e;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return ot(h,o?n:this,f)}}(e,t,n,i);else var y=function(e,t,n){var r=1&t,i=Ei(e);return function t(){var o=this&&this!==ze&&this instanceof t?i:e;return o.apply(r?n:this,arguments)}}(e,t,n);return xo((v?Vr:_o)(y,m),e,t)}function Qi(e,t,n,r){return void 0===e||ja(e,_e[n])&&!xe.call(r,n)?t:e}function Ui(e,t,n,r,i,o){return Ga(e)&&Ga(t)&&(o.set(t,e),Dr(e,t,void 0,Ui,o),o.delete(t)),e}function Vi(e){return Ha(e)?void 0:e}function Gi(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e),l=o.get(t);if(c&&l)return c==t&&l==e;var f=-1,h=!0,d=2&n?new Ln:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var p=e[f],v=t[f];if(r)var m=a?r(v,p,f,t,e,o):r(p,v,f,e,t,o);if(void 0!==m){if(m)continue;h=!1;break}if(d){if(!yt(t,(function(e,t){if(!Rt(d,t)&&(p===e||i(p,e,n,r,o)))return d.push(t)}))){h=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function Bi(e){return ko(mo(e,void 0,Po),e+"")}function Wi(e){return dr(e,ws,to)}function zi(e){return dr(e,ks,no)}var Hi=bn?function(e){return bn.get(e)}:Zs;function Ki(e){for(var t=e.name+"",n=_n[t],r=xe.call(_n,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Ji(e){return(xe.call(An,"placeholder")?An:e).placeholder}function Yi(){var e=An.iteratee||Hs;return e=e===Hs?Sr:e,arguments.length?e(arguments[0],arguments[1]):e}function Zi(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Xi(e){for(var t=ws(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,po(i)]}return t}function eo(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return xr(n)?n:void 0}var to=tn?function(e){return null==e?[]:(e=pe(e),lt(tn(e),(function(t){return We.call(e,t)})))}:ou,no=tn?function(e){for(var t=[];e;)pt(t,to(e)),e=Ue(e);return t}:ou,ro=pr;function io(e,t,n){for(var r=-1,i=(t=ui(t,e)).length,o=!1;++r<i;){var a=To(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Va(i)&&so(a,i)&&(Na(e)||Ra(e))}function oo(e){return"function"!=typeof e.constructor||ho(e)?{}:jn(Ue(e))}function ao(e){return Na(e)||Ra(e)||!!(Ke&&e&&e[Ke])}function so(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ue.test(e))&&e>-1&&e%1==0&&e<t}function uo(e,t,n){if(!Ga(n))return!1;var r=typeof t;return!!("number"==r?Ma(n)&&so(t,n.length):"string"==r&&t in n)&&ja(n[t],e)}function co(e,t){if(Na(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Za(e))||(G.test(e)||!V.test(e)||null!=t&&e in pe(t))}function lo(e){var t=Ki(e),n=An[t];if("function"!=typeof n||!(t in Rn.prototype))return!1;if(e===n)return!0;var r=Hi(n);return!!r&&e===r[0]}(dn&&ro(new dn(new ArrayBuffer(1)))!=S||pn&&ro(new pn)!=v||vn&&"[object Promise]"!=ro(vn.resolve())||mn&&ro(new mn)!=b||yn&&ro(new yn)!=k)&&(ro=function(e){var t=pr(e),n=t==y?e.constructor:void 0,r=n?Io(n):"";if(r)switch(r){case wn:return S;case kn:return v;case xn:return"[object Promise]";case Sn:return b;case On:return k}return t});var fo=we?Qa:au;function ho(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||_e)}function po(e){return e==e&&!Ga(e)}function vo(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in pe(n)))}}function mo(e,t,n){return t=sn(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=sn(i.length-t,0),s=r(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=r(t+1);++o<t;)u[o]=i[o];return u[t]=n(s),ot(e,this,u)}}function yo(e,t){return t.length<2?e:hr(e,Wr(t,0,-1))}function go(e,t){for(var n=e.length,r=un(t.length,n),i=gi(e);r--;){var o=t[r];e[r]=so(o,n)?i[o]:void 0}return e}function bo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var _o=So(Vr),wo=Zt||function(e,t){return ze.setTimeout(e,t)},ko=So(Gr);function xo(e,t,n){var r=t+"";return ko(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(J,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return st(s,(function(n){var r="_."+n[0];t&n[1]&&!ft(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(Y);return t?t[1].split(Z):[]}(r),n)))}function So(e){var t=0,n=0;return function(){var r=cn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Oo(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=Lr(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}var Eo=function(e){var t=Sa(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(B,(function(e,n,r,i){t.push(r?i.replace(te,"$1"):n||e)})),t}));function To(e){if("string"==typeof e||Za(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Io(e){if(null!=e){try{return ke.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ao(e){if(e instanceof Rn)return e.clone();var t=new Cn(e.__wrapped__,e.__chain__);return t.__actions__=gi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var jo=Fr((function(e,t){return La(e)?er(e,ar(t,1,La,!0)):[]})),Do=Fr((function(e,t){var n=$o(t);return La(n)&&(n=void 0),La(e)?er(e,ar(t,1,La,!0),Yi(n,2)):[]})),Co=Fr((function(e,t){var n=$o(t);return La(n)&&(n=void 0),La(e)?er(e,ar(t,1,La,!0),void 0,n):[]}));function Ro(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:is(n);return i<0&&(i=sn(r+i,0)),_t(e,Yi(t,3),i)}function No(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=is(n),i=n<0?sn(r+i,0):un(i,r-1)),_t(e,Yi(t,3),i,!0)}function Po(e){return(null==e?0:e.length)?ar(e,1):[]}function Mo(e){return e&&e.length?e[0]:void 0}var Lo=Fr((function(e){var t=dt(e,ai);return t.length&&t[0]===e[0]?gr(t):[]})),qo=Fr((function(e){var t=$o(e),n=dt(e,ai);return t===$o(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?gr(n,Yi(t,2)):[]})),Fo=Fr((function(e){var t=$o(e),n=dt(e,ai);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?gr(n,void 0,t):[]}));function $o(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Qo=Fr(Uo);function Uo(e,t){return e&&e.length&&t&&t.length?Pr(e,t):e}var Vo=Bi((function(e,t){var n=null==e?0:e.length,r=Kn(e,t);return Mr(e,dt(t,(function(e){return so(e,n)?+e:e})).sort(vi)),r}));function Go(e){return null==e?e:hn.call(e)}var Bo=Fr((function(e){return Xr(ar(e,1,La,!0))})),Wo=Fr((function(e){var t=$o(e);return La(t)&&(t=void 0),Xr(ar(e,1,La,!0),Yi(t,2))})),zo=Fr((function(e){var t=$o(e);return t="function"==typeof t?t:void 0,Xr(ar(e,1,La,!0),void 0,t)}));function Ho(e){if(!e||!e.length)return[];var t=0;return e=lt(e,(function(e){if(La(e))return t=sn(e.length,t),!0})),At(t,(function(t){return dt(e,Ot(t))}))}function Ko(e,t){if(!e||!e.length)return[];var n=Ho(e);return null==t?n:dt(n,(function(e){return ot(t,void 0,e)}))}var Jo=Fr((function(e,t){return La(e)?er(e,t):[]})),Yo=Fr((function(e){return ii(lt(e,La))})),Zo=Fr((function(e){var t=$o(e);return La(t)&&(t=void 0),ii(lt(e,La),Yi(t,2))})),Xo=Fr((function(e){var t=$o(e);return t="function"==typeof t?t:void 0,ii(lt(e,La),void 0,t)})),ea=Fr(Ho);var ta=Fr((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Ko(e,n)}));function na(e){var t=An(e);return t.__chain__=!0,t}function ra(e,t){return t(e)}var ia=Bi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Kn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Rn&&so(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ra,args:[i],thisArg:void 0}),new Cn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var oa=_i((function(e,t,n){xe.call(e,n)?++e[n]:Hn(e,n,1)}));var aa=Ti(Ro),sa=Ti(No);function ua(e,t){return(Na(e)?st:tr)(e,Yi(t,3))}function ca(e,t){return(Na(e)?ut:nr)(e,Yi(t,3))}var la=_i((function(e,t,n){xe.call(e,n)?e[n].push(t):Hn(e,n,[t])}));var fa=Fr((function(e,t,n){var i=-1,o="function"==typeof t,a=Ma(e)?r(e.length):[];return tr(e,(function(e){a[++i]=o?ot(t,e,n):br(e,t,n)})),a})),ha=_i((function(e,t,n){Hn(e,n,t)}));function da(e,t){return(Na(e)?dt:Ir)(e,Yi(t,3))}var pa=_i((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var va=Fr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&uo(e,t[0],t[1])?t=[]:n>2&&uo(t[0],t[1],t[2])&&(t=[t[0]]),Rr(e,ar(t,1),[])})),ma=Yt||function(){return ze.Date.now()};function ya(e,t,n){return t=n?void 0:t,$i(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function ga(e,t){var n;if("function"!=typeof t)throw new ye(o);return e=is(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var ba=Fr((function(e,t,n){var r=1;if(n.length){var i=Vt(n,Ji(ba));r|=32}return $i(e,r,t,n,i)})),_a=Fr((function(e,t,n){var r=3;if(n.length){var i=Vt(n,Ji(_a));r|=32}return $i(t,r,e,n,i)}));function wa(e,t,n){var r,i,a,s,u,c,l=0,f=!1,h=!1,d=!0;if("function"!=typeof e)throw new ye(o);function p(t){var n=r,o=i;return r=i=void 0,l=t,s=e.apply(o,n)}function v(e){return l=e,u=wo(y,t),f?p(e):s}function m(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-l>=a}function y(){var e=ma();if(m(e))return g(e);u=wo(y,function(e){var n=t-(e-c);return h?un(n,a-(e-l)):n}(e))}function g(e){return u=void 0,d&&r?p(e):(r=i=void 0,s)}function b(){var e=ma(),n=m(e);if(r=arguments,i=this,c=e,n){if(void 0===u)return v(c);if(h)return fi(u),u=wo(y,t),p(c)}return void 0===u&&(u=wo(y,t)),s}return t=as(t)||0,Ga(n)&&(f=!!n.leading,a=(h="maxWait"in n)?sn(as(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==u&&fi(u),l=0,r=c=i=u=void 0},b.flush=function(){return void 0===u?s:g(ma())},b}var ka=Fr((function(e,t){return Xn(e,1,t)})),xa=Fr((function(e,t,n){return Xn(e,as(t)||0,n)}));function Sa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ye(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Sa.Cache||Mn),n}function Oa(e){if("function"!=typeof e)throw new ye(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Sa.Cache=Mn;var Ea=ci((function(e,t){var n=(t=1==t.length&&Na(t[0])?dt(t[0],Dt(Yi())):dt(ar(t,1),Dt(Yi()))).length;return Fr((function(r){for(var i=-1,o=un(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return ot(e,this,r)}))})),Ta=Fr((function(e,t){return $i(e,32,void 0,t,Vt(t,Ji(Ta)))})),Ia=Fr((function(e,t){return $i(e,64,void 0,t,Vt(t,Ji(Ia)))})),Aa=Bi((function(e,t){return $i(e,256,void 0,void 0,void 0,t)}));function ja(e,t){return e===t||e!=e&&t!=t}var Da=Pi(vr),Ca=Pi((function(e,t){return e>=t})),Ra=_r(function(){return arguments}())?_r:function(e){return Ba(e)&&xe.call(e,"callee")&&!We.call(e,"callee")},Na=r.isArray,Pa=Xe?Dt(Xe):function(e){return Ba(e)&&pr(e)==x};function Ma(e){return null!=e&&Va(e.length)&&!Qa(e)}function La(e){return Ba(e)&&Ma(e)}var qa=nn||au,Fa=et?Dt(et):function(e){return Ba(e)&&pr(e)==f};function $a(e){if(!Ba(e))return!1;var t=pr(e);return t==h||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Ha(e)}function Qa(e){if(!Ga(e))return!1;var t=pr(e);return t==d||t==p||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ua(e){return"number"==typeof e&&e==is(e)}function Va(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ga(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ba(e){return null!=e&&"object"==typeof e}var Wa=tt?Dt(tt):function(e){return Ba(e)&&ro(e)==v};function za(e){return"number"==typeof e||Ba(e)&&pr(e)==m}function Ha(e){if(!Ba(e)||pr(e)!=y)return!1;var t=Ue(e);if(null===t)return!0;var n=xe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ke.call(n)==Te}var Ka=nt?Dt(nt):function(e){return Ba(e)&&pr(e)==g};var Ja=rt?Dt(rt):function(e){return Ba(e)&&ro(e)==b};function Ya(e){return"string"==typeof e||!Na(e)&&Ba(e)&&pr(e)==_}function Za(e){return"symbol"==typeof e||Ba(e)&&pr(e)==w}var Xa=it?Dt(it):function(e){return Ba(e)&&Va(e.length)&&!!$e[pr(e)]};var es=Pi(Tr),ts=Pi((function(e,t){return e<=t}));function ns(e){if(!e)return[];if(Ma(e))return Ya(e)?zt(e):gi(e);if(Ye&&e[Ye])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ye]());var t=ro(e);return(t==v?Qt:t==b?Gt:js)(e)}function rs(e){return e?(e=as(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function is(e){var t=rs(e),n=t%1;return t==t?n?t-n:t:0}function os(e){return e?Jn(is(e),0,4294967295):0}function as(e){if("number"==typeof e)return e;if(Za(e))return NaN;if(Ga(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ga(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=jt(e);var n=oe.test(e);return n||se.test(e)?Ge(e.slice(2),n?2:8):ie.test(e)?NaN:+e}function ss(e){return bi(e,ks(e))}function us(e){return null==e?"":Zr(e)}var cs=wi((function(e,t){if(ho(t)||Ma(t))bi(t,ws(t),e);else for(var n in t)xe.call(t,n)&&Gn(e,n,t[n])})),ls=wi((function(e,t){bi(t,ks(t),e)})),fs=wi((function(e,t,n,r){bi(t,ks(t),e,r)})),hs=wi((function(e,t,n,r){bi(t,ws(t),e,r)})),ds=Bi(Kn);var ps=Fr((function(e,t){e=pe(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&uo(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=ks(o),s=-1,u=a.length;++s<u;){var c=a[s],l=e[c];(void 0===l||ja(l,_e[c])&&!xe.call(e,c))&&(e[c]=o[c])}return e})),vs=Fr((function(e){return e.push(void 0,Ui),ot(Ss,void 0,e)}));function ms(e,t,n){var r=null==e?void 0:hr(e,t);return void 0===r?n:r}function ys(e,t){return null!=e&&io(e,t,yr)}var gs=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ee.call(t)),e[t]=n}),Gs(zs)),bs=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ee.call(t)),xe.call(e,t)?e[t].push(n):e[t]=[n]}),Yi),_s=Fr(br);function ws(e){return Ma(e)?Fn(e):Or(e)}function ks(e){return Ma(e)?Fn(e,!0):Er(e)}var xs=wi((function(e,t,n){Dr(e,t,n)})),Ss=wi((function(e,t,n,r){Dr(e,t,n,r)})),Os=Bi((function(e,t){var n={};if(null==e)return n;var r=!1;t=dt(t,(function(t){return t=ui(t,e),r||(r=t.length>1),t})),bi(e,zi(e),n),r&&(n=Yn(n,7,Vi));for(var i=t.length;i--;)ei(n,t[i]);return n}));var Es=Bi((function(e,t){return null==e?{}:function(e,t){return Nr(e,t,(function(t,n){return ys(e,n)}))}(e,t)}));function Ts(e,t){if(null==e)return{};var n=dt(zi(e),(function(e){return[e]}));return t=Yi(t),Nr(e,n,(function(e,n){return t(e,n[0])}))}var Is=Fi(ws),As=Fi(ks);function js(e){return null==e?[]:Ct(e,ws(e))}var Ds=Oi((function(e,t,n){return t=t.toLowerCase(),e+(n?Cs(t):t)}));function Cs(e){return $s(us(e).toLowerCase())}function Rs(e){return(e=us(e))&&e.replace(ce,Lt).replace(Re,"")}var Ns=Oi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ps=Oi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ms=Si("toLowerCase");var Ls=Oi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var qs=Oi((function(e,t,n){return e+(n?" ":"")+$s(t)}));var Fs=Oi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),$s=Si("toUpperCase");function Qs(e,t,n){return e=us(e),void 0===(t=n?void 0:t)?function(e){return Le.test(e)}(e)?function(e){return e.match(Pe)||[]}(e):function(e){return e.match(X)||[]}(e):e.match(t)||[]}var Us=Fr((function(e,t){try{return ot(e,void 0,t)}catch(e){return $a(e)?e:new K(e)}})),Vs=Bi((function(e,t){return st(t,(function(t){t=To(t),Hn(e,t,ba(e[t],e))})),e}));function Gs(e){return function(){return e}}var Bs=Ii(),Ws=Ii(!0);function zs(e){return e}function Hs(e){return Sr("function"==typeof e?e:Yn(e,1))}var Ks=Fr((function(e,t){return function(n){return br(n,e,t)}})),Js=Fr((function(e,t){return function(n){return br(e,n,t)}}));function Ys(e,t,n){var r=ws(t),i=fr(t,r);null!=n||Ga(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=fr(t,ws(t)));var o=!(Ga(n)&&"chain"in n&&!n.chain),a=Qa(e);return st(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=gi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,pt([this.value()],arguments))})})),e}function Zs(){}var Xs=Ci(dt),eu=Ci(ct),tu=Ci(yt);function nu(e){return co(e)?Ot(To(e)):function(e){return function(t){return hr(t,e)}}(e)}var ru=Ni(),iu=Ni(!0);function ou(){return[]}function au(){return!1}var su=Di((function(e,t){return e+t}),0),uu=Li("ceil"),cu=Di((function(e,t){return e/t}),1),lu=Li("floor");var fu,hu=Di((function(e,t){return e*t}),1),du=Li("round"),pu=Di((function(e,t){return e-t}),0);return An.after=function(e,t){if("function"!=typeof t)throw new ye(o);return e=is(e),function(){if(--e<1)return t.apply(this,arguments)}},An.ary=ya,An.assign=cs,An.assignIn=ls,An.assignInWith=fs,An.assignWith=hs,An.at=ds,An.before=ga,An.bind=ba,An.bindAll=Vs,An.bindKey=_a,An.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Na(e)?e:[e]},An.chain=na,An.chunk=function(e,t,n){t=(n?uo(e,t,n):void 0===t)?1:sn(is(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,a=0,s=r(Xt(i/t));o<i;)s[a++]=Wr(e,o,o+=t);return s},An.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},An.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return pt(Na(n)?gi(n):[n],ar(t,1))},An.cond=function(e){var t=null==e?0:e.length,n=Yi();return e=t?dt(e,(function(e){if("function"!=typeof e[1])throw new ye(o);return[n(e[0]),e[1]]})):[],Fr((function(n){for(var r=-1;++r<t;){var i=e[r];if(ot(i[0],this,n))return ot(i[1],this,n)}}))},An.conforms=function(e){return function(e){var t=ws(e);return function(n){return Zn(n,e,t)}}(Yn(e,1))},An.constant=Gs,An.countBy=oa,An.create=function(e,t){var n=jn(e);return null==t?n:zn(n,t)},An.curry=function e(t,n,r){var i=$i(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},An.curryRight=function e(t,n,r){var i=$i(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},An.debounce=wa,An.defaults=ps,An.defaultsDeep=vs,An.defer=ka,An.delay=xa,An.difference=jo,An.differenceBy=Do,An.differenceWith=Co,An.drop=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,(t=n||void 0===t?1:is(t))<0?0:t,r):[]},An.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,0,(t=r-(t=n||void 0===t?1:is(t)))<0?0:t):[]},An.dropRightWhile=function(e,t){return e&&e.length?ni(e,Yi(t,3),!0,!0):[]},An.dropWhile=function(e,t){return e&&e.length?ni(e,Yi(t,3),!0):[]},An.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&uo(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=is(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:is(r))<0&&(r+=i),r=n>r?0:os(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},An.filter=function(e,t){return(Na(e)?lt:or)(e,Yi(t,3))},An.flatMap=function(e,t){return ar(da(e,t),1)},An.flatMapDeep=function(e,t){return ar(da(e,t),1/0)},An.flatMapDepth=function(e,t,n){return n=void 0===n?1:is(n),ar(da(e,t),n)},An.flatten=Po,An.flattenDeep=function(e){return(null==e?0:e.length)?ar(e,1/0):[]},An.flattenDepth=function(e,t){return(null==e?0:e.length)?ar(e,t=void 0===t?1:is(t)):[]},An.flip=function(e){return $i(e,512)},An.flow=Bs,An.flowRight=Ws,An.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},An.functions=function(e){return null==e?[]:fr(e,ws(e))},An.functionsIn=function(e){return null==e?[]:fr(e,ks(e))},An.groupBy=la,An.initial=function(e){return(null==e?0:e.length)?Wr(e,0,-1):[]},An.intersection=Lo,An.intersectionBy=qo,An.intersectionWith=Fo,An.invert=gs,An.invertBy=bs,An.invokeMap=fa,An.iteratee=Hs,An.keyBy=ha,An.keys=ws,An.keysIn=ks,An.map=da,An.mapKeys=function(e,t){var n={};return t=Yi(t,3),cr(e,(function(e,r,i){Hn(n,t(e,r,i),e)})),n},An.mapValues=function(e,t){var n={};return t=Yi(t,3),cr(e,(function(e,r,i){Hn(n,r,t(e,r,i))})),n},An.matches=function(e){return Ar(Yn(e,1))},An.matchesProperty=function(e,t){return jr(e,Yn(t,1))},An.memoize=Sa,An.merge=xs,An.mergeWith=Ss,An.method=Ks,An.methodOf=Js,An.mixin=Ys,An.negate=Oa,An.nthArg=function(e){return e=is(e),Fr((function(t){return Cr(t,e)}))},An.omit=Os,An.omitBy=function(e,t){return Ts(e,Oa(Yi(t)))},An.once=function(e){return ga(2,e)},An.orderBy=function(e,t,n,r){return null==e?[]:(Na(t)||(t=null==t?[]:[t]),Na(n=r?void 0:n)||(n=null==n?[]:[n]),Rr(e,t,n))},An.over=Xs,An.overArgs=Ea,An.overEvery=eu,An.overSome=tu,An.partial=Ta,An.partialRight=Ia,An.partition=pa,An.pick=Es,An.pickBy=Ts,An.property=nu,An.propertyOf=function(e){return function(t){return null==e?void 0:hr(e,t)}},An.pull=Qo,An.pullAll=Uo,An.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Pr(e,t,Yi(n,2)):e},An.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Pr(e,t,void 0,n):e},An.pullAt=Vo,An.range=ru,An.rangeRight=iu,An.rearg=Aa,An.reject=function(e,t){return(Na(e)?lt:or)(e,Oa(Yi(t,3)))},An.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Yi(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Mr(e,i),n},An.rest=function(e,t){if("function"!=typeof e)throw new ye(o);return Fr(e,t=void 0===t?t:is(t))},An.reverse=Go,An.sampleSize=function(e,t,n){return t=(n?uo(e,t,n):void 0===t)?1:is(t),(Na(e)?Qn:Qr)(e,t)},An.set=function(e,t,n){return null==e?e:Ur(e,t,n)},An.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Ur(e,t,n,r)},An.shuffle=function(e){return(Na(e)?Un:Br)(e)},An.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&uo(e,t,n)?(t=0,n=r):(t=null==t?0:is(t),n=void 0===n?r:is(n)),Wr(e,t,n)):[]},An.sortBy=va,An.sortedUniq=function(e){return e&&e.length?Jr(e):[]},An.sortedUniqBy=function(e,t){return e&&e.length?Jr(e,Yi(t,2)):[]},An.split=function(e,t,n){return n&&"number"!=typeof n&&uo(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=us(e))&&("string"==typeof t||null!=t&&!Ka(t))&&!(t=Zr(t))&&$t(e)?li(zt(e),0,n):e.split(t,n):[]},An.spread=function(e,t){if("function"!=typeof e)throw new ye(o);return t=null==t?0:sn(is(t),0),Fr((function(n){var r=n[t],i=li(n,0,t);return r&&pt(i,r),ot(e,this,i)}))},An.tail=function(e){var t=null==e?0:e.length;return t?Wr(e,1,t):[]},An.take=function(e,t,n){return e&&e.length?Wr(e,0,(t=n||void 0===t?1:is(t))<0?0:t):[]},An.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,(t=r-(t=n||void 0===t?1:is(t)))<0?0:t,r):[]},An.takeRightWhile=function(e,t){return e&&e.length?ni(e,Yi(t,3),!1,!0):[]},An.takeWhile=function(e,t){return e&&e.length?ni(e,Yi(t,3)):[]},An.tap=function(e,t){return t(e),e},An.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new ye(o);return Ga(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),wa(e,t,{leading:r,maxWait:t,trailing:i})},An.thru=ra,An.toArray=ns,An.toPairs=Is,An.toPairsIn=As,An.toPath=function(e){return Na(e)?dt(e,To):Za(e)?[e]:gi(Eo(us(e)))},An.toPlainObject=ss,An.transform=function(e,t,n){var r=Na(e),i=r||qa(e)||Xa(e);if(t=Yi(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Ga(e)&&Qa(o)?jn(Ue(e)):{}}return(i?st:cr)(e,(function(e,r,i){return t(n,e,r,i)})),n},An.unary=function(e){return ya(e,1)},An.union=Bo,An.unionBy=Wo,An.unionWith=zo,An.uniq=function(e){return e&&e.length?Xr(e):[]},An.uniqBy=function(e,t){return e&&e.length?Xr(e,Yi(t,2)):[]},An.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Xr(e,void 0,t):[]},An.unset=function(e,t){return null==e||ei(e,t)},An.unzip=Ho,An.unzipWith=Ko,An.update=function(e,t,n){return null==e?e:ti(e,t,si(n))},An.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:ti(e,t,si(n),r)},An.values=js,An.valuesIn=function(e){return null==e?[]:Ct(e,ks(e))},An.without=Jo,An.words=Qs,An.wrap=function(e,t){return Ta(si(t),e)},An.xor=Yo,An.xorBy=Zo,An.xorWith=Xo,An.zip=ea,An.zipObject=function(e,t){return oi(e||[],t||[],Gn)},An.zipObjectDeep=function(e,t){return oi(e||[],t||[],Ur)},An.zipWith=ta,An.entries=Is,An.entriesIn=As,An.extend=ls,An.extendWith=fs,Ys(An,An),An.add=su,An.attempt=Us,An.camelCase=Ds,An.capitalize=Cs,An.ceil=uu,An.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=as(n))==n?n:0),void 0!==t&&(t=(t=as(t))==t?t:0),Jn(as(e),t,n)},An.clone=function(e){return Yn(e,4)},An.cloneDeep=function(e){return Yn(e,5)},An.cloneDeepWith=function(e,t){return Yn(e,5,t="function"==typeof t?t:void 0)},An.cloneWith=function(e,t){return Yn(e,4,t="function"==typeof t?t:void 0)},An.conformsTo=function(e,t){return null==t||Zn(e,t,ws(t))},An.deburr=Rs,An.defaultTo=function(e,t){return null==e||e!=e?t:e},An.divide=cu,An.endsWith=function(e,t,n){e=us(e),t=Zr(t);var r=e.length,i=n=void 0===n?r:Jn(is(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},An.eq=ja,An.escape=function(e){return(e=us(e))&&F.test(e)?e.replace(L,qt):e},An.escapeRegExp=function(e){return(e=us(e))&&z.test(e)?e.replace(W,"\\$&"):e},An.every=function(e,t,n){var r=Na(e)?ct:rr;return n&&uo(e,t,n)&&(t=void 0),r(e,Yi(t,3))},An.find=aa,An.findIndex=Ro,An.findKey=function(e,t){return bt(e,Yi(t,3),cr)},An.findLast=sa,An.findLastIndex=No,An.findLastKey=function(e,t){return bt(e,Yi(t,3),lr)},An.floor=lu,An.forEach=ua,An.forEachRight=ca,An.forIn=function(e,t){return null==e?e:sr(e,Yi(t,3),ks)},An.forInRight=function(e,t){return null==e?e:ur(e,Yi(t,3),ks)},An.forOwn=function(e,t){return e&&cr(e,Yi(t,3))},An.forOwnRight=function(e,t){return e&&lr(e,Yi(t,3))},An.get=ms,An.gt=Da,An.gte=Ca,An.has=function(e,t){return null!=e&&io(e,t,mr)},An.hasIn=ys,An.head=Mo,An.identity=zs,An.includes=function(e,t,n,r){e=Ma(e)?e:js(e),n=n&&!r?is(n):0;var i=e.length;return n<0&&(n=sn(i+n,0)),Ya(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&wt(e,t,n)>-1},An.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:is(n);return i<0&&(i=sn(r+i,0)),wt(e,t,i)},An.inRange=function(e,t,n){return t=rs(t),void 0===n?(n=t,t=0):n=rs(n),function(e,t,n){return e>=un(t,n)&&e<sn(t,n)}(e=as(e),t,n)},An.invoke=_s,An.isArguments=Ra,An.isArray=Na,An.isArrayBuffer=Pa,An.isArrayLike=Ma,An.isArrayLikeObject=La,An.isBoolean=function(e){return!0===e||!1===e||Ba(e)&&pr(e)==l},An.isBuffer=qa,An.isDate=Fa,An.isElement=function(e){return Ba(e)&&1===e.nodeType&&!Ha(e)},An.isEmpty=function(e){if(null==e)return!0;if(Ma(e)&&(Na(e)||"string"==typeof e||"function"==typeof e.splice||qa(e)||Xa(e)||Ra(e)))return!e.length;var t=ro(e);if(t==v||t==b)return!e.size;if(ho(e))return!Or(e).length;for(var n in e)if(xe.call(e,n))return!1;return!0},An.isEqual=function(e,t){return wr(e,t)},An.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?wr(e,t,void 0,n):!!r},An.isError=$a,An.isFinite=function(e){return"number"==typeof e&&rn(e)},An.isFunction=Qa,An.isInteger=Ua,An.isLength=Va,An.isMap=Wa,An.isMatch=function(e,t){return e===t||kr(e,t,Xi(t))},An.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,kr(e,t,Xi(t),n)},An.isNaN=function(e){return za(e)&&e!=+e},An.isNative=function(e){if(fo(e))throw new K("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xr(e)},An.isNil=function(e){return null==e},An.isNull=function(e){return null===e},An.isNumber=za,An.isObject=Ga,An.isObjectLike=Ba,An.isPlainObject=Ha,An.isRegExp=Ka,An.isSafeInteger=function(e){return Ua(e)&&e>=-9007199254740991&&e<=9007199254740991},An.isSet=Ja,An.isString=Ya,An.isSymbol=Za,An.isTypedArray=Xa,An.isUndefined=function(e){return void 0===e},An.isWeakMap=function(e){return Ba(e)&&ro(e)==k},An.isWeakSet=function(e){return Ba(e)&&"[object WeakSet]"==pr(e)},An.join=function(e,t){return null==e?"":on.call(e,t)},An.kebabCase=Ns,An.last=$o,An.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=is(n))<0?sn(r+i,0):un(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):_t(e,xt,i,!0)},An.lowerCase=Ps,An.lowerFirst=Ms,An.lt=es,An.lte=ts,An.max=function(e){return e&&e.length?ir(e,zs,vr):void 0},An.maxBy=function(e,t){return e&&e.length?ir(e,Yi(t,2),vr):void 0},An.mean=function(e){return St(e,zs)},An.meanBy=function(e,t){return St(e,Yi(t,2))},An.min=function(e){return e&&e.length?ir(e,zs,Tr):void 0},An.minBy=function(e,t){return e&&e.length?ir(e,Yi(t,2),Tr):void 0},An.stubArray=ou,An.stubFalse=au,An.stubObject=function(){return{}},An.stubString=function(){return""},An.stubTrue=function(){return!0},An.multiply=hu,An.nth=function(e,t){return e&&e.length?Cr(e,is(t)):void 0},An.noConflict=function(){return ze._===this&&(ze._=Ie),this},An.noop=Zs,An.now=ma,An.pad=function(e,t,n){e=us(e);var r=(t=is(t))?Wt(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ri(en(i),n)+e+Ri(Xt(i),n)},An.padEnd=function(e,t,n){e=us(e);var r=(t=is(t))?Wt(e):0;return t&&r<t?e+Ri(t-r,n):e},An.padStart=function(e,t,n){e=us(e);var r=(t=is(t))?Wt(e):0;return t&&r<t?Ri(t-r,n)+e:e},An.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),ln(us(e).replace(H,""),t||0)},An.random=function(e,t,n){if(n&&"boolean"!=typeof n&&uo(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=rs(e),void 0===t?(t=e,e=0):t=rs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=fn();return un(e+i*(t-e+Ve("1e-"+((i+"").length-1))),t)}return Lr(e,t)},An.reduce=function(e,t,n){var r=Na(e)?vt:Tt,i=arguments.length<3;return r(e,Yi(t,4),n,i,tr)},An.reduceRight=function(e,t,n){var r=Na(e)?mt:Tt,i=arguments.length<3;return r(e,Yi(t,4),n,i,nr)},An.repeat=function(e,t,n){return t=(n?uo(e,t,n):void 0===t)?1:is(t),qr(us(e),t)},An.replace=function(){var e=arguments,t=us(e[0]);return e.length<3?t:t.replace(e[1],e[2])},An.result=function(e,t,n){var r=-1,i=(t=ui(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[To(t[r])];void 0===o&&(r=i,o=n),e=Qa(o)?o.call(e):o}return e},An.round=du,An.runInContext=e,An.sample=function(e){return(Na(e)?$n:$r)(e)},An.size=function(e){if(null==e)return 0;if(Ma(e))return Ya(e)?Wt(e):e.length;var t=ro(e);return t==v||t==b?e.size:Or(e).length},An.snakeCase=Ls,An.some=function(e,t,n){var r=Na(e)?yt:zr;return n&&uo(e,t,n)&&(t=void 0),r(e,Yi(t,3))},An.sortedIndex=function(e,t){return Hr(e,t)},An.sortedIndexBy=function(e,t,n){return Kr(e,t,Yi(n,2))},An.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Hr(e,t);if(r<n&&ja(e[r],t))return r}return-1},An.sortedLastIndex=function(e,t){return Hr(e,t,!0)},An.sortedLastIndexBy=function(e,t,n){return Kr(e,t,Yi(n,2),!0)},An.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Hr(e,t,!0)-1;if(ja(e[n],t))return n}return-1},An.startCase=qs,An.startsWith=function(e,t,n){return e=us(e),n=null==n?0:Jn(is(n),0,e.length),t=Zr(t),e.slice(n,n+t.length)==t},An.subtract=pu,An.sum=function(e){return e&&e.length?It(e,zs):0},An.sumBy=function(e,t){return e&&e.length?It(e,Yi(t,2)):0},An.template=function(e,t,n){var r=An.templateSettings;n&&uo(e,t,n)&&(t=void 0),e=us(e),t=fs({},t,r,Qi);var i,o,a=fs({},t.imports,r.imports,Qi),s=ws(a),u=Ct(a,s),c=0,l=t.interpolate||le,f="__p += '",h=ve((t.escape||le).source+"|"+l.source+"|"+(l===U?ne:le).source+"|"+(t.evaluate||le).source+"|$","g"),d="//# sourceURL="+(xe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Fe+"]")+"\n";e.replace(h,(function(t,n,r,a,s,u){return r||(r=a),f+=e.slice(c,u).replace(fe,Ft),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),f+="';\n";var p=xe.call(t,"variable")&&t.variable;if(p){if(ee.test(p))throw new K("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(R,""):f).replace(N,"$1").replace(P,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Us((function(){return he(s,d+"return "+f).apply(void 0,u)}));if(v.source=f,$a(v))throw v;return v},An.times=function(e,t){if((e=is(e))<1||e>9007199254740991)return[];var n=4294967295,r=un(e,4294967295);e-=4294967295;for(var i=At(r,t=Yi(t));++n<e;)t(n);return i},An.toFinite=rs,An.toInteger=is,An.toLength=os,An.toLower=function(e){return us(e).toLowerCase()},An.toNumber=as,An.toSafeInteger=function(e){return e?Jn(is(e),-9007199254740991,9007199254740991):0===e?e:0},An.toString=us,An.toUpper=function(e){return us(e).toUpperCase()},An.trim=function(e,t,n){if((e=us(e))&&(n||void 0===t))return jt(e);if(!e||!(t=Zr(t)))return e;var r=zt(e),i=zt(t);return li(r,Nt(r,i),Pt(r,i)+1).join("")},An.trimEnd=function(e,t,n){if((e=us(e))&&(n||void 0===t))return e.slice(0,Ht(e)+1);if(!e||!(t=Zr(t)))return e;var r=zt(e);return li(r,0,Pt(r,zt(t))+1).join("")},An.trimStart=function(e,t,n){if((e=us(e))&&(n||void 0===t))return e.replace(H,"");if(!e||!(t=Zr(t)))return e;var r=zt(e);return li(r,Nt(r,zt(t))).join("")},An.truncate=function(e,t){var n=30,r="...";if(Ga(t)){var i="separator"in t?t.separator:i;n="length"in t?is(t.length):n,r="omission"in t?Zr(t.omission):r}var o=(e=us(e)).length;if($t(e)){var a=zt(e);o=a.length}if(n>=o)return e;var s=n-Wt(r);if(s<1)return r;var u=a?li(a,0,s).join(""):e.slice(0,s);if(void 0===i)return u+r;if(a&&(s+=u.length-s),Ka(i)){if(e.slice(s).search(i)){var c,l=u;for(i.global||(i=ve(i.source,us(re.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;u=u.slice(0,void 0===f?s:f)}}else if(e.indexOf(Zr(i),s)!=s){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r},An.unescape=function(e){return(e=us(e))&&q.test(e)?e.replace(M,Kt):e},An.uniqueId=function(e){var t=++Se;return us(e)+t},An.upperCase=Fs,An.upperFirst=$s,An.each=ua,An.eachRight=ca,An.first=Mo,Ys(An,(fu={},cr(An,(function(e,t){xe.call(An.prototype,t)||(fu[t]=e)})),fu),{chain:!1}),An.VERSION="4.17.21",st(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){An[e].placeholder=An})),st(["drop","take"],(function(e,t){Rn.prototype[e]=function(n){n=void 0===n?1:sn(is(n),0);var r=this.__filtered__&&!t?new Rn(this):this.clone();return r.__filtered__?r.__takeCount__=un(n,r.__takeCount__):r.__views__.push({size:un(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},Rn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),st(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Rn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Yi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),st(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Rn.prototype[e]=function(){return this[n](1).value()[0]}})),st(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Rn.prototype[e]=function(){return this.__filtered__?new Rn(this):this[n](1)}})),Rn.prototype.compact=function(){return this.filter(zs)},Rn.prototype.find=function(e){return this.filter(e).head()},Rn.prototype.findLast=function(e){return this.reverse().find(e)},Rn.prototype.invokeMap=Fr((function(e,t){return"function"==typeof e?new Rn(this):this.map((function(n){return br(n,e,t)}))})),Rn.prototype.reject=function(e){return this.filter(Oa(Yi(e)))},Rn.prototype.slice=function(e,t){e=is(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Rn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=is(t))<0?n.dropRight(-t):n.take(t-e)),n)},Rn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Rn.prototype.toArray=function(){return this.take(4294967295)},cr(Rn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=An[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(An.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,s=t instanceof Rn,u=a[0],c=s||Na(t),l=function(e){var t=i.apply(An,pt([e],a));return r&&f?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(s=c=!1);var f=this.__chain__,h=!!this.__actions__.length,d=o&&!f,p=s&&!h;if(!o&&c){t=p?t:new Rn(this);var v=e.apply(t,a);return v.__actions__.push({func:ra,args:[l],thisArg:void 0}),new Cn(v,f)}return d&&p?e.apply(this,a):(v=this.thru(l),d?r?v.value()[0]:v.value():v)})})),st(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ge[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);An.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Na(i)?i:[],e)}return this[n]((function(n){return t.apply(Na(n)?n:[],e)}))}})),cr(Rn.prototype,(function(e,t){var n=An[t];if(n){var r=n.name+"";xe.call(_n,r)||(_n[r]=[]),_n[r].push({name:t,func:n})}})),_n[Ai(void 0,2).name]=[{name:"wrapper",func:void 0}],Rn.prototype.clone=function(){var e=new Rn(this.__wrapped__);return e.__actions__=gi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=gi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=gi(this.__views__),e},Rn.prototype.reverse=function(){if(this.__filtered__){var e=new Rn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Rn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Na(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=un(t,e+a);break;case"takeRight":e=sn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,d=un(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return ri(e,this.__actions__);var p=[];e:for(;u--&&h<d;){for(var v=-1,m=e[c+=t];++v<f;){var y=l[v],g=y.iteratee,b=y.type,_=g(m);if(2==b)m=_;else if(!_){if(1==b)continue e;break e}}p[h++]=m}return p},An.prototype.at=ia,An.prototype.chain=function(){return na(this)},An.prototype.commit=function(){return new Cn(this.value(),this.__chain__)},An.prototype.next=function(){void 0===this.__values__&&(this.__values__=ns(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},An.prototype.plant=function(e){for(var t,n=this;n instanceof Dn;){var r=Ao(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},An.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Rn){var t=e;return this.__actions__.length&&(t=new Rn(this)),(t=t.reverse()).__actions__.push({func:ra,args:[Go],thisArg:void 0}),new Cn(t,this.__chain__)}return this.thru(Go)},An.prototype.toJSON=An.prototype.valueOf=An.prototype.value=function(){return ri(this.__wrapped__,this.__actions__)},An.prototype.first=An.prototype.head,Ye&&(An.prototype[Ye]=function(){return this}),An}();ze._=Jt,void 0===(i=function(){return Jt}.call(t,n,t,r))||(r.exports=i)}).call(this)}).call(this,n(49),n(62)(e))},21:function(e,t,n){"use strict";(function(e){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function t(){this.states=[]}return t.prototype.store=function(e){return void 0===e&&(e=!1),n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,new Promise((function(t){chrome.runtime.sendMessage({greeting:"running_data_store",skipEvent:e},(function(){t("")}))}))]}))}))},t.prototype.load=function(e){return void 0===e&&(e=!1),n(this,void 0,void 0,(function(){var t=this;return r(this,(function(n){return[2,new Promise((function(n){chrome.runtime.sendMessage({greeting:"running_data_load",fireEventTrigger:e},(function(e){Array.isArray(e)&&(t.states=e,t.countStates()),n("")}))}))]}))}))},t.prototype.loadState=function(e){return n(this,void 0,void 0,(function(){var t=this;return r(this,(function(n){return[2,new Promise((function(n){chrome.runtime.sendMessage({greeting:"running_data_load_state",id:e},(function(e){Array.isArray(e.states)&&(t.states=e.states,t.countStates()),n(e.state)}))}))]}))}))},t.prototype.addState=function(e,t,i){return void 0===i&&(i=!1),n(this,void 0,void 0,(function(){var n=this;return r(this,(function(r){return[2,new Promise((function(r){chrome.runtime.sendMessage({greeting:"running_data_add_state",id:e,state:t,cloud:i},(function(e){Array.isArray(e.states)&&(n.states=e.states,n.countStates()),r(e.state)}))}))]}))}))},t.prototype.clearState=function(e){return n(this,void 0,void 0,(function(){var t=this;return r(this,(function(n){return[2,new Promise((function(n){chrome.runtime.sendMessage({greeting:"running_data_clear_state",id:e},(function(e){Array.isArray(e)&&(t.states=e,t.countStates()),n("")}))}))]}))}))},t.prototype.clearAllStates=function(){return n(this,void 0,void 0,(function(){var e=this;return r(this,(function(t){return[2,new Promise((function(t){chrome.runtime.sendMessage({greeting:"running_data_clear_all_states"},(function(n){e.states=n,e.countStates(),t("")}))}))]}))}))},t.prototype.cloudStateCount=function(){return this.csc},t.prototype.desktopStateCount=function(){return e.env.NO_DESKTOP_CONCURRENCY_LIMIT?0:this.dsc},t.prototype.countStates=function(){this.csc=0,this.dsc=0;for(var e=0,t=this.states;e<t.length;e++){t[e].cloud?this.csc++:this.dsc++}},t}();t.default=i}).call(this,n(15))},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=Object.prototype,i=r.toString,o=r.hasOwnProperty,a=new Map;function s(e,t){try{return function e(t,n){if(t===n)return!0;var r=i.call(t),a=i.call(n);if(r!==a)return!1;switch(r){case"[object Array]":if(t.length!==n.length)return!1;case"[object Object]":if(u(t,n))return!0;var s=Object.keys(t),c=Object.keys(n),l=s.length;if(l!==c.length)return!1;for(var f=0;f<l;++f)if(!o.call(n,s[f]))return!1;for(f=0;f<l;++f){var h=s[f];if(!e(t[h],n[h]))return!1}return!0;case"[object Error]":return t.name===n.name&&t.message===n.message;case"[object Number]":if(t!=t)return n!=n;case"[object Boolean]":case"[object Date]":return+t==+n;case"[object RegExp]":case"[object String]":return t==""+n;case"[object Map]":case"[object Set]":if(t.size!==n.size)return!1;if(u(t,n))return!0;for(var d=t.entries(),p="[object Map]"===r;;){var v=d.next();if(v.done)break;var m=v.value,y=m[0],g=m[1];if(!n.has(y))return!1;if(p&&!e(g,n.get(y)))return!1}return!0}return!1}(e,t)}finally{a.clear()}}function u(e,t){var n=a.get(e);if(n){if(n.has(t))return!0}else a.set(e,n=new Set);return n.add(t),!1}},25:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.taskApi=void 0;var o=n(34),a=n(73),s=n(14),u=new(function(){function e(){}return e.prototype.save=function(e){var t;return e.data="string"!=typeof e.data?JSON.stringify(e.data):e.data,e.type=void 0!==e.type?e.type:"default",e.triggers=void 0!==e.triggers?e.triggers:[],e.status=void 0!==e.status?e.status:"active",e.color=void 0!==e.color?e.color:"#ffffff",e.stored_cookies.forEach((function(t,n){e.stored_cookies[n].cookies="string"!=typeof t.cookies?JSON.stringify(t.cookies):t.cookies,e.stored_cookies[n].local_storage="string"!=typeof t.local_storage?JSON.stringify(t.local_storage):t.local_storage})),e.triggers[0]&&delete e.triggers[0].last_run,t=e.id?s.apiProvider.sendGqlMutation('mutation UpdateOrCreateTask($favourite:Boolean, $color:String, $id: Int!, $name: String!, $type: String!, $data: String!, $creator_id: Int!, $triggers: [TriggerInput]!, $stored_cookies: [StoredCookiesInput]!) {\n              task(favourite:$favourite, color:$color, id: $id, name: $name, organization_id: 1, creator_id: $creator_id, status: "active", type: $type, data: $data, triggers: $triggers, stored_cookies: $stored_cookies) {\n                id\n                name\n                color\n                type\n                data\n                favourite\n                share_status\n                share_link\n                triggers {\n                  id\n                  name\n                  status\n                  type\n                  time_criteria\n                  interval_type\n                  starting_time\n                }\n                stored_cookies {\n                  id\n                  task_id\n                  url\n                  cookies\n                  enabled\n                  use_local_storage\n                  local_storage\n                  auto_resync\n                  extension_can_overwrite\n                }\n              }\n            }',e):s.apiProvider.sendGqlMutation('mutation UpdateOrCreateTask($favourite:Boolean, $color:String, $name: String!, $type: String!, $data: String!, $creator_id: Int!, $triggers: [TriggerInput]!, $stored_cookies: [StoredCookiesInput]!) {\n              task(favourite:$favourite, color:$color, name: $name, organization_id: 1, creator_id:  $creator_id, status: "active", type: $type, data: $data, triggers: $triggers, stored_cookies: $stored_cookies) {\n                id\n                name\n                color\n                favourite\n                type\n                data\n                share_status\n                share_link\n                triggers {\n                  id\n                  name\n                  status\n                  type\n                  time_criteria\n                  interval_type\n                  starting_time\n                }\n                stored_cookies {\n                  id\n                  task_id\n                  url\n                  cookies\n                  enabled\n                  use_local_storage\n                  local_storage\n                  auto_resync\n                  extension_can_overwrite\n                }\n              }\n            }',e),e.data=JSON.parse(e.data),e.stored_cookies.forEach((function(t,n){e.stored_cookies[n].cookies=JSON.parse(t.cookies),e.stored_cookies[n].local_storage=JSON.parse(t.local_storage)})),t},e.prototype.getOne=function(e){return s.apiProvider.sendGqlQuery("query task($id: Int!) {\n          task_record(id: $id) {\n            id\n            name\n            color\n            favourite\n            type\n            status\n            data\n            share_status\n            share_link\n            res_message\n            triggers {\n              id\n              type\n              starting_time\n              time_criteria\n              interval_type\n            }\n            stored_cookies {\n              id\n              task_id\n              url\n              cookies\n              enabled\n              use_local_storage\n              local_storage\n              auto_resync\n              extension_can_overwrite\n            }\n          }\n        }",{id:e})},e.prototype.getAllForUser=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){return[2,s.apiProvider.sendGqlQuery("query tr {\n          taskAll {\n            id\n            name\n            color\n            favourite\n            type\n            status\n            data\n            share_status\n            share_link\n            triggers {\n              id\n              type\n              status\n              starting_time\n              time_criteria\n              interval_type\n            }\n            stored_cookies {\n              id\n              task_id\n              url\n              cookies\n              enabled\n              use_local_storage\n              local_storage\n              auto_resync\n              extension_can_overwrite\n            }\n          }\n        }",{})]}))}))},e.prototype.getAllFavourite=function(){return s.apiProvider.sendGqlQuery("query tr {\n          taskAll(favourite:true) {\n            id\n            name\n            color\n            favourite\n          }\n        }",{})},e.prototype.getAllForUserCustom=function(){return s.apiProvider.sendGqlQuery("query tr {\n          taskAll {\n            id\n            name\n            color\n            favourite\n            type\n            status\n            share_status\n            share_link\n            data\n            triggers {\n              id\n              type\n              status\n              starting_time\n              time_criteria\n              interval_type\n            }\n            stored_cookies {\n              id\n              task_id\n              url\n              cookies\n              enabled\n              use_local_storage\n              local_storage\n              auto_resync\n              extension_can_overwrite\n            }\n          }\n        }",{})},e.prototype.getAllForUserPaginate=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=""),s.apiProvider.sendGqlQuery("query tasks($page: Int!, $count: Int!, $search_term: String!, $folder: String!) {\n          task(page: $page, count: $count, search_term: $search_term, folder: $folder) {\n            data {\n              id\n              name\n              color\n              favourite\n              type\n              status\n              share_status\n              share_link\n              data\n              folder\n              triggers {\n                id\n                type\n                status\n                starting_time\n                time_criteria\n                interval_type\n              }\n              stored_cookies {\n                id\n                task_id\n                url\n                cookies\n                enabled\n                use_local_storage\n                local_storage\n                auto_resync\n                extension_can_overwrite\n              }\n            }\n            total\n            current_page\n          }\n        }",{count:t,page:e,search_term:n,folder:r})},e.prototype.runTask=function(e){return s.apiProvider.sendGqlQuery("query runtask($id: Int!, $on_demand: Boolean!) {\n          task_record(id: $id, on_demand: $on_demand) {\n            id\n            name\n            data\n            res_message\n          }\n        }",{id:e,on_demand:!0})},e.prototype.delete=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:if(!e)throw new Error("Task ID not provided to task delete");return[4,s.apiProvider.sendGqlMutation("mutation deleteTask($id: Int!) {\n            taskDelete(id: $id) {\n              res_message\n            }\n          }",{id:e})];case 1:return[2,t.sent()]}}))}))},e.prototype.shareMode=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,s.apiProvider.sendGqlQuery("query IsTaskSharedQuery($task_id: Int!) {\n            isTaskShared(task_id: $task_id) {\n              task_id\n              share_status\n              share_link\n              revert_update\n              is_shared_task\n            }\n          }",{task_id:e}).then((function(e){return e.data}))];case 1:return[2,t.sent()]}}))}))},e.prototype.toggleShareMode=function(e){if(e)return s.apiProvider.sendGqlMutation("mutation taskShare($task_id: Int!) {\n                 toggleShareStatus(task_id: $task_id) {\n                   res_message\n                   share_status,\n                   share_link\n                 }\n              }",{task_id:e})},e.prototype.getTaskShareStatus=function(e){return s.apiProvider.sendGqlQuery("query isTaskShared($task_id: Int!) {\n            isTaskShared(task_id: $task_id) {\n              is_shared_task\n              revert_update\n            }\n          }",{task_id:e})},e.prototype.revertOrUpdate=function(e){return s.apiProvider.sendGqlMutation("mutation revertOrUpdate($id : Int!) {\n          revertOrUpdate(id: $id) {\n            res_message\n            name\n            task {\n              name\n              data\n            }\n          }\n        }",{id:e})},e.prototype.toggleFavourite=function(e){return s.apiProvider.sendGqlMutation("mutation favourite($id : Int!) {\n            favourite(id: $id) {\n              res_message\n            }\n          }",{id:e})},e.prototype.updateSchedule=function(e,t,n,r,i,o,a){return null!=e?s.apiProvider.sendGqlMutation("mutation mytiggers($id: Int, $task_id: Int!, $name: String!, $status: String!, $time_criteria: Int!, $starting_time: String!, $interval_type: String!) {\n              trigger(id: $id, task_id: $task_id, name: $name, status: $status, time_criteria: $time_criteria, starting_time: $starting_time, interval_type: $interval_type) {\n                id\n                name\n                status\n                starting_time\n                time_criteria\n              }\n            }",{id:e,task_id:t,name:n,status:r,time_criteria:i,starting_time:o,interval_type:a}):s.apiProvider.sendGqlMutation("mutation mytiggers($task_id: Int!, $name: String!, $status: String!, $time_criteria: Int!, $starting_time: String!, $interval_type: String!) {\n              trigger(task_id: $task_id, name: $name, status: $status, time_criteria: $time_criteria, starting_time: $starting_time, interval_type: $interval_type) {\n                id\n                name\n                status\n                starting_time\n              }\n            }",{task_id:t,name:n,status:r,time_criteria:i,starting_time:o,interval_type:a})},e.prototype.getTaskTriggers=function(e){return s.apiProvider.sendGqlQuery("query C($id: Int!) {\n            task_record(id: $id) {\n              id\n              name\n              res_message\n              triggers {\n                id\n                name\n                status\n                type\n                time_criteria\n                interval_type\n                starting_time\n                last_run\n              }\n            }\n          }",{id:e})},e.prototype.updatetriggerStatus=function(e){return s.apiProvider.sendGqlMutation("mutation updateTriggerStatus($id: Int!) {\n          updateTriggerStatus(id: $id) {\n            res_message\n            execution_status\n          }\n        } ",{id:e})},e.prototype.getUpcomingTriggers=function(e,t,n){return void 0===n&&(n=!1),s.apiProvider.sendGqlQuery("query tr($client_timestamp: String!, $user_id: Int!, $include_cloud: Boolean!) {\n            scheduledTriggers(client_timestamp: $client_timestamp, user_id: $user_id, include_cloud: $include_cloud) {\n              id\n              name\n              color\n              data\n              triggers       \n              { \n                id \n                name \n                type \n                status\n                time_criteria \n                interval_type \n                last_run \n                starting_time\n              }\n              stored_cookies\n              {\n                id\n                task_id\n                url\n                cookies\n                enabled\n                use_local_storage\n                local_storage\n                auto_resync\n                extension_can_overwrite\n              }\n            }\n          }",{client_timestamp:e,user_id:t,include_cloud:n})},e.prototype.updateCompleteStatus=function(e,t,n){return s.apiProvider.sendGqlMutation("mutation updateTriggerStatus($id: Int!, $status: String!, $last_run: String!)  {\n          updateTriggerStatus(id: $id ,status : $status ,last_run : $last_run) {\n            res_message\n            execution_status\n          }\n        }\n      ",{id:e,status:t,last_run:n})},e.prototype.removeScheduler=function(e){return s.apiProvider.sendGqlMutation("mutation triggerDelete($id: Int!) {\n              triggerDelete(id: $id) {\n                res_message\n                execution_status\n              }\n            }",{id:e})},e.prototype.getGoogleSheetNames=function(e){return r(this,void 0,void 0,(function(){var t=this;return i(this,(function(n){return[2,new Promise((function(n,u){a.AxiomApiIntegrations.getSpreadsheetIdFromUrl(e,(function(e){return r(t,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,(new o.CurrentPageData).load()];case 1:return t.sent(),[4,s.apiProvider.sendGqlQuery("query get_worksheets($spreadsheet_id: String!) {\n                        google_worksheets(id: $spreadsheet_id) {\n                            spreadsheet_id\n                            sheets {\n                            sheetId\n                            title\n                            }\n                            editor\n                        }\n                    }",{spreadsheet_id:e}).then((function(e){n(e.data.google_worksheets)}),(function(e){u(e)}))];case 2:return t.sent(),[2]}}))}))}))}))]}))}))},e}());t.taskApi=u},27:function(e,t,n){"use strict";n.r(t),n.d(t,"LOGIN_QUERY",(function(){return i})),n.d(t,"SOCIAL_LOGIN_QUERY",(function(){return o})),n.d(t,"GET_USER_DETAILS",(function(){return a})),n.d(t,"SIGNUP_QUERY",(function(){return s})),n.d(t,"USER_ONBOARD_MUTATION",(function(){return u})),n.d(t,"USER_UPDATE_DETAILS_MUTATION",(function(){return c})),n.d(t,"SIGNUP_MUTATION",(function(){return l})),n.d(t,"SOCIAL_SIGNUP_MUTATION",(function(){return f})),n.d(t,"PASSWORD_REQUEST_QUERY",(function(){return h})),n.d(t,"UPDATE_EMAIL_PASSWORD_MUTATION",(function(){return d})),n.d(t,"GET_USER_DETAILS_INIT",(function(){return p})),n.d(t,"USER_ALLOWED_API_ACCESS",(function(){return v})),n.d(t,"USER_UPDATE_REVIEW_MODAL_SHOWN_MUTATION",(function(){return m})),n.d(t,"GET_USER_EXTERNAL_API_KEYS",(function(){return y})),n.d(t,"UPDATE_USER_EXTERNAL_API_KEYS",(function(){return g}));var r=n(43);const i=Object(r.default)("\n      query Login($email: String!, $password: String!) {\n        login(email: $email, password: $password) {\n          token\n          name\n          email\n          id\n          company \n          role\n          country\n          internal_user\n          cloud_backend\n          cloud_password\n          cloud_port\n          review_modal_shown\n        }\n      }"),o=Object(r.default)("\n      query social_login($provider: String!, $token: String!) {\n        socialLogin(provider: $provider, token: $token) {\n            res_message\n            status\n            user {\n                token\n                name\n                email\n                id\n                company \n                role\n                country\n                internal_user\n                cloud_backend\n                cloud_password\n                cloud_port\n                review_modal_shown\n            }\n        }\n      }"),a="\n      query as($id:Int) {\n        users(id:$id){\n          experience\n          task\n          found\n        }\n      }",s=Object(r.default)("\n    query Signup($username : String!, $email: String!, $password: String!) {\n      signup(username: $username, email: $email, password: $password) {\n        name\n        email\n        id\n      }\n    }"),u="\n    mutation updateUserInfo($name: String!, $company: String!, $role: String!, $country: String!, $experience: String!, $task: String!, $found: String!) {\n      userUpdateDetails(name: $name, company: $company, role: $role, country: $country, experience: $experience, task: $task, found: $found) {\n        id\n        name\n        company\n        role\n        country\n        status\n      }\n    }\n",c="\n    mutation updateUserInfo($name: String!, $company: String!, $role: String!, $country: String!) {\n      userUpdateDetails(name: $name, company: $company, role: $role, country: $country) {\n        id\n        name\n        company\n        role\n        country\n        status\n      }\n    }\n",l="\n    mutation addUser($email: String!, $name: String!, $password: String!, $company: String!, $country: String!, $role: String!, $campaign: String!, $language: String!) {\n      userCreate(email: $email, name: $name, password: $password, company: $company, country:$country , role:$role, campaign:$campaign, language:$language) {\n        id\n        name\n        status\n      }\n    }\n",f="\n    mutation socialSignup($provider: String!, $token: String!, $campaign: String!, $language: String!) {\n        socialSignup(provider: $provider, token: $token, campaign: $campaign, language: $language) {\n        res_message\n        status\n        user {\n            token\n            name\n            email\n            id\n            company \n            role\n            country\n            cloud_backend\n            cloud_password\n            cloud_port\n        }\n      }\n    }\n",h='\n  query resetPassword($email: String!) {\n    resetPassword(email: $email, type: "request_token") {\n      response\n    }\n  }',d="\n  mutation userUpdateEmailPassword($email: String!, $password: String!, $new_password: String!) {\n    userUpdateEmailPassword(email: $email, password: $password, new_password: $new_password) {\n      status\n    }\n  }",p=Object(r.default)("\n      query as($id: Int) {\n          users(id: $id) {\n            id\n          }\n        }"),v="\n  query userAllowedAPIAccess($id:Int) {\n    userAllowedAPIAccess(id: $id) {\n      allowed_api_access\n    }\n  }",m="\n  mutation updateUserReviewModalShown($review_modal_shown: Boolean!) {\n    updateUserReviewModalShown(review_modal_shown: $review_modal_shown) {\n      id\n    }\n  }",y="\n  query userExternalAPIKeys($services:String) {\n    userExternalAPIKeys(services: $services){\n      key_values\n    }\n  }",g="\n  mutation updateUserExternalAPIKeys($external_api_keys:String) {\n    updateUserExternalAPIKeys(external_api_keys: $external_api_keys) {\n      status\n    }\n  }"},28:function(e,t,n){"use strict";n.r(t),n.d(t,"AxiomApiUtilities",(function(){return a}));var r=n(20),i=n.n(r),o=n(12);class a{static formatData(e,t,n){let r;const i=["string","array1D","array2D","table","array2Ddiff"];if(i.indexOf(t)<0)throw"Invalid target format provided!";const a={"string-array1D":e=>[e],"string-array2D":e=>[[e]],"string-table":e=>{let t=a["string-array2D"](e);return JSON.parse(JSON.stringify(t).replace(/undefined|null/g,'""'))},"array1D-string":e=>{let t=e[0];return String(t)},"array1D-array2D":e=>[e],"array1D-table":e=>{let t=a["array1D-array2D"](e);return JSON.parse(JSON.stringify(t).replace(/undefined|null/g,'""'))},"array2D-string":e=>{let t=e[0][0];return String(t)},"array2D-array1D":e=>e.flat(),"array2D-table":e=>{let t=[];for(let n of e){let e=[];for(let t of n)null!=t&&null!=t?e.push(t):e.push("");t.push(e)}return t},"array1D-array2Ddiff":e=>o.AxiomApiHelper.transpose([e]),"array2D-array2Ddiff":e=>e,"string-array2Ddiff":e=>[[e]]};let s=this.getDataFormat(e);if(i.indexOf(s)<0&&(e=JSON.stringify(e),s=this.getDataFormat(e)),s!==t){if(!(`${s}-${t}`in a))throw`Conversions between "${s}" and "${t}" are not currently supported!"`;r=a[`${s}-${t}`](e),n(r)}else n(JSON.parse(JSON.stringify(e)))}static getDataFormat(e){return{undefined:()=>"undefined",boolean:()=>"boolean",number:()=>"number",string:()=>"string",symbol:()=>"symbol",function:()=>"function",object:()=>{if(null===e)return"null";if(Array.isArray(e)){return`array${this.getArrayDepth(e)}D`}return"object"}}[typeof e]()}static getArrayDepth(e){let t=!1,n=0,r=e;for(;!t;)Array.isArray(r)?(r=r[0],n++):t=!0;return n}static preFormat(e,t,n,r){a.formatData(t,n,t=>{a.formatData(e,n,e=>{let n=t&&t[0]&&t[0][0]&&t[0][0].length>0?t:e;r(n)})})}static decodeHtml(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}static checkCodeForMethod(e,t){let n=e.split("\n"),r=!1,i=[];function o(e,t,n){return e>t&&(-1==n||e<n)}for(let e of n){let a=e.indexOf("/*"),s=e.indexOf("*/"),u=e.indexOf(t+"("),c=e.indexOf("//");if(a>-1&&(r=!0),u>-1){let t=[];r&&o(u,a,s)&&t.push("multiCommented"),c>-1&&o(u,c,e.length)&&t.push("singleCommented"),t.length<1&&i.push(`${n.indexOf(e)}-${u}`)}s>-1&&(r=!1)}return i}static convertListToArray(e){let t=e.split("<br>");const n=t.length;for(var r=0;r<n;r++){let e=document.createElement("textarea");e.innerHTML=t[r],t[r]=e.value.trim()}return t}static clone(e){return i.a.cloneDeep(e)}static expandName(e,t=["firstName","lastName"]){function n(e){if(null!=e&&null!=e)return JSON.parse(JSON.stringify(e))}if(null==e||null==e||0==e.length)return;let r=function(e){let t,r,i,o,a=["Abbot","Admiral","Adm.","Ambassador","Amb.","Baron","Baroness","Brnss.","Bishop","Brigadier General","Brig. Gen.","BG","Brother","Br.","Captain (Army)","Cpt.","Captain (Navy)","Capt.","Chancellor","Chan.","Chaplain","Chapln.","Chief Petty Officer","CPO","Commander","Cmdr.","CDR","Cdr. (U.K.)","Colonel","Col.","Colonel (Retired)","Col. (Ret.)","Corporal","Cpl.","Count","Countess","Cntss.","Dame","Dean","Dr.","Drs.","Dr. and Mrs.","Duke","Ensign","Ens.","Estate of","Father","Fr.","Friar","Fr.","Frau","General","Gen.","Governor","Gov.","Judge","Justice","Lord","Lieutenant","Lt.","2nd Lieutenant (Army)","2Lt.","2nd Lieutenant (Marine/A.F.)","2dLt.","Lieutenant Commander","Lt. Cmdr.","Ltc.","Lieutenant Colonel","Lt. Col.","Ltc.","Lieutenant General","Lt. Gen.","Ltg.","Lieutenant junior grade","Lt. j.g.","Mademoiselle","Mlle.","Major","Maj.","Master","Master Sergeant","Master Sgt.","Miss","Madame","Mme.","Midshipman","MIDN","Monsieur","M.","Monsignor","Msgr.","Mr.","Mr. & Dr.","Mr. & Mrs.","Mrs.","Ms.","Mx.","President","Pres.","Princess","Professor","Prof.","Prof. & Mrs.","Rabbi","Rear Admiral","R.Adm.","Representative","Rep.","Reverend","Rev.","Reverends","Revs.","Right Reverend","Rt.Rev.","Sergeant","Sgt.","Senator","Sen.","Senor","Sr.","Senora","Sra.","Senorita","Srta.","Sheikh","Sir","Sister","Sr.","Staff Sergeant","S. Sgt.","The Honorable","The Hon.","The Venerable","Trust(ees)of","Vice Admiral","V.Adm."];if(/\p{L}/u.test(e)){let s=n(e).split(" ");if(/\p{L}*,/gu.test(e))o=s.shift().replace(",",""),r=s.shift(),i=n(s).join(" ");else{let e=n(a).filter(e=>s.includes(e)||s.includes(e+".")||s.includes(e.replace(".","")));e&&e.length>0&&(t=e[0],s=s.filter(e=>!new RegExp(e,"g").test(a.join("."))),o=s.pop()),s.length>0&&(r=s.shift()),s.length>0&&null==o&&(o=s.pop()),i=n(s).filter(e=>/\p{L}/u.test(e)&&e.length>1),i=i.length>0?i.join(" "):void 0}}return{title:t,firstName:r,otherNames:i,lastName:o,initials:void 0}}(e),i=[];for(let e of t){let t=r[e.trim()]?r[e.trim()]:"";i.push(t)}return i}static getURLs(e){return"string"!=typeof e&&(e=e.join("<br>")),e=(e=(e=(e=e.replace(" ","")).replace(/&amp;/g,"&")).split(/[\n\r\t\s]|<br>|,(?=http)/)).map(e=>(null===e.match(/^(http|https|file):/)&&(e="http://"+e),e)).filter(e=>{let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol||"file:"===t.protocol})}static arrayToHTML(e){switch(this.getDataFormat(e)){case"array2D":let t='<table class="dmTable">';t+='<tr><th class="index"></th>';for(let n in e[0])t+=`<th>${o.AxiomApiHelper.getColLetter(n)}</th>`;t+="</tr>";for(const n of e){t+="<tr>",t+=`<th class="index">${e.indexOf(n)+1}</th>`;for(const e of n)t+=`<td>${e}</td>`;t+="</tr>"}t+="</table>",e=t;break;default:e=JSON.stringify(e)}return e}static drawTable(e){let t='<table class="diffTable">';t+=e.length?"<tr><th colspan='100'>Rows changed</th></tr>":"<tr><th colspan='100'>No changes available. </th></tr>";for(const n of e){let e;"Unchanged"!==n.type&&("Changed"===n.type?e="edit":"Removed"===n.type?e="delete":"Added"===n.type&&(e="new"),t+=`<tr class="${e}">`,n.item.forEach(e=>{t+=`<td>${e}</td>`}),t+="</tr>")}return t+="</table>",t+="\n        <ul class=\"instruction\">\n            <li style='color:#9FA8DA'>Edited</li>\n            <li style='color:#FFAB91'>Deleted</li>\n            <li style='color:#4DD0E1'>Added</li>\n        </ul>\n        ",t}}},29:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(0),i=Object.setPrototypeOf,o=void 0===i?function(e,t){return e.__proto__=t,e}:i,a=function(e){function t(n){void 0===n&&(n="Invariant Violation");var r=e.call(this,"number"==typeof n?"Invariant Violation: "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name="Invariant Violation",o(r,t.prototype),r}return Object(r.c)(t,e),t}(Error);function s(e,t){if(!e)throw new a(t)}function u(e){return function(){return console[e].apply(console,arguments)}}!function(e){e.warn=u("warn"),e.error=u("error")}(s||(s={}));var c={env:{}};if("object"==typeof e)c=e;else try{Function("stub","process = stub")(c)}catch(e){}}).call(this,n(15))},31:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=new(function(){function e(){this.cachedValue={installed:!1,version:""},this.cacheTime=new Date}return e.prototype.serverOnline=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,fetch("https://lar.axiom.ai/graphql")];case 1:return e.sent(),[2,!0];case 2:return e.sent(),[2,!1];case 3:return[2]}}))}))},e.prototype.getInstalledVersion=function(e){return void 0===e&&(e=!1),r(this,void 0,void 0,(function(){var e,t,n;return i(this,(function(r){switch(r.label){case 0:if((new Date).getTime()-this.cacheTime.getTime()<500)return[2,this.cachedValue];this.cacheTime=new Date,e=new AbortController,setTimeout((function(){return e.abort()}),100),t="http://localhost:3333/axiom/isrunning",r.label=1;case 1:return r.trys.push([1,4,,5]),[4,fetch(t,{signal:e.signal})];case 2:return[4,r.sent().text()];case 3:return n=r.sent(),this.cachedValue={installed:!0,version:n},[2,this.cachedValue];case 4:return r.sent(),this.cachedValue={installed:!1,version:""},[2,this.cachedValue];case 5:return[2]}}))}))},e.prototype.getRunStatus=function(){return r(this,void 0,Promise,(function(){var e;return i(this,(function(t){switch(t.label){case 0:e="http://localhost:3333/axiom/getstatus",t.label=1;case 1:return t.trys.push([1,4,,5]),[4,fetch(e)];case 2:return[4,t.sent().text()];case 3:return[2,{status:t.sent()}];case 4:return t.sent(),[2,{status:"closed"}];case 5:return[2]}}))}))},e}());t.default=o},33:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.AxiomCurrentData=void 0;var o=n(8),a=n(106),s=function(){function e(){this.init()}return e.prototype.init=function(){var e=this;this.id=0,this.openWidgetIndex=-1,this.name="New automation",this.templateId=0,this.triggers=[],this.share_status=!1,this.share_link="",this.data={mode:"browser",viewport:null,form:[],headless:!1,injector:{magic_btn_status:!0,selector:"",injector:"dom"},tokens:null,context:[{url:"",context:"url"}],templateMode:!1,templateStarted:!1,templateItem:null,templateId:0,builderTemplateId:0,incognitoMode:!1,storeCookies:!1,maximumRuntime:null,disallowConcurrency:!1},this.stored_cookies=[];var t=new o.CurrentUserData;t.load().then((function(){e.creator_id=t.id}))},e.prototype.setFromAxiomDbData=function(e){for(this.id=e.id,this.name=e.name,this.favourite=e.favourite,e.triggers.length>0&&delete e.triggers[0].__typename,this.triggers=e.triggers,this.share_status=e.share_status,this.share_link=e.share_link,this.data=e.data;"string"==typeof this.data;)this.data=JSON.parse(this.data);this.stored_cookies=e.stored_cookies},e.prototype.store=function(){return r(this,void 0,void 0,(function(){var e=this;return i(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t){chrome.storage.local.set({toolbar:{task:{id:e.id,openWidgetIndex:e.openWidgetIndex,name:e.name,machine_name:e.machine_name,favourite:e.favourite,data:e.data,errors:e.errors,color:e.color,creator_id:e.creator_id,type:e.type,triggers:e.triggers,share_status:e.share_status,share_link:e.share_link,stored_cookies:e.stored_cookies}}},(function(){t("")}))}))];case 1:return t.sent(),[2]}}))}))},e.prototype.load=function(){return r(this,void 0,void 0,(function(){var e=this;return i(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t){chrome.storage.local.get("toolbar",(function(n){n&&void 0!==n.toolbar&&void 0!==n.toolbar.task?(e.id=void 0!==n.toolbar.task.id?n.toolbar.task.id:0,e.openWidgetIndex=void 0!==n.toolbar.task.openWidgetIndex?n.toolbar.task.openWidgetIndex:0,e.name=void 0!==n.toolbar.task.name?n.toolbar.task.name:"New Axiom",e.machine_name=void 0!==n.toolbar.task.machine_name?n.toolbar.task.machine_name:"new_axiom",e.data=void 0!==n.toolbar.task.data?n.toolbar.task.data:{mode:"browser",viewport:"",form:[],headless:!1,injector:{magic_btn_status:!0,selector:"",injector:"dom"},tokens:null,context:[{url:"",context:"url"}],templateMode:!1,templateStarted:!1,templateItem:null,incognitoMode:!1,storeCookies:!1,maximumRuntime:null},e.triggers=void 0!==n.toolbar.task.triggers?n.toolbar.task.triggers:[],e.errors=void 0!==n.toolbar.task.errors?n.toolbar.task.errors:[],e.color=void 0!==n.toolbar.task.color?n.toolbar.task.color:null,e.creator_id=void 0!==n.toolbar.task.creator_id?n.toolbar.task.creator_id:null,e.type=void 0!==n.toolbar.task.type?n.toolbar.task.type:null,e.share_status=void 0!==n.toolbar.task.share_status&&n.toolbar.task.share_status,e.share_link=void 0!==n.toolbar.task.share_link?n.toolbar.task.share_link:"",e.stored_cookies=void 0!==n.toolbar.task.stored_cookies?n.toolbar.task.stored_cookies:[]):e.init(),t("")}))}))];case 1:return t.sent(),[2]}}))}))},e.prototype.updateTaskViewportSize=function(){return r(this,void 0,void 0,(function(){var e,t;return i(this,(function(n){switch(n.label){case 0:return e=new a.UtilityHelper,t=this.data,[4,e.getWindowSize()];case 1:return t.viewport=n.sent(),[2]}}))}))},e}();t.AxiomCurrentData=s},34:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentPageData=void 0;var o=function(){function e(){}return e.prototype.store=function(){return r(this,void 0,void 0,(function(){var e=this;return i(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t){chrome.storage.local.set({current_page:e.name},(function(){t(!0)}))}))];case 1:return[2,t.sent()]}}))}))},e.prototype.load=function(){return r(this,void 0,void 0,(function(){var e=this;return i(this,(function(t){return[2,new Promise((function(t){chrome.storage.local.get("current_page",(function(n){return r(e,void 0,void 0,(function(){return i(this,(function(e){return[2,t(n.current_page)]}))}))}))}))]}))}))},e}();t.CurrentPageData=o},36:function(e,t,n){"use strict";n.r(t),n.d(t,"AxiomApiBrowser",(function(){return a}));var r=n(28),i=n(63),o=n.n(i);class a{static getCookies(e,t){const n=(Array.isArray(e)?e:[e]).join("");chrome.cookies.getAll({},e=>{const r=e.filter(e=>new RegExp(e.domain).test(n));t(r)})}static getUsedCookies(e,t){let n=[];for(let t of e)for(let e of t.params)-1!==e.type.indexOf("url")&&n.push(e.value);a.getCookies(n,e=>{t(e)})}static async getStorageValues(e){let t={};for(let n of e){0!==n.indexOf("http")&&(n="https://"+n);let e=n.replace("http://","").replace("https://","").split(/[/?#]/)[0];t.hasOwnProperty(e)||(t[e]=await this.loadStorageFromTab(n))}return t}static async loadStorageFromTab(e){function t(){let e={},t={};for(let t in localStorage)e[t]=localStorage.getItem(t);for(let e in sessionStorage)t[e]=sessionStorage.getItem(e);return{session:t,local:e}}return await new Promise((n,r)=>{chrome.tabs.create({active:!1,url:e},(function(e){chrome.scripting.executeScript({target:{tabId:e.id},func:t},(function(t){chrome.tabs.remove(e.id),Array.isArray(t)&&t.length>0&&t[0].result?n(t[0].result):n({})}))}))})}static messageAccept(e,t){t(e)}static grabCurrentUrl(e){e(window.location.href)}static displayMessage(e,t,n=this.messageAccept){$.confirm({title:"",backgroundDismiss:!0,content:e,buttons:{ok:{text:"OK",action:e=>{n("user-accepted",t)}},cancel:{text:"Cancel",action:()=>{t({error:"User cancelled"})}}},backgroundDismiss:function(){t({error:"User cancelled"})},autoClose:"ok|10000"})}static displayForm(e,t,n,i){let o=`<form id="${e}" onsubmit="return false;">`;for(const e of n)switch(e.type){case"textfield":"File Path"===e.placeholder?o+=`<label style="display: block;">${e.label}</label><input type="textfield" name="${e.name}" placeholder="${e.value}" value="${e.value}" class="form-field" onkeypress="if(event.keyCode == 13) { $('.btnsbmt').click(); return null; }"/><br/>`:o+=`<label style="display: block;">${e.label}</label><input type="textfield" name="${e.name}" placeholder="${e.placeholder}" class="form-field" onkeypress="if(event.keyCode == 13) { $('.btnsbmt').click(); return null; }"/><br/>`;break;case"textarea":o+=`<label style="display: block;">${e.label}</label><textarea name="${e.name}" rows="5" class="form-field"></textarea><br/>`;break;case"text_data_list_to_array":o+=`<label style="display: block;">${e.label}</label><textarea ax-type="data_list" name="${e.name}" rows="5" class="form-field" on></textarea><br/>`}o+="</form>",$.confirm({title:t,backgroundDismiss:!0,content:o,draggable:!1,buttons:{specialKey:{isHidden:!0,text:"On behalf of enter",keys:["enter"],action:()=>($(".btnsbmt").click(),null)},formSubmit:{text:"Submit",btnClass:"btn-blue btnsbmt",action:()=>{const t={};$("#"+e+" .form-field").each((function(){if($(this).attr("ax-type")&&"data_list"==$(this).attr("ax-type")){let e=r.AxiomApiUtilities.convertListToArray($(this).val());t[$(this).attr("name")]=e}else t[$(this).attr("name")]=$(this).val()})),i(t)}},cancel:{text:"Cancel",action:()=>{i({error:"User cancelled"})}}},backgroundDismiss:function(){return"cancel"}})}static style(e,t){$(e).style(t)}static displayData(e,t){a.displayMessage(dataToList("","Data",e),t)}static generateCSV(e,t="export.csv"){let n;const r=o.a.unparse(e);n=new Blob([r],{type:"text/csv"}),this.downloadCSV(n,t)}static downloadCSV(e,t){let n,r=t;n=document.createElement("a"),n.download=r,n.href=window.URL.createObjectURL(e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}static displaySchedulerConfirmation(e,t,n){$.confirm({title:"Confirm",backgroundDismiss:!1,content:t,draggable:!1,minHeight:100,maxHeight:200,autoClose:"formSubmit|10000",buttons:{formSubmit:{text:"Yes",btnClass:"btn-blue btnsbmt",action:()=>{n({msg:"true"})}},removeScheduler:{text:"No and remove this schedule",btnClass:"btn-red btnsbmt",action:()=>{n({msg:"remove"})}},cancel:{text:"No",action:()=>{n({msg:"false"})}}}})}}},37:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetsNestable=t.NestingData=void 0;var r=function(e,t,n,r){void 0===n&&(n=""),void 0===r&&(r="all"),this.indent=e,this.middent=n,this.outdent=t,this.widgetShow=r},i=function(e,t,n,r){void 0===r&&(r=!1),this.indent=e,this.startingBlock=t,this.midBlock=r,this.endingBlock=n,this.outputShow=!1};t.NestingData=i;var o=function(){function e(){this.list=[new r("WidgetBotCreate","WidgetBotComplete"),new r("TemplateUIBot","TemplateUIBot"),new r("WidgetIf","WidgetIfEnd","WidgetElse"),new r("WidgetTry","WidgetTryCatchEnd","WidgetCatch"),new r("TemplateIfStatememt","TemplateIfStatement"),new r("TemplateIfElse","TemplateIfElse"),new r("TemplateLoopThroughData","TemplateLoopThroughData"),new r("TemplateTryCatch","TemplateTryCatch")]}return e.prototype.getWidgetList=function(e,t){for(var n=0,r=this.list;n<r.length;n++)for(var i=r[n],o=t-1;o>=0;o--)if(i.indent===e[o].machine_name)for(var a=t;a<e.length;a++)if(i.outdent===e[a].machine_name)return i.widgetShow;return"all"},e.prototype.getIndentWindex=function(e,t,n){var r=this.list.filter((function(e){return e.indent===n}));if(!r||0===r.length)return-1;for(var i=t;i>=0;i--)if(r[0].indent===e[i].machine_name)return i;return-1},e.prototype.isNestable=function(e){if(!e)return 0;for(var t=0,n=this.list;t<n.length;t++){var r=n[t];if(r.indent===e.machine_name)return 1;if(r.outdent===e.machine_name)return 2;if(r.middent===e.machine_name)return 3}return 0},e.prototype.buildNestingData=function(e){var t=[],n=0;for(var r in e){switch(this.isNestable(e[r])){case 0:t[r]=new i(n,!1,!1);break;case 1:t[r]=new i(n,!0,!1),n++;break;case 2:n--,t[r]=new i(n,!1,!0);break;case 3:t[r]=new i(n,!1,!1,!0)}}return t},e.prototype.nullNestingData=function(){return new i(0,!1,!1)},e}();t.WidgetsNestable=o},40:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenHelper=void 0;var r=n(103),i=n(37),o=function(){function e(){this.tokenList=[],this.nestingData=[]}return e.prototype.clear=function(){this.tokenList=[]},e.prototype.rebuild=function(e){for(var t in this.clear(),e){var n=e[t];n.token&&this.createToken(n.token,parseInt(t,10),n)}var r=new i.WidgetsNestable;this.nestingData=r.buildNestingData(e)},e.prototype.createToken=function(e,t,n){var i=new r.Token("["+e+"]","AxiomState."+e,t,n);this.tokenList.push(i)},e.prototype.findTokenByWidgetIndex=function(e){for(var t=0,n=this.tokenList;t<n.length;t++){var i=n[t];if(i.windex===parseInt(e,10))return i}return new r.Token("BUGALUG","",e,{})},e.prototype.findTokenByName=function(e){e.indexOf("?")>-1&&(e=e.split("?")[1].replace("[",""));for(var t=0,n=this.tokenList;t<n.length;t++){var r=n[t];if(r.name==="["+e+"]"||r.name===e)return r}return null},e.prototype.isToken=function(e){return!!e.indexOf&&(0===e.indexOf("[")&&e.indexOf("]")===e.length-1)},e.prototype.hasToken=function(e){return e.match(/\[(.*)\]/)},e.prototype.getTokenList=function(){return this.tokenList},e.prototype.getFilteredTokenList=function(e,t,n){return this.tokenList.filter((function(t){return!(e<=t.windex)&&-1===t.name.indexOf("bot-input-data")}))},e.prototype.isMatch=function(e){return this.getTokenList().some((function(t){return t.name.replace(/[[\]]/g,"")===e.replace(/[[\]]/g,"").replace(/\?.+/g,"$'")}))},e.prototype.selectableTokenList=function(e,t,n){var r,i=e[t],o=e[n],a=[],s="";if(-1==t){if(!(e.length>0))return[];t=e.length-1,r=this.tokenList}else r=this.getFilteredTokenList(t,n,i);var u=this.getLoopToken(o,i);u.length&&(u[0].isLoopData=!0,s=u[0].name,a.push.apply(a,u));for(var c=0,l=r;c<l.length;c++){var f=l[c];f.widget&&f.widget.hasOwnProperty("name")&&"WidgetBotCreate"!==f.widget.machine_name&&f.name!==s&&a.push(f)}return a},e.prototype.getBotDataParamIndex=function(e){return e?e.params&&"current_url"===e.params[1].type?2:e.params&&"bot_token"===e.params[1].type?1:0:null},e.prototype.getLoopToken=function(e,t){if(e){var n=this.getBotDataParamIndex(e),i=e.params[n].value;if(i.length){var o=i.replace(/(^.*\[|\].*$)/g,"").split("?")[0],a=this.findTokenByName(o);if(a)return[new r.Token("["+o+"]","AxiomState.dataCol",a.windex,a.widget)]}}return[]},e.prototype.isLoopToken=function(e,t,n){return this.getLoopToken(t,n).some((function(t){return t.name.replace(/[[\]]/g,"")===e.replace(/[[\]]/g,"").replace(/\?.+/g,"$'")}))},e.prototype.getTokenScope=function(e,t){return 2==(new i.WidgetsNestable).isNestable(e)?"accumulator":"Clear Data"===t?"":"global"},e.prototype.getHTMLVersion=function(e,t,n){return'<span class="token_span mt-2" data-index="'+e+'" contenteditable="false" style="line-height: 16px;"><span class="v-chip v-chip--no-color v-chip--outlined theme--light v-size--default v-chip--removable"><span class="v-chip__content reselectToken" @click="reselectToken">'+this.iconHTML(n)+'<span class="chip-label reselectToken">'+t+'</span></span><div class="v-chip__close" @click="removeToken"><i aria-hidden="true" class="v-icon close on material-icons"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 6L18 18M6 18L18 6" stroke="#718496" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/></svg></i></div></span></span>'},e.prototype.iconHTML=function(e){switch(e){case"global":return'<svg width="14" height="16" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="token-icon"><path d="M6.99967 12.6666V14.4166M6.99967 12.6666C9.57684 12.6666 11.6663 10.5771 11.6663 7.99992V5.08325H2.33301V7.99992C2.33301 10.5771 4.42251 12.6666 6.99967 12.6666ZM4.66634 1.58325V5.08325M9.33301 1.58325V5.08325" stroke="#F9A502" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path></svg>';case"loop":return'<svg width="15" height="16" viewBox="0 0 15 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="token-icon"><path d="M4.66683 1.58334V5.08334M9.3335 1.58334V5.08334M11.6668 5.08334H2.3335V8.00001C2.3335 9.7272 3.272 11.2353 4.66683 12.0423M12.7101 10.2V9.33C12.6183 8.87789 12.3731 8.47141 12.0158 8.17945C11.6586 7.88749 11.2115 7.728 10.7501 7.728C10.2888 7.728 9.84165 7.88749 9.48444 8.17945C9.12724 8.47141 8.88195 8.87789 8.79014 9.33V10.2M9.00013 10.18H12.5001C13.0524 10.18 13.5001 10.6277 13.5001 11.18V13.5C13.5001 14.0523 13.0524 14.5 12.5001 14.5H9.00013C8.44785 14.5 8.00013 14.0523 8.00013 13.5V11.18C8.00013 10.6277 8.44785 10.18 9.00013 10.18Z" stroke="#F9A502" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" /></svg>';case"accumulator":return'<svg width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg" class="token-icon" ><path d="M4.66683 1.58333V5.08333M9.3335 1.58333V5.08333M11.6668 5.08333H2.3335V8C2.3335 9.72718 3.272 11.2353 4.66683 12.0423" stroke="#F9A502" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M9.91683 8.58333V13.25M7.5835 10.9167H12.2502" stroke="#F9A502" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/></svg>'}},e.prototype.setToken=function(t,n,r,i,o,a){var s="["+i.name.replace(/(^.*\[|\].*$)/g,"")+o+"]";!o||"WidgetDriverCode"!==t[n].machine_name&&"WidgetCode"!==t[n].machine_name||(s="'"+s+"'");var u=new e,c=t[n].params[r];"javascript"===c.value.evaluateType?u.alterTokenValue(c,"javascript",a,s):void 0!==c.value.words?u.alterTokenValue(c,"words",a,s):"generate"===c.value.aiFunction?u.alterTokenValue(c,"prompt",a,s):"extract"===c.value.aiFunction?u.alterTokenValue(c,"extractData",a,s):void 0!==c.value.startingCell?u.alterTokenValue(c,"startingCell",a,s):void 0!==c.value.dataToFormat?u.alterTokenValue(c,"dataToFormat",a,s):u.alterTokenValue(c,"",a,s);var l=this.findParentWidget(t,n);if(l>-1){if(!this.allowSettingParentToken(l,i))return;var f=u.getBotDataParamIndex(t[l]);null!==f&&u.alterTokenValue(t[l].params[f],"",a,i.name,!0)}},e.prototype.allowSettingParentToken=function(e,t){return this.nestingData[e].indent>=this.nestingData[t.windex].indent},e.prototype.isLoopable=function(e){return["WidgetBotCreate","WidgetBotComplete"].includes(e.machine_name)},e.prototype.findParentWidget=function(e,t){if(0===t)return-1;for(var n=new i.WidgetsNestable,r=0,o=t-1;o>=0;o--)if(this.isLoopable(e[o])){var a=n.isNestable(e[o]);if(1===a){if(-1===--r)return o}else 2===a&&r++}return-1},e.prototype.alterTokenValue=function(e,t,n,r,i){if(void 0===i&&(i=!1),i){if(Array.isArray(e.value)&&e.value.length>0)return;if("string"==typeof e.value&&e.value)return}if(void 0===e.maxTokens){var o=t?e.value[t].slice(0,n):e.value.slice(0,n),a=t?e.value[t].slice(n):e.value.slice(n);window.nextChild=[o,r].join("").split(/[[\]]{1,2}/).length-2,""!=a&&a.startsWith("[")&&(r+="&nbsp;"),t?e.value[t]=[o,r,a].join(""):e.value=[o,r,a].join("")}else 1===e.maxTokens&&(t?e.value[t]=r:e.value=r)},e.prototype.parentTokenCleared=function(e,t,n){if(t.replace){t=t.replace(/(^.*\[|\].*$)/g,"").split("?")[0];var r=new RegExp("\\["+t+".*?\\]","g"),i=e.findIndex((function(e,t){return t>n&&"WidgetBotCreate"===e.machine_name}));e.map((function(e,t){return e.method.driver&&t>n&&(i>t||-1===i)&&e.params.map((function(t){return"string"==typeof t.value&&t.value.length?t.value=t.value.replace(r,""):-1!==e.machine_name.indexOf("Scrape")&&t.value.length||t.value.length&&"select_key"!==t.type&&(t.value=[]),t})),e}))}},e.prototype.escapeRegex=function(e){return e.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&")},e.prototype.removeIllegalTokens=function(e){var t=[];for(var n in e){var r=e[n];if(r.token&&t.push(r.token),-1===r.machine_name.indexOf("Code"))for(var i=0,o=r.params;i<o.length;i++){var a=o[i];if("string"==typeof a.value&&(this.hasToken(a.value)||this.isToken(a.value)))for(var s=0,u=a.value.match(/\[(.*)\]/g);s<u.length;s++){var c=u[s],l=void 0;l=-1!==c.indexOf("?")?c.split("?")[0].replace("[",""):c.replace("[","").replace("]",""),t.includes(l)||(a.value=a.value.replace(new RegExp(this.escapeRegex(c),"g"),""),"bot_token"===a.tokenType&&this.parentTokenCleared(e,l,parseInt(n)))}}}},e.prototype.redefineTokenNames=function(e,t){var n=0,r=!1,i=e.token.split("_");t.forEach((function(e,t){if(e.token){var o=e.token.split("_");if(o[0]===i[0]){r=!0;var a=parseInt(o[1]);a&&a>n&&(n=a)}}}));var o=i[0];return r&&(o=o+"_"+(n+1)),o},e}();t.TokenHelper=o},42:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.AxiomWebCookieData=void 0;var o=function(){function e(){}return e.prototype.store=function(){return r(this,void 0,void 0,(function(){var e,t=this;return i(this,(function(n){switch(n.label){case 0:return e=Math.floor((new Date).getTime()/1e3+1209600),[4,new Promise((function(n){t.axiom_token?chrome.cookies.set({name:"axiom_token",url:"https://web.axiom.ai/",value:t.axiom_token,expirationDate:e,domain:"axiom.ai"},(function(e){n("")})):chrome.cookies.remove({url:"https://web.axiom.ai/",name:"axiom_token"},(function(){n("")}))}))];case 1:return n.sent(),[4,new Promise((function(n){t.user_id?chrome.cookies.set({name:"user_id",url:"https://web.axiom.ai/",value:t.user_id+"",expirationDate:e,domain:"axiom.ai"},(function(e){n("")})):chrome.cookies.remove({url:"https://web.axiom.ai/",name:"user_id"},(function(){n("")}))}))];case 2:return n.sent(),[2]}}))}))},e.prototype.load=function(){throw new Error("Method not implemented.")},e}();t.AxiomWebCookieData=o},424:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=n(482),u=n(483),c=n(484),l=n(485),f=n(489),h=n(490),d=o(n(19)),p=n(491),v=function(){function e(){var e=this;this.previousTabId=0,this.token="",this.rds=new p.RunningDataSingleton,this.messageHandlers=[new l.MessageHandlerExecution(this.rds),new c.MessageHandlerGraphQL,new f.MesssageHandlerUser,new s.MessageHandlerApp,new u.MessageHandlerEmbed,new h.MessageHandlerRunningData(this.rds)],this.chromeExternalMessageListener(),this.chromeInternalMessageListener(),this.chromeTabsChangeListener(),chrome.action.onClicked.addListener((function(t){return r(e,void 0,void 0,(function(){return i(this,(function(e){return 0==t.url.indexOf("chrome://")?(chrome.tabs.update(t.id,{url:"https://axiom.ai/success"}),[2]):(this.loadAxiomBuilder(),[2])}))}))})),chrome.storage.local.get("last_login",(function(t){return r(e,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return t.last_login?(chrome.runtime.setUninstallURL("https://axiom.ai/extension-uninstalled.html?user="+t.last_login),[3,3]):[3,1];case 1:return[4,(e=new a.CurrentUserData).load()];case 2:n.sent(),chrome.runtime.setUninstallURL("https://axiom.ai/extension-uninstalled.html?user="+e.id),chrome.storage.local.set({last_login:e.id}),n.label=3;case 3:return[2]}}))}))}))}return e.prototype.loadAxiomBuilder=function(e){var t=this;void 0===e&&(e=!1),chrome.tabs.query({active:!0,currentWindow:!0},(function(n){return r(t,void 0,void 0,(function(){var t;return i(this,(function(r){return t=e?"open_bubble":"toggle_bubble",chrome.tabs.sendMessage(n[0].id,{action:t},(function(e){if(!e){var t=new a.CurrentUserData;t.load().then((function(n){t.token&&chrome.cookies.set({name:"axiom_token",url:"https://web.axiom.ai/",value:e.axiom_token,domain:"axiom.ai"},(function(e){}))}))}})),chrome.tabs.sendMessage(n[0].id,{action:"selector_tool_cancel"}),d.default.clearAll(),[2]}))}))}))},e.prototype.chromeExternalMessageListener=function(){var e=this;chrome.runtime.onInstalled.addListener((function(e){var t="";"install"==e.reason?t="https://axiom.ai/success":"update"==e.reason&&(t=""),t&&chrome.tabs.create({url:t},(function(e){})),chrome.cookies.remove({url:"https://web.axiom.ai/",name:"axiom_token"}),chrome.cookies.remove({url:"https://web.axiom.ai/",name:"user_id"})})),chrome.runtime.onMessageExternal.addListener((function(t,n,r){if(t)switch(t.message){case"check_installed":var i=new a.CurrentUserData;i.load().then((function(){i.token?r("logged_in"):r("not_logged_in")}));break;case"install_template":e.loadAxiomBuilder(!0),setTimeout((function(){chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:"template_open",templateId:t.templateId})}))}),2e3);break;case"login_install_template":e.loadAxiomBuilder(!0),chrome.storage.local.set({axiom_install_template:t.templateId})}}))},e.prototype.chromeInternalMessageListener=function(){var e=this;chrome.runtime.onMessage.addListener((function(t,n,r){for(var i=0,o=e.messageHandlers;i<o.length;i++){o[i].handle(t,n,r)}return chrome.runtime.sendMessage(t),!0}))},e.prototype.chromeTabsChangeListener=function(){chrome.tabs.onActivated.addListener((function(e){try{var t=e.tabId;chrome.storage.local.get(["previousTabId"],(function(n){if(n)if(n.previousTabId){var r=n.previousTabId;chrome.storage.local.set({previousTabId:t}),chrome.tabs.sendMessage(e.tabId,{action:"reload"}),chrome.tabs.sendMessage(r,{action:"selector_tool_cancel"})}else chrome.storage.local.set({previousTabId:t})}))}catch(e){}}))},e.prototype.setToken=function(){var e=this,t=new a.CurrentUserData;t.load().then((function(){e.token=t.token}))},e}();t.default=v},43:function(e,t,n){"use strict";n.r(t),n.d(t,"gql",(function(){return F})),n.d(t,"resetCaches",(function(){return $})),n.d(t,"disableFragmentWarnings",(function(){return Q})),n.d(t,"enableExperimentalFragmentVariables",(function(){return U})),n.d(t,"disableExperimentalFragmentVariables",(function(){return V}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;var i=n(51);function o(e,t){if(!Boolean(e))throw new Error(t)}var a=n(44);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.prototype.toString;e.prototype.toJSON=t,e.prototype.inspect=t,a.a&&(e.prototype[a.a]=t)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n,r=/\r\n|[\n\r]/g,i=1,o=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}function l(e){return f(e.source,c(e.source,e.start))}function f(e,t){var n=e.locationOffset.column-1,r=d(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=1===t.line?n:0,u=t.column+s,c="".concat(e.name,":").concat(a,":").concat(u,"\n"),l=r.split(/\r\n|[\n\r]/g),f=l[i];if(f.length>120){for(var p=Math.floor(u/80),v=u%80,m=[],y=0;y<f.length;y+=80)m.push(f.slice(y,y+80));return c+h([["".concat(a),m[0]]].concat(m.slice(1,p+1).map((function(e){return["",e]})),[[" ",d(v-1)+"^"],["",m[p+1]]]))}return c+h([["".concat(a-1),l[i-1]],["".concat(a),f],["",d(u-1)+"^"],["".concat(a+1),l[i+1]]])}function h(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],i=e[1];return d(n-(t=r).length)+t+(i?" | "+i:" |")})).join("\n")}function d(e){return Array(e+1).join(" ")}function p(e,t,n,r,i,o,a){var s=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,l=n;if(!l&&s){var f=s[0];l=f&&f.loc&&f.loc.source}var h,d=r;!d&&s&&(d=s.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),d&&0===d.length&&(d=void 0),r&&n?h=r.map((function(e){return c(n,e)})):s&&(h=s.reduce((function(e,t){return t.loc&&e.push(c(t.loc.source,t.loc.start)),e}),[]));var v,m=a;if(null==m&&null!=o){var y=o.extensions;"object"==u(v=y)&&null!==v&&(m=y)}Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:h||void 0,enumerable:Boolean(h)},path:{value:i||void 0,enumerable:Boolean(i)},nodes:{value:s||void 0},source:{value:l||void 0},positions:{value:d||void 0},originalError:{value:o},extensions:{value:m||void 0,enumerable:Boolean(m)}}),o&&o.stack?Object.defineProperty(this,"stack",{value:o.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,p):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}function v(e,t,n){return new p("Syntax Error: ".concat(n),void 0,e,[t])}p.prototype=Object.create(Error.prototype,{constructor:{value:p},name:{value:"GraphQLError"},toString:{value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var i=r[n];i.loc&&(t+="\n\n"+l(i.loc))}else if(e.source&&e.locations)for(var o=0,a=e.locations;o<a.length;o++){var s=a[o];t+="\n\n"+f(e.source,s)}return t}(this)}}});var m=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});var y,g=function(e,t,n){this.body=e,this.name=t||"GraphQL request",this.locationOffset=n||{line:1,column:1},this.locationOffset.line>0||o(0,"line in locationOffset is 1-indexed and must be positive"),this.locationOffset.column>0||o(0,"column in locationOffset is 1-indexed and must be positive")};y=g,"function"==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(y.prototype,Symbol.toStringTag,{get:function(){return this.constructor.name}});var b=n(52),_=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function w(){return this.lastToken=this.token,this.token=this.lookahead()}function k(){var e=this.token;if(e.kind!==_.EOF)do{e=e.next||(e.next=O(this,e))}while(e.kind===_.COMMENT);return e}function x(e,t,n,r,i,o,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}function S(e){return isNaN(e)?_.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function O(e,t){var n=e.source,r=n.body,i=r.length,o=function(e,t,n){var r=e.length,i=t;for(;i<r;){var o=e.charCodeAt(i);if(9===o||32===o||44===o||65279===o)++i;else if(10===o)++i,++n.line,n.lineStart=i;else{if(13!==o)break;10===e.charCodeAt(i+1)?i+=2:++i,++n.line,n.lineStart=i}}return i}(r,t.end,e),a=e.line,s=1+o-e.lineStart;if(o>=i)return new x(_.EOF,i,i,a,s,t);var u=r.charCodeAt(o);switch(u){case 33:return new x(_.BANG,o,o+1,a,s,t);case 35:return function(e,t,n,r,i){var o,a=e.body,s=t;do{o=a.charCodeAt(++s)}while(!isNaN(o)&&(o>31||9===o));return new x(_.COMMENT,t,s,n,r,i,a.slice(t+1,s))}(n,o,a,s,t);case 36:return new x(_.DOLLAR,o,o+1,a,s,t);case 38:return new x(_.AMP,o,o+1,a,s,t);case 40:return new x(_.PAREN_L,o,o+1,a,s,t);case 41:return new x(_.PAREN_R,o,o+1,a,s,t);case 46:if(46===r.charCodeAt(o+1)&&46===r.charCodeAt(o+2))return new x(_.SPREAD,o,o+3,a,s,t);break;case 58:return new x(_.COLON,o,o+1,a,s,t);case 61:return new x(_.EQUALS,o,o+1,a,s,t);case 64:return new x(_.AT,o,o+1,a,s,t);case 91:return new x(_.BRACKET_L,o,o+1,a,s,t);case 93:return new x(_.BRACKET_R,o,o+1,a,s,t);case 123:return new x(_.BRACE_L,o,o+1,a,s,t);case 124:return new x(_.PIPE,o,o+1,a,s,t);case 125:return new x(_.BRACE_R,o,o+1,a,s,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,n,r,i){var o=e.body,a=o.length,s=t+1,u=0;for(;s!==a&&!isNaN(u=o.charCodeAt(s))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++s;return new x(_.NAME,t,s,n,r,i,o.slice(t,s))}(n,o,a,s,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,r,i,o){var a=e.body,s=n,u=t,c=!1;45===s&&(s=a.charCodeAt(++u));if(48===s){if((s=a.charCodeAt(++u))>=48&&s<=57)throw v(e,u,"Invalid number, unexpected digit after 0: ".concat(S(s),"."))}else u=E(e,u,s),s=a.charCodeAt(u);46===s&&(c=!0,s=a.charCodeAt(++u),u=E(e,u,s),s=a.charCodeAt(u));69!==s&&101!==s||(c=!0,43!==(s=a.charCodeAt(++u))&&45!==s||(s=a.charCodeAt(++u)),u=E(e,u,s),s=a.charCodeAt(u));if(46===s||69===s||101===s)throw v(e,u,"Invalid number, expected digit but got: ".concat(S(s),"."));return new x(c?_.FLOAT:_.INT,t,u,r,i,o,a.slice(t,u))}(n,o,u,a,s,t);case 34:return 34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)?function(e,t,n,r,i,o){var a=e.body,s=t+3,u=s,c=0,l="";for(;s<a.length&&!isNaN(c=a.charCodeAt(s));){if(34===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return l+=a.slice(u,s),new x(_.BLOCK_STRING,t,s+3,n,r,i,Object(b.a)(l));if(c<32&&9!==c&&10!==c&&13!==c)throw v(e,s,"Invalid character within String: ".concat(S(c),"."));10===c?(++s,++o.line,o.lineStart=s):13===c?(10===a.charCodeAt(s+1)?s+=2:++s,++o.line,o.lineStart=s):92===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(l+=a.slice(u,s)+'"""',u=s+=4):++s}throw v(e,s,"Unterminated string.")}(n,o,a,s,t,e):function(e,t,n,r,i){var o=e.body,a=t+1,s=a,u=0,c="";for(;a<o.length&&!isNaN(u=o.charCodeAt(a))&&10!==u&&13!==u;){if(34===u)return c+=o.slice(s,a),new x(_.STRING,t,a+1,n,r,i,c);if(u<32&&9!==u)throw v(e,a,"Invalid character within String: ".concat(S(u),"."));if(++a,92===u){switch(c+=o.slice(s,a-1),u=o.charCodeAt(a)){case 34:c+='"';break;case 47:c+="/";break;case 92:c+="\\";break;case 98:c+="\b";break;case 102:c+="\f";break;case 110:c+="\n";break;case 114:c+="\r";break;case 116:c+="\t";break;case 117:var l=(h=o.charCodeAt(a+1),d=o.charCodeAt(a+2),p=o.charCodeAt(a+3),m=o.charCodeAt(a+4),T(h)<<12|T(d)<<8|T(p)<<4|T(m));if(l<0){var f=o.slice(a+1,a+5);throw v(e,a,"Invalid character escape sequence: \\u".concat(f,"."))}c+=String.fromCharCode(l),a+=4;break;default:throw v(e,a,"Invalid character escape sequence: \\".concat(String.fromCharCode(u),"."))}++a,s=a}}var h,d,p,m;throw v(e,a,"Unterminated string.")}(n,o,a,s,t)}throw v(n,o,function(e){if(e<32&&9!==e&&10!==e&&13!==e)return"Cannot contain the invalid character ".concat(S(e),".");if(39===e)return"Unexpected single quote character ('), did you mean to use a double quote (\")?";return"Cannot parse the unexpected character ".concat(S(e),".")}(u))}function E(e,t,n){var r=e.body,i=t,o=n;if(o>=48&&o<=57){do{o=r.charCodeAt(++i)}while(o>=48&&o<=57);return i}throw v(e,i,"Invalid number, expected digit but got: ".concat(S(o),"."))}function T(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}s(x,(function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}));var I=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});var A=function(){function e(e,t){var n="string"==typeof e?new g(e):e;n instanceof g||o(0,"Must provide Source. Received: ".concat(Object(i.a)(n))),this._lexer=function(e,t){var n=new x(_.SOF,0,0,0,0,null);return{source:e,options:t,lastToken:n,token:n,line:1,lineStart:0,advance:w,lookahead:k}}(n),this._options=t||{}}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(_.NAME);return{kind:m.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:m.DOCUMENT,definitions:this.many(_.SOF,this.parseDefinition,_.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(_.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(_.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(_.BRACE_L))return{kind:m.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(_.NAME)&&(t=this.parseName()),{kind:m.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(_.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(_.PAREN_L,this.parseVariableDefinition,_.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:m.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(_.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(_.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(_.DOLLAR),{kind:m.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:m.SELECTION_SET,selections:this.many(_.BRACE_L,this.parseSelection,_.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(_.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(_.COLON)?(e=r,t=this.parseName()):t=r,{kind:m.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(_.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(_.PAREN_L,t,_.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(_.COLON),{kind:m.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:m.ARGUMENT,name:this.parseName(),value:(this.expectToken(_.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(_.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(_.NAME)?{kind:m.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:m.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e=this._lexer.token;return this.expectKeyword("fragment"),this._options.experimentalFragmentVariables?{kind:m.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}:{kind:m.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case _.BRACKET_L:return this.parseList(e);case _.BRACE_L:return this.parseObject(e);case _.INT:return this._lexer.advance(),{kind:m.INT,value:t.value,loc:this.loc(t)};case _.FLOAT:return this._lexer.advance(),{kind:m.FLOAT,value:t.value,loc:this.loc(t)};case _.STRING:case _.BLOCK_STRING:return this.parseStringLiteral();case _.NAME:return"true"===t.value||"false"===t.value?(this._lexer.advance(),{kind:m.BOOLEAN,value:"true"===t.value,loc:this.loc(t)}):"null"===t.value?(this._lexer.advance(),{kind:m.NULL,loc:this.loc(t)}):(this._lexer.advance(),{kind:m.ENUM,value:t.value,loc:this.loc(t)});case _.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:m.STRING,value:e.value,block:e.kind===_.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:m.LIST,values:this.any(_.BRACKET_L,(function(){return t.parseValueLiteral(e)}),_.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:m.OBJECT,fields:this.any(_.BRACE_L,(function(){return t.parseObjectField(e)}),_.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(_.COLON),{kind:m.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(_.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(_.AT),{kind:m.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(_.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(_.BRACKET_R),e={kind:m.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(_.BANG)?{kind:m.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:m.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===_.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(_.STRING)||this.peek(_.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token;this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.many(_.BRACE_L,this.parseOperationTypeDefinition,_.BRACE_R);return{kind:m.SCHEMA_DEFINITION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(_.COLON);var n=this.parseNamedType();return{kind:m.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:m.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:m.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e=[];if(this.expectOptionalKeyword("implements")){this.expectOptionalToken(_.AMP);do{e.push(this.parseNamedType())}while(this.expectOptionalToken(_.AMP)||this._options.allowLegacySDLImplementsInterfaces&&this.peek(_.NAME))}return e},t.parseFieldsDefinition=function(){return this._options.allowLegacySDLEmptyFields&&this.peek(_.BRACE_L)&&this._lexer.lookahead().kind===_.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(_.BRACE_L,this.parseFieldDefinition,_.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(_.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:m.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(_.PAREN_L,this.parseInputValueDef,_.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(_.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(_.EQUALS)&&(r=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:m.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:r,directives:o,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();return{kind:m.INTERFACE_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:m.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){var e=[];if(this.expectOptionalToken(_.EQUALS)){this.expectOptionalToken(_.PIPE);do{e.push(this.parseNamedType())}while(this.expectOptionalToken(_.PIPE))}return e},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:m.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(_.BRACE_L,this.parseEnumValueDefinition,_.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:m.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:m.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(_.BRACE_L,this.parseInputValueDef,_.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===_.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(_.BRACE_L,this.parseOperationTypeDefinition,_.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:m.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:m.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:m.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:m.INTERFACE_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:m.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:m.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:m.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(_.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:m.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){this.expectOptionalToken(_.PIPE);var e=[];do{e.push(this.parseDirectiveLocation())}while(this.expectOptionalToken(_.PIPE));return e},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==I[t.value])return t;throw this.unexpected(e)},t.loc=function(e){if(!this._options.noLocation)return new j(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw v(this._lexer.source,t.start,"Expected ".concat(e,", found ").concat(D(t)))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==_.NAME||t.value!==e)throw v(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(D(t)));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===_.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=e||this._lexer.token;return v(this._lexer.source,t.start,"Unexpected ".concat(D(t)))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},e}();function j(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}function D(e){var t=e.value;return t?"".concat(e.kind,' "').concat(t,'"'):e.kind}s(j,(function(){return{start:this.start,end:this.end}}));var C=new Map,R=new Map,N=!0,P=!1;function M(e){return e.replace(/[\s,]+/g," ").trim()}function L(e){var t=new Set,n=[];return e.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var r=e.name.value,i=M((a=e.loc).source.body.substring(a.start,a.end)),o=R.get(r);o&&!o.has(i)?N&&console.warn("Warning: fragment with name "+r+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):o||R.set(r,o=new Set),o.add(i),t.has(i)||(t.add(i),n.push(e))}else n.push(e);var a})),r(r({},e),{definitions:n})}function q(e){var t=M(e);if(!C.has(t)){var n=function(e,t){return new A(e,t).parseDocument()}(e,{experimentalFragmentVariables:P,allowLegacyFragmentVariables:P});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");C.set(t,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(n){var r=e[n];r&&"object"==typeof r&&t.add(r)}))}));var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}(L(n)))}return C.get(t)}function F(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"string"==typeof e&&(e=[e]);var r=e[0];return t.forEach((function(t,n){t&&"Document"===t.kind?r+=t.loc.source.body:r+=t,r+=e[n+1]})),q(r)}function $(){C.clear(),R.clear()}function Q(){N=!1}function U(){P=!0}function V(){P=!1}var G,B={gql:F,resetCaches:$,disableFragmentWarnings:Q,enableExperimentalFragmentVariables:U,disableExperimentalFragmentVariables:V};(G=F||(F={})).gql=B.gql,G.resetCaches=B.resetCaches,G.disableFragmentWarnings=B.disableFragmentWarnings,G.enableExperimentalFragmentVariables=B.enableExperimentalFragmentVariables,G.disableExperimentalFragmentVariables=B.disableExperimentalFragmentVariables,F.default=F;t.default=F},44:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;t.a=r},45:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=n(0),i=Object.setPrototypeOf,o=void 0===i?function(e,t){return e.__proto__=t,e}:i,a=function(e){function t(n){void 0===n&&(n="Invariant Violation");var r=e.call(this,"number"==typeof n?"Invariant Violation: "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name="Invariant Violation",o(r,t.prototype),r}return Object(r.c)(t,e),t}(Error);function s(e,t){if(!e)throw new a(t)}function u(e){return function(){return console[e].apply(console,arguments)}}!function(e){e.warn=u("warn"),e.error=u("error")}(s||(s={}));var c={env:{}};if("object"==typeof e)c=e;else try{Function("stub","process = stub")(c)}catch(e){}}).call(this,n(15))},47:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(78),s=o(n(79)),u=n(82),c=n(81),l=o(n(43)),f=n(27),h=n(27),d=n(27),p=n(27),v=n(27),m=n(27),y=n(14),g=n(42),b=o(n(21)),_=function(){function e(){this.client=null,this.success=!1,this.url="https://lar.axiom.ai/graphql/login",this.init(this.url)}return e.prototype.init=function(e){var t=u.createHttpLink({uri:e,fetch:s.default});this.client=new a.ApolloClient({link:t,connectToDevTools:!0,cache:new c.InMemoryCache})},e.prototype.Login=function(e,t){return r(this,void 0,void 0,(function(){var t,n=this;return i(this,(function(r){return t=f.LOGIN_QUERY,[2,new Promise((function(r){n.client.query({fetchPolicy:"network-only",query:t,variables:e}).then((function(e){return null==e.data.login?(n.success=!1,void r(0)):null==e.data.login.email?(n.success=!1,void r(-1)):(n.success=!0,void chrome.storage.local.set({axiom_token:e.data.login.token},(function(){n.init(n.url),chrome.runtime.sendMessage({greeting:"set_current_user",user:e.data},(function(){y.apiProvider.initClient().then((function(){chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:"inti_token"})})),r(1)}))}))})))})).catch((function(){r(0)}))}))]}))}))},e.prototype.setLoginValues=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){return t=e.id+"",chrome.cookies.set({name:"axiom_token",url:"https://web.axiom.ai/",value:e.token,domain:"axiom.ai"},(function(e){})),chrome.cookies.set({name:"user_id",url:"https://web.axiom.ai/",value:t,domain:"axiom.ai"},(function(e){})),[2,new Promise((function(t){chrome.runtime.sendMessage({greeting:"set_current_user",user:e},(function(){y.apiProvider.initClient().then((function(){chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:"inti_token"})})),t(!0)})).catch((function(e){t(!1)}))}))}))]}))}))},e.prototype.socialLogin=function(e){return r(this,void 0,void 0,(function(){var t,n,r=this;return i(this,(function(i){return t=h.SOCIAL_LOGIN_QUERY,n={message:"Error logging in via Google, please try again later",status:!1,user:{login:{}}},[2,new Promise((function(i){r.client.query({query:t,variables:e}).then((function(e){if(null==e.data.socialLogin||"false"===e.data.socialLogin.status)return e.data.socialLogin.res_message&&(n.message=e.data.socialLogin.res_message),i(n);r.success=!0,n.message=e.data.socialLogin.res_message,n.status=!0,n.user.login=e.data.socialLogin.user,chrome.storage.local.set({axiom_token:e.data.socialLogin.user.token},(function(){r.init(r.url)})),i(n)})).catch((function(e){i(n)}))}))]}))}))},e.prototype.socialRegister=function(e){return r(this,void 0,void 0,(function(){var t,n,r=this;return i(this,(function(i){return t=l.default(v.SOCIAL_SIGNUP_MUTATION),n={message:"Error signing up via Google, please try again later",status:!1,user:{login:{}}},[2,new Promise((function(i){r.client.mutate({mutation:t,variables:e}).then((function(e){if(null==e.data.socialSignup||"false"===e.data.socialSignup.status)return e.data.socialSignup.res_message&&(n.message=e.data.socialSignup.res_message),i(n);r.success=!0,n.message=e.data.socialSignup.res_message,n.status=!0,n.user.login=e.data.socialSignup.user,chrome.storage.local.set({axiom_token:e.data.socialSignup.user.token},(function(){r.init(r.url)})),i(n)})).catch((function(e){i(n)}))}))]}))}))},e.prototype.GetUserData=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){return y.apiProvider.sendGqlQuery("query as($id: Int) {\n          users(id: $id) {\n            id\n          name\n          email\n          company\n          role\n          country\n          }\n        }",{id:e}).then((function(e){var t={login:{token:localStorage.getItem("token"),name:e.data.users[0].name,email:e.data.users[0].email,id:e.data.users[0].id}};localStorage.setItem("current_user",JSON.stringify(t))})),[2,!0]}))}))},e.prototype.Signup=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return e=d.SIGNUP_QUERY,[4,this.client.query({fetchPolicy:"network-only",query:e}).then((function(e){if("success"===e.data.signup)return!1}))];case 1:return t.sent(),[2,this.success]}}))}))},e.prototype.Logout=function(e){var t=this;void 0===e&&(e=!1),chrome.runtime.sendMessage({greeting:"scheduler_stop"}),y.apiProvider.sendGqlQuery("query logout {\n            logout {\n              id\n            }\n          }",{}).then((function(){t.afterLogout(e)})).catch((function(n){t.afterLogout(e)}))},e.prototype.afterLogout=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,(new b.default).clearAllStates()];case 1:return n.sent(),[4,(new g.AxiomWebCookieData).store()];case 2:return n.sent(),chrome.storage.local.remove(["axiom_token","current_user"],(function(){})),chrome.runtime.sendMessage({greeting:"stop_helper"}),t=1==e?"unset_user":"unset_current_user",chrome.runtime.sendMessage({greeting:t}),chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:"refresh_logout"},(function(e){}))})),[2]}}))}))},e.prototype.register=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.sendGqlMutation(p.SIGNUP_MUTATION,e)];case 1:return[2,t.sent()]}}))}))},e.prototype.requestPasswordReset=function(e){return this.sendGqlQuery(m.PASSWORD_REQUEST_QUERY,{email:e})},e.prototype.sendGqlMutation=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){return n=l.default(e),[2,this.client.mutate({mutation:n,variables:t})]}))}))},e.prototype.sendGqlQuery=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){return n=l.default(e),[2,this.client.query({fetchPolicy:"network-only",query:n,variables:t})]}))}))},e}();t.default=_},48:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.googleAuth=void 0;var o=n(14),a=new(function(){function e(){}return e.prototype.isAuthenticated=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){return[2,o.apiProvider.sendGqlQuery("\n        query tr($service: String!) {\n          isAuthenticated(service:$service) {\n           service,\n           status,\n           scopes\n          }\n        }",{service:"google"})]}))}))},e.prototype.requiresGoogleSheetsAuthentication=function(e){return["WidgetReadGoogleSheet","WidgetMergeGoogleSheets","WidgetWriteGoogleSheet","WidgetCreateGoogleSheet","WidgetDeleteRowsFromGoogleSheet","WidgetClearGoogleSheet","WidgetFindRowGoogleSheet","WidgetCreateFormattedSheet"].includes(e)},e.prototype.requiresGoogleDriveAuthentication=function(e){return["WidgetDriverUploadFromGoogleDrive","WidgetDriverDownloadToGoogleDrive","WidgetDriverSaveScreenshotToGoogleDrive","WidgetGoogleDriveFolder"].includes(e)},e.prototype.isAuthenticationExpired=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){return[2,o.apiProvider.sendGqlQuery("\n        query isAuthenticationExpired($service: String!) {\n          isAuthenticationExpired(service:$service) {\n            service,\n            status\n          }\n        }",{service:"google"})]}))}))},e}());t.googleAuth=a},481:function(e,t,n){"use strict";n.r(t);var r=n(424);const i=new(n.n(r).a);t.default={bg:i}},482:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandlerApp=void 0;var i=r(n(31)),o=function(){function e(){this.appChecker=i.default}return e.prototype.handle=function(e,t,n){var r;switch(e.greeting){case"app_not_installed":chrome.notifications.create("Axiom Automation",{type:"basic",iconUrl:"progress/axiom-logo.png",title:"Axiom Automation",message:"The Axiom desktop app is not running. Download or start it to begin automating!"},(function(e){}));break;case"server_online":this.appChecker.serverOnline().then((function(e){n(e)}),(function(e){n(e)}));break;case"open_file_dialog":r="http://localhost:3333/axiom/openDialog?ext="+e.extensionName,fetch(r).then((function(e){return e.text().then((function(e){n({filePath:e})}))})).catch((function(e){n({filePath:""})}));break;case"open_folder_dialog":r="http://localhost:3333/axiom/openPath",fetch(r).then((function(e){return e.text().then((function(e){n({filePath:e})}))})).catch((function(e){n({filePath:""})}));break;case"selector_tool_back":chrome.tabs.query({active:!0,currentWindow:!0},(function(e){setTimeout((function(){chrome.tabs.sendMessage(e[0].id,{action:"selector_tool_back"}),chrome.tabs.sendMessage(e[0].id,{action:"selector_tool_cancel"})}),250)}));break;case"open_remote_debugging_chrome":r="http://localhost:3333/axiom/openRemoteDebuggingChrome",fetch(r,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(e.options)})}},e}();t.MessageHandlerApp=o},483:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandlerEmbed=void 0;var r=n(33),i=function(){function e(){this.isRunning=!1}return e.prototype.handle=function(e,t,n){switch(e.greeting){case"start_helper":new r.AxiomCurrentData;e.store().then((function(){chrome.tabs.query({active:!0,currentWindow:!0},(function(e){var t=!0;if(!e[0].url.startsWith("chrome-extension")){var n=new URL(e[0].url);t=/^(http:|https:|file:)$/.test(n.protocol)}t?chrome.tabs.sendMessage(e[0].id,{action:"reload"}):chrome.tabs.create({url:"http://blog.axiom.ai/"})}))}));break;case"stop_helper":chrome.storage.local.remove("toolbar"),chrome.action.setIcon({path:"/axiom-logo.png"})}},e}();t.MessageHandlerEmbed=i},484:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandlerGraphQL=void 0;var r=n(14),i=n(8),o=function(){function e(){var e=this,t=new i.CurrentUserData;t.load().then((function(){e.token=t.token}))}return e.prototype.handle=function(e,t,n){switch(e.greeting){case"gql_mutation":r.apiProvider.sendGqlMutation(e.mutation,e.variables).then((function(e){n(e)})).catch((function(e){n(e)}));break;case"gql_query":r.apiProvider.sendGqlQuery(e.query,e.variables).then((function(e){n(e)})).catch((function(e){n(e)}))}},e}();t.MessageHandlerGraphQL=o},485:function(e,t,n){"use strict";(function(e){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandlerExecution=void 0;var a=o(n(31)),s=n(8),u=n(36),c=n(12),l=n(170),f=n(486),h=n(142),d=n(487),p=n(488),v=n(144),m=function(){function t(e){var t=this;this.rds=null,this.sockets={},this.cra={},this.rds=e,this.rds.load().then((function(e){return r(t,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.clearRunData()];case 1:return e.sent(),[2]}}))}))})),addEventListener("offline",(function(){new f.ExecutionErrors(t.latestState.id).sendError("Connection interrupted","Your connection was disrupted! If you were running an axiom, the UI will no longer update. Check the reports page to see if it's finished."),t.clearRunData()})),this.podStatus=new d.UserPodStatus(e)}return t.prototype.handle=function(e,t,n){return r(this,void 0,void 0,(function(){var t=this;return i(this,(function(r){switch(r.label){case 0:switch(e.greeting){case"stop_task":return[3,1];case"execute":return[3,3];case"execute_cloud":return[3,4];case"get_latest_run_result":return[3,5];case"app_installed_version":return[3,6];case"show_running_task":return[3,7];case"get_user_pods":return[3,9];case"scheduler_start":return[3,10];case"scheduler_stop":return[3,11]}return[3,12];case 1:return[4,this.reconstructCloudRunApi(e.task_id)];case 2:return r.sent(),this.stopCompleteTask(e.task_id),[3,12];case 3:return this.sendTaskToDesktop(e),[3,12];case 4:return this.sendTaskToCloud(e,n),[3,12];case 5:return this.loadLatestRun().then((function(e){n(e)})),[3,12];case 6:return a.default.getInstalledVersion().then((function(e){n(e)})),[3,12];case 7:return[4,this.reconstructCloudRunApi(e.task.id)];case 8:return r.sent(),this.cra[e.task.id].openWindow(e.task.id),this.sendMessageToRunViewer({command:"set_task_info",data:{task:e.task}}),[3,12];case 9:return this.podStatusInterval||(this.podStatus.load(),this.podStatusInterval=setInterval((function(){t.podStatus.load()}),6e4)),[3,12];case 10:return this.schedulerRun||(this.schedulerRun=new p.SchedulerRun(this)),this.schedulerRun.start(e.force),[3,12];case 11:return this.schedulerRun&&this.schedulerRun.stop(),[3,12];case 12:return[2]}}))}))},t.prototype.reconstructCloudRunApi=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return[4,this.rds.loadState(e)];case 1:if(!r.sent().cloud)return[2];r.label=2;case 2:return r.trys.push([2,6,,7]),[4,(t=new s.CurrentUserData).load()];case 3:return r.sent(),this.cra[e]=new h.CloudRunApi(t,e),[4,this.podStatus.getByTaskId(e)];case 4:return n=r.sent(),[4,this.cra[e].rebuildUrl(n)];case 5:return r.sent(),[3,7];case 6:return r.sent(),[3,7];case 7:return[2]}}))}))},t.prototype.prepareCompleteTask=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,a,u,l,h,d;return i(this,(function(i){switch(i.label){case 0:return t=e.task,n=new f.ExecutionErrors(e.task.id),r=c.AxiomApiHelper.extractFormData(t,!0),n.validateForm(r)?[4,(o=new s.CurrentUserData).load()]:[2,null];case 1:return i.sent(),a={headless:t.data.headless,defaultViewport:t.data.viewport?t.data.viewport:null,extensionToLoad:t.data.extensionToLoad,executablePath:t.data.executablePath,userDataDir:t.data.userDataDir,notifications:t.data.notifications,continueOnError:t.data.continueOnError,iframesAllowed:t.data.iframesAllowed,disablePageChangeMonitoring:t.data.disablePageChangeMonitoring,attachToExistingChrome:t.data.attachToExistingChrome,proxyServer:t.data.proxyServer,proxyAuth:t.data.proxyAuth,noOutput:t.data.noOutput,keys:{},incognitoMode:t.data.incognitoMode,storeCookies:t.data.storeCookies,timezone:t.data.timezone,disallowConcurrency:t.data.disallowConcurrency,blockResources:t.data.blockResources,blockedResources:t.data.blockedResources},[4,(u=new v.KeyVault).load()];case 2:for(l in i.sent(),r)for(h in r[l].params)r[l].params[h].value||"none"!==(d=u.paramToKey(r[l].params[h]))&&u.keys[d]&&(a.keys[l]={param:h,value:u.keys[d]});return[2,{task_id:t.id,tokenHelper:{},steps:r,user:{id:o.id,token:o.token},session:{cookies:[],storageData:{}},launchOptions:a,pid:-1}]}}))}))},t.prototype.sendCompleteTaskToPuppeteer=function(e,t,n,o){return void 0===o&&(o=function(){}),r(this,void 0,void 0,(function(){var a,s=this;return i(this,(function(h){switch(h.label){case 0:e.launchOptions.taskStartMsg="Execution started with Axiom desktop version "+t+", extension version "+chrome.runtime.getManifest().version,chrome.runtime.sendMessage({action:"task_report_load"}),e.taskUpdateId=0,this.sockets[e.task_id]=new l.SocketHandler(n),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.sockets[e.task_id].start()];case 2:return h.sent(),[3,4];case 3:return h.sent(),new f.ExecutionErrors(e.task_id).sendError("Failed to start","Could not start axiom - connection could not be established"),this.clearRunData(),[2];case 4:return a=this.rds.addState(e.task_id,"running"),this.latestState=a,[4,this.rds.store()];case 5:return h.sent(),this.sockets[e.task_id].sendFullExecutionMessage(e,(function(t){return r(s,void 0,void 0,(function(){var n,r,s,l,h,d,p,v,m=this;return i(this,(function(i){switch(i.label){case 0:if("browser_command"!==t.automation_status)return[3,14];switch(t.command){case"display_message":return[3,1];case"navigate":return[3,2];case"download_csv":return[3,3];case"storage_values":return[3,4];case"current_url":return[3,5];case"task_update":return[3,6];case"axiom_api_store":return[3,7];case"trigger_widget":return[3,8];case"end_run":return[3,9]}return[3,13];case 1:return e.pid>0?this.sendMessageToRunViewer({command:"display_message",data:{task_id:e.task_id,message:t.data.message}}):c.AxiomApiHelper.sendTabMessage("display_message",{message:t.data.message}).then((function(e){})),[3,13];case 2:return chrome.tabs.create({url:t.data.url,active:!1},(function(){})),[3,13];case 3:return n=t.data.filename?t.data.filename:"export.csv",c.AxiomApiHelper.sendTabMessage("download_csv",{csvData:t.data.csvData,filename:n}),[3,13];case 4:return r=u.AxiomApiBrowser.getStorageValues(t.data.urls),s=new Promise((function(e){u.AxiomApiBrowser.getCookies(t.data.urls,e)})),Promise.all([r,s]).then((function(t){m.sockets[e.task_id].sendStorageValues(t)})),[3,13];case 5:return c.AxiomApiHelper.sendTabMessage("current_url",{}).then((function(t){new Promise((function(n,r){m.sockets[e.task_id].sendCurrentUrl(t),n("")}))})),[3,13];case 6:return(l=parseInt(t.data.taskId))||(l=e.task_id),"Failure"===t.data.status?new f.ExecutionErrors(l).sendError(t.data.method,t.data.log):"Success"===t.data.status&&(h=t.data.description.split("\n")).length>3&&(d=h.slice(1,h.length),chrome.runtime.sendMessage({action:"show_warnings",task_id:l,warnings:d})),[3,13];case 7:return new Promise((function(e,t){chrome.storage.local.get("axiom_api_store",(function(t){if(t.axiom_api_store)try{var n=JSON.parse(t.axiom_api_store);e(n)}catch(t){e({error:t})}else e([[]])}))})).then((function(t){m.sockets[e.task_id].sendApiValues(t)})),[3,13];case 8:return(p=t.data.task_id)||(p=e.task_id),e.pid>0&&this.sendMessageToRunViewer({command:"update_step",data:{index:t.data.index,task_id:p}}),[3,13];case 9:return(v=parseInt(t.data))||(v=e.task_id),[4,this.endCloudRun(v)];case 10:return i.sent(),o(),[4,this.rds.loadState(v)];case 11:return(a=i.sent()).id=null,a.state="ready",[4,this.rds.store()];case 12:return i.sent(),delete this.sockets[v],chrome.runtime.sendMessage({action:"task_report_load"}),[3,13];case 13:return[3,16];case 14:return"websocket_died"!==t.automation_status?[3,16]:(new f.ExecutionErrors(e.task_id).sendError("Connection interrupted","Your connection was disrupted! Axiom will continue running in the background and complete the task, but you will no longer get live updates."),[4,this.clearRunData()]);case 15:i.sent(),i.label=16;case 16:return[2]}}))}))})),[2]}}))}))},t.prototype.cloudResponse=function(e,t){return r(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,this.clearRunData()];case 1:return n.sent(),t(e),[2]}}))}))},t.prototype.startLegacyCloud=function(e,t,n){return r(this,void 0,void 0,(function(){var o=this;return i(this,(function(a){switch(a.label){case 0:return[4,this.rds.load()];case 1:return a.sent(),u.AxiomApiBrowser.getUsedCookies(c.AxiomApiHelper.extractFormData(t,!0),(function(a){return r(o,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:return r=e.cloud_backend+"/api/v1/run",[4,fetch(r,{method:"POST",headers:{"Content-Type":"application/json;charset=UTF8"},body:JSON.stringify({id:t.id,uid:e.id,token:e.token,cookies:a})})];case 1:return[4,i.sent().json()];case 2:o=i.sent();try{"Failure"===o.status&&new f.ExecutionErrors(t.id).sendError("Clour run failed",o.description),this.cloudResponse(!0,n)}catch(e){this.cloudResponse(!1,n)}return[2]}}))}))})),[2]}}))}))},t.prototype.cloudError=function(e,t,n){return void 0===n&&(n=!1),r(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return new f.ExecutionErrors(t).sendError("Could not start task",e,null,n),[4,this.clearRunData(t)];case 1:return r.sent(),[2]}}))}))},t.prototype.sendTaskToCloud=function(t,n){return r(this,void 0,void 0,(function(){var r,o,a,u,c,l;return i(this,(function(i){switch(i.label){case 0:return[4,(r=new s.CurrentUserData).load()];case 1:return i.sent(),this.cra[t.task.id]=new h.CloudRunApi(r,t.task.id),[4,this.prepareCompleteTask(t)];case 2:return null!==(o=i.sent())?[3,4]:[4,this.clearRunData(t.task.id)];case 3:return i.sent(),[2];case 4:if(o.launchOptions.attachToExistingChrome)return this.cloudError("Bot bypassing currently requires the axiom desktop app. Please go to <a href='https://axiom.ai/guide-part-two' target='_blank'>https://axiom.ai/guide-part-two</a> to get it! If you've already downloaded it, please start it and select the 'Desktop' option when running.",o.task_id),[2];if(r.type<=2&&!e.env.ALLOW_FILE_STEPS_ON_CLOUD)for(a=0,u=o.steps;a<u.length;a++){if(-1!==(c=u[a]).machine_name.indexOf("Download")&&-1===c.machine_name.indexOf("DownloadToGoogleDrive")||-1!==c.machine_name.indexOf("Upload")&&-1===c.machine_name.indexOf("UploadFromGoogleDrive")||-1!==c.machine_name.indexOf("Import")||-1!==c.machine_name.indexOf("Attachment")||-1!==c.machine_name.indexOf("Screenshot")&&-1===c.machine_name.indexOf("ScreenshotToGoogleDrive")||-1!==c.machine_name.indexOf("SaveHTML")||-1!==c.machine_name.indexOf("DriverExportCSV"))return this.cloudError("Working with files requires the axiom desktop app. Please go to <a href='https://axiom.ai/guide-part-two' target='_blank'>https://axiom.ai/guide-part-two</a> to get it! If you've already downloaded it, please start it and select the 'Desktop' option when running.",o.task_id),[2];if(-1!==c.machine_name.indexOf("Gmail"))return this.cloudError("Working with Gmail widgets requires the axiom desktop app. Please go to <a href='https://axiom.ai/guide-part-two' target='_blank'>https://axiom.ai/guide-part-two</a> to get it! If you've already downloaded it, please start it and select the 'Desktop' option when running.",o.task_id),[2]}return o.steps=[],[4,this.cra[t.task.id].retrieveUrl()];case 5:return"ok"!==(l=i.sent())?[3,11]:r.type>=2?(o.pid=this.cra[t.task.id].pid,[4,this.sendCompleteTaskToPuppeteer(o,"latest","wss://"+this.cra[t.task.id].url+"/api/v2/trigger")]):[3,9];case 6:return i.sent(),t.task.data.headless?[3,8]:[4,this.cra[t.task.id].openWindow(o.task_id)];case 7:i.sent(),this.sendMessageToRunViewer({command:"set_task_info",data:{task:t.task}}),i.label=8;case 8:return[3,10];case 9:this.startLegacyCloud(r,t.task,n),this.cra[t.task.id].openWindow(o.task_id),i.label=10;case 10:return[3,12];case 11:"busy"===l?this.cloudError("Oh no, all our cloud servers are busy right now! Please wait or try downloading the axiom desktop app at <a href='https://axiom.ai/guide-part-two' target='_blank'>https://axiom.ai/guide-part-two</a>",o.task_id):"concurrency"===l?this.cloudError("All of your bot allocations are currently in use! Click below to stop them, or wait for them to finish.",o.task_id,!0):this.cloudError("Whoops, there is currently a problem connecting to our cloud server. Please wait, check your connection or try downloading the axiom desktop app at <a href='https://axiom.ai/guide-part-two' target='_blank'>https://axiom.ai/guide-part-two</a>",o.task_id),i.label=12;case 12:return[2]}}))}))},t.prototype.sendTaskToDesktop=function(e){return r(this,void 0,void 0,(function(){var t=this;return i(this,(function(n){return a.default.getInstalledVersion().then((function(n){return r(t,void 0,void 0,(function(){var t;return i(this,(function(r){switch(r.label){case 0:return[4,this.prepareCompleteTask(e)];case 1:return null!==(t=r.sent())?[3,3]:[4,this.clearRunData()];case 2:return r.sent(),[2];case 3:return t.steps=[],this.sendCompleteTaskToPuppeteer(t,n.version,"ws://localhost:3333/",(function(){})),[2]}}))}))})).catch((function(n){return r(t,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return new f.ExecutionErrors(e.task.id).sendError("Error","The Axiom desktop app is not running. Download or start it to begin automating!"),[4,this.clearRunData()];case 1:return t.sent(),[2]}}))}))})),[2]}))}))},t.prototype.sendMessageToRunViewer=function(e){var t=20,n=setInterval((function(){chrome.runtime.sendMessage({action:"updateViewer",command:e.command,data:e.data},(function(t){t===e.command&&clearInterval(n)})),--t<=0&&clearInterval(n)}),250)},t.prototype.stopCompleteTask=function(e){return r(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return[4,this.rds.load()];case 1:if(i.sent(),e)return[3,3];for(t in this.sockets)this.sockets[t].sendStopMessage(t);for(n in this.cra)this.endCloudRun(n);return this.rds.states=[],[4,this.rds.store()];case 2:return i.sent(),[2];case 3:return this.sockets[e]?[4,this.sockets[e].sendStopMessage(e)]:[3,5];case 4:i.sent(),delete this.sockets[e],i.label=5;case 5:return[4,this.endCloudRun(e)];case 6:return i.sent(),[4,this.rds.loadState(e)];case 7:return(r=i.sent()).id=null,r.state="ready",[4,this.rds.store()];case 8:return i.sent(),chrome.runtime.sendMessage({action:"task_report_load"}),[2]}}))}))},t.prototype.clearRunData=function(e){return void 0===e&&(e=0),r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.rds.load()];case 1:return t.sent(),e?[3,3]:(this.rds.states=[],[4,this.rds.store()]);case 2:return t.sent(),[2];case 3:return this.rds.clearState(e),[4,this.rds.store()];case 4:return t.sent(),chrome.runtime.sendMessage({action:"task_report_load"}),[2]}}))}))},t.prototype.endCloudRun=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:if(!this.cra[e])return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.cra[e].done(e)];case 2:return t.sent(),this.cra[e].closeWindow(e),delete this.cra[e],[3,4];case 3:return t.sent(),[3,4];case 4:return[2]}}))}))},t}();t.MessageHandlerExecution=m}).call(this,n(15))},486:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExecutionErrors=void 0;var i=r(n(53)),o=function(){function e(e){this.taskId=e}return e.prototype.validateForm=function(e){var t=!0;if(e.length<=0)this.sendError("No steps added","You must add at least one step to run an axiom.",-1),t=!1;else{var n=(new i.default).validateAll(e);if(n.length>0){t=!1,n.reverse();for(var r=0,o=n;r<o.length;r++){var a=o[r];this.sendError(a.widgetName,a.paramName+": "+a.message,a.windex)}}}return t},e.prototype.sendError=function(e,t,n,r){void 0===n&&(n=-1),void 0===r&&(r=!1);var i=e,o=[t],a=[{task_id:this.taskId,name:i,title:i,description:o,stopAll:r,windex:n}];chrome.runtime.sendMessage({action:"show_error",errors:a})},e}();t.ExecutionErrors=o},487:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.UserPodStatus=void 0;var o=n(8),a=function(){function e(e){this.pods=[],this.rds=e}return e.prototype.store=function(){throw new Error("Method not implemented.")},e.prototype.load=function(){return r(this,void 0,void 0,(function(){var e,t,n,r,a,s,u,c,l,f;return i(this,(function(i){switch(i.label){case 0:return[4,(e=new o.CurrentUserData).load()];case 1:if(i.sent(),!e.id)return[2];t=new AbortController,setTimeout((function(){return t.abort()}),5e3),i.label=2;case 2:return i.trys.push([2,8,,9]),[4,fetch("https://lar.axiom.ai/pod/assigned",{signal:t.signal,method:"get",headers:new Headers({Authorization:"Bearer "+e.token})})];case 3:return n=i.sent(),[4,this.rds.load()];case 4:for(i.sent(),r=0,a=this.pods;r<a.length;r++)l=a[r],this.rds.clearState(l.task_id);return[4,this.rds.store(!0)];case 5:return i.sent(),s=this,[4,n.json()];case 6:for(s.pods=i.sent(),u=0,c=this.pods;u<c.length;u++)l=c[u],this.rds.addState(l.task_id,"running",!0);return[4,this.rds.store(!0)];case 7:return i.sent(),chrome.runtime.sendMessage({action:"task_report_load"}),[3,9];case 8:return f=i.sent(),console.error(f),[3,9];case 9:return[2]}}))}))},e.prototype.getByTaskId=function(e){return r(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return this.pods.length?[3,2]:[4,this.load()];case 1:i.sent(),i.label=2;case 2:for(t=0,n=this.pods;t<n.length;t++)if((r=n[t]).task_id===e)return[2,r];return[2]}}))}))},e}();t.UserPodStatus=a},488:function(e,t,n){"use strict";(function(e){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SchedulerRun=void 0;var a=n(25),s=n(8),u=n(40),c=o(n(31)),l=n(143),f=n(18),h=function(){function t(e){this.started=!1,this.mhd=e,this.interval=null,this.rls=new l.RunLocalSchedules,this.rtm=new f.RuntimeModel}return t.prototype.start=function(e){return void 0===e&&(e=!1),r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return this.started?[2]:e?(this.startInterval(),[2]):[4,(t=new s.CurrentUserData).load()];case 1:return n.sent(),[4,a.taskApi.getUpcomingTriggers("9999-12-12 00:00:00",t.id)];case 2:return n.sent().data.scheduledTriggers.length&&this.startInterval(),[2]}}))}))},t.prototype.stop=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return this.started?[4,(e=new s.CurrentUserData).load()]:[2];case 1:return t.sent(),[4,a.taskApi.getUpcomingTriggers("9999-12-12 00:00:00",e.id)];case 2:return t.sent().data.scheduledTriggers.length||(clearInterval(this.interval),this.started=!1),[2]}}))}))},t.prototype.startInterval=function(){return r(this,void 0,void 0,(function(){var e=this;return i(this,(function(t){return setInterval(chrome.runtime.getPlatformInfo,2e4),this.started=!0,this.interval||this.getSchedules(),clearInterval(this.interval),this.interval=setInterval((function(){return r(e,void 0,void 0,(function(){return i(this,(function(e){return this.getSchedules(),[2]}))}))}),6e4),[2]}))}))},t.prototype.getSchedules=function(){return r(this,void 0,void 0,(function(){var t,n,r,o,u,c,l,f,h,d,p,v,m,y,g;return i(this,(function(i){switch(i.label){case 0:return[4,this.rls.load()];case 1:return i.sent(),this.rls.disabled?[2]:[4,this.rtm.load()];case 2:return i.sent(),this.rtm.percentageUsed>=100?[2]:(t=new Date(Date.now()),n=String(t.getUTCDate()).padStart(2,"0"),r=String(t.getUTCMonth()+1).padStart(2,"0"),o=t.getUTCFullYear(),u=t.getUTCHours(),c=String(t.getUTCMinutes()).padStart(2,"0"),l=String(t.getUTCMinutes()).padStart(2,"0"),f=o+"-"+r+"-"+n+" "+u+":"+c,h=o+"-"+r+"-"+n+" "+u+":"+l,[4,(d=new s.CurrentUserData).load()]);case 3:return i.sent(),d.id?[4,a.taskApi.getUpcomingTriggers(f,d.id)]:[3,5];case 4:if((p=i.sent()).data.scheduledTriggers&&p.data.scheduledTriggers.length>0)if(e.env.NO_DESKTOP_CONCURRENCY_LIMIT)for(v=0,m=p.data.scheduledTriggers;v<m.length;v++)y=m[v],this.scheduleTask(y,y.triggers[0].id,h);else g=p.data.scheduledTriggers.sort((function(e,t){return null!==e.triggers[0].last_run&&e.triggers[0].last_run<t.triggers[0].last_run?-1:1})),this.scheduleTask(g[0],g[0].triggers[0].id,h);i.label=5;case 5:return[2]}}))}))},t.prototype.scheduleTask=function(t,n,o){return r(this,void 0,void 0,(function(){var r,l,f,h=this;return i(this,(function(i){switch(i.label){case 0:return[4,(r=new s.CurrentUserData).load()];case 1:return i.sent(),r.id&&(0!==r.type||e.env.CLOUD_ENV)?[4,a.taskApi.getOne(t.id)]:[2];case 2:if(!(l=i.sent()).data.task_record)return[2];for(f=l.data.task_record;"string"==typeof f.data;)f.data=JSON.parse(f.data);return c.default.getRunStatus().then((function(t){if(e.env.NO_DESKTOP_CONCURRENCY_LIMIT||"ready"===t.status){var r=new u.TokenHelper;if(r.rebuild(f.data.form),h.mhd.sendTaskToDesktop({task:f,tokenHelper:r}),f.triggers&&"seconds"===f.triggers[0].interval_type&&f.triggers[0].time_criteria>60){var i=Date.parse(f.triggers[0].starting_time+" UTC"),s=f.triggers[0].time_criteria,c=Date.now(),l=Math.floor((c-i)/1e3),d=i+Math.floor(l/s)*s*1e3;o=h.formatUTCString(d)}a.taskApi.updateCompleteStatus(n,"active",o)}})).catch((function(e){console.error("Axiom run status could not be retrieved.")})),[2]}}))}))},t.prototype.formatUTCString=function(e){var t=new Date(e),n=String(t.getUTCDate()).padStart(2,"0"),r=String(t.getUTCMonth()+1).padStart(2,"0");return t.getUTCFullYear()+"-"+r+"-"+n+" "+t.getUTCHours()+":"+String(t.getUTCMinutes()).padStart(2,"0")+":00"},t}();t.SchedulerRun=h}).call(this,n(15))},489:function(e,t,n){"use strict";(function(e){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MesssageHandlerUser=void 0;var i=n(14),o=r(n(47)),a=n(33),s=n(48),u=n(8),c=n(58),l=function(){function t(){this.token=""}return t.prototype.setCurrentUser=function(e){chrome.storage.local.set({current_user:e,last_login:e.id}),e.token&&chrome.storage.local.set({axiom_token:e.token},(function(){i.apiProvider.initClient()})),chrome.runtime.setUninstallURL("https://axiom.ai/extension-uninstalled.html?user="+e.id),this.token=e.token;var t=new a.AxiomCurrentData;t.id=0,t.name="New automation",t.type="generic",t.creator_id=e.id,chrome.storage.local.remove("axiombuilder"),chrome.storage.local.set({axiombuilder:{iframe:1,bottomBar:!1}}),t.store().then((function(){chrome.tabs.query({active:!0,currentWindow:!0},(function(e){var t=!0;if(!e[0].url.startsWith("chrome-extension")){var n=new URL(e[0].url);t=/^(http:|https:|file:)$/.test(n.protocol)}t?chrome.tabs.sendMessage(e[0].id,{action:"reload"}):chrome.tabs.create({url:"http://blog.axiom.ai/"})}))}))},t.prototype.handle=function(t,n,r){var i=this;switch(t.greeting){case"set_current_user":this.setCurrentUser(t.user.login),r(!0);break;case"get_current_user":chrome.storage.local.get("current_user",(function(e){e&&e.current_user?r(e.current_user):r(void 0)}));break;case"unset_current_user":chrome.storage.local.set({axiombuilder:{iframe:-1}}),chrome.storage.local.remove("current_user");break;case"unset_user":chrome.storage.local.remove("current_user");break;case"unauthenticated_api":chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:"unauthenticated_api"})}));break;case"check_google_authentication":s.googleAuth.isAuthenticated().then((function(e){r(e.data.isAuthenticated.status)})).catch((function(e){r(e)}));break;case"check_microsoft_authentication":c.microsoftAuth.isAuthenticated().then((function(e){r(e.data.isAuthenticated.status)})).catch((function(e){r(e)}));break;case"api_token_login":if("1"!==e.env.CLOUD_ENV)return void r(!1);(new o.default).sendGqlQuery("\n                    query getApiToken($token: String!) {\n                        ApiTokenQuery(token: $token) {\n                            id, token\n                        }\n                    }\n                ",{token:t.token}).then((function(e){e?(i.setCurrentUser(e.data.ApiTokenQuery[0]),r(!0)):r(!1)}));break;case"update_user_language":var a=new u.CurrentUserData;a.load().then((function(){a.language!==navigator.language&&fetch("https://lar.axiom.ai/api/user/update-language?language="+navigator.language,{method:"get",headers:new Headers({Authorization:"Bearer "+a.token})}).then((function(){a.language=navigator.language,a.store()}))}))}},t}();t.MesssageHandlerUser=l}).call(this,n(15))},49:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},490:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandlerRunningData=void 0;var o=function(){function e(e){this.rds=null,this.rds=e}return e.prototype.handle=function(e,t,n){return r(this,void 0,void 0,(function(){var t;return i(this,(function(r){switch(r.label){case 0:switch(e.greeting){case"running_data_store":return[3,1];case"running_data_load":return[3,3];case"running_data_load_state":return[3,5];case"running_data_add_state":return[3,7];case"running_data_clear_state":return[3,8];case"running_data_clear_all_states":return[3,9]}return[3,11];case 1:return[4,this.rds.store(e.fireEventTrigger)];case 2:return r.sent(),n(""),[3,11];case 3:return[4,this.rds.load(e.skipEvent)];case 4:return r.sent(),n(this.rds.states),[3,11];case 5:return[4,this.rds.loadState(e.id)];case 6:return t=r.sent(),n({state:t,states:this.rds.states}),[3,11];case 7:return t=this.rds.addState(e.id,e.state,e.cloud),n({state:t,states:this.rds.states}),[3,11];case 8:return this.rds.clearState(e.id),n(this.rds.states),[3,11];case 9:return this.rds.states=[],[4,this.rds.store()];case 10:r.sent(),n(this.rds.states),r.label=11;case 11:return[2]}}))}))},e}();t.MessageHandlerRunningData=o},491:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RunningDataSingleton=void 0;var a=o(n(19)),s=o(n(31)),u=function(){this.id=null,this.running=!1,this.progress=0,this.locked=!1,this.state="ready",this.tab_id=null,this.cloud=!1},c=function(){function e(){this.states=[],this.appChecker=s.default}return e.prototype.store=function(e){return void 0===e&&(e=!1),r(this,void 0,void 0,(function(){var t=this;return i(this,(function(n){return this.states=this.states.filter((function(e){return e.id})),[2,new Promise((function(n){chrome.storage.local.set({running:{states:t.states}},(function(){return r(t,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return chrome.runtime.sendMessage({action:"load_running_data",skipEvent:e}),[4,a.default.expire("RuntimeModel")];case 1:return t.sent(),n(null),[2]}}))}))}))}))]}))}))},e.prototype.load=function(e){return void 0===e&&(e=!1),r(this,void 0,void 0,(function(){var t=this;return i(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){chrome.storage.local.get("running",(function(r){r.running&&r.running.states?t.states=r.running.states:t.states=[],e&&chrome.runtime.sendMessage({action:"load_running_data",skipEvent:!0}),n(null)}))}))];case 1:n.sent(),n.label=2;case 2:return n.trys.push([2,4,,5]),[4,this.appChecker.getInstalledVersion()];case 3:return n.sent().installed||(this.states=this.states.filter((function(e){return e.cloud}))),[3,5];case 4:return n.sent(),this.states=this.states.filter((function(e){return e.cloud})),[3,5];case 5:return[2]}}))}))},e.prototype.loadState=function(e){return r(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return[4,this.load()];case 1:if(i.sent(),0===this.states.length)return[2,new u];for(t=0,n=this.states;t<n.length;t++)if((r=n[t]).id===e)return[2,r];return[2,new u]}}))}))},e.prototype.addState=function(e,t,n){void 0===n&&(n=!1);for(var r=0,i=this.states;r<i.length;r++){var o=i[r];if(o.id===e)return o.state=t,o}var a=new u;return a.id=e,a.state=t,a.cloud=n,this.states.push(a),a},e.prototype.clearState=function(e){this.states=this.states.filter((function(t){return t.id!=e}))},e}();t.RunningDataSingleton=c},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(44);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return a(e,[])}function a(e,t){switch(i(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),i=function(e){var t=e[String(r.a)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==i){var o=i.call(e);if(o!==e)return"string"==typeof o?o:a(o,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,i=[],o=0;o<n;++o)i.push(a(e[o],t));1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items"));return"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";return"{ "+n.map((function(n){return n+": "+a(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}},52:function(e,t,n){"use strict";function r(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t=null,n=1;n<e.length;n++){var r=e[n],o=i(r);if(o!==r.length&&((null===t||o<t)&&0===(t=o)))break}return null===t?0:t}(t);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(;t.length>0&&o(t[0]);)t.shift();for(;t.length>0&&o(t[t.length-1]);)t.pop();return t.join("\n")}function i(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function o(e){return i(e)===e.length}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],a=!r||o||n,s="";return!a||r&&i||(s+="\n"+t),s+=t?e.replace(/\n/g,"\n"+t):e,a&&(s+="\n"),'"""'+s.replace(/"""/g,'\\"""')+'"""'}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}))},53:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(91),i=function(){function e(){var e=this;this.validationRules={integer:[function(e){return""===e||e&&!isNaN(e)||"Value must be a number"},function(e){return""===e||e&&e%1==0||"Value must be a whole number"}],integer_required:[function(e){return!!e||"Value is required"},function(e){return e&&!isNaN(e)||"Value must be a number"},function(e){return e&&e>=1||"Value must be greater than zero"},function(e){return e&&e%1==0||"Value must be a whole number"}],long_text_required:[function(e){return!!e||"Text is required"}],current_url:[function(e){return!!e||"URL is required"}],multiple_urls:[function(e){return!!e||"URL is required"}],spreadsheet_picker:[function(e){return!!e||"Please choose a sheet or enter a URL"}],spreadsheet_id:[function(e){return!!e||"URL is required"}],cell:[function(e){return""===e||"ZZ"===e||/^[A-Z]+[0-9]*$/.test(e)||-1!==e.indexOf("[")||"Value is not in the correct format - it should be capital letters followed by optional numbers"}],first_cell:[function(e){return""===e||"ZZ"===e||/^[A-Z]+[0-9]*$/.test(e)||-1!==e.indexOf("[")||"Value is not in the correct format - it should be capital letters followed by optional numbers"}],last_cell:[function(e){return""===e||"ZZ"===e||/^[A-Z]+[0-9]*$/.test(e)||-1!==e.indexOf("[")||"Value is not in the correct format - it should be capital letters followed by optional numbers"}],columns:[function(e){return/^((([A-Za-z](,( )*?)?)?)*[A-Za-z])*$|^((([0-9](,( )*?)?)?)*[0-9])*$/.test(e)||"Columns are not in the correct format - they should be separated by commas and listed in either letter format e.g. AA, AB or as numbers e.g. 1, 3"}],selected_axiom:[function(e){return!!e||"Please choose an axiom to run"}],smart_selector:[function(e){return!!e||e[0]&&""!==e[0].selector||"Please select items to scrape"}],selector_single:[function(e){return!!e||!(!e.hierarchy&&!e.innerText)||"Please select an item"}],select_coordinates:[function(e){return!!e||"Please select coordinates"}],max_cycles:[function(e){return 0===e||""===e||e&&!isNaN(e.replaceAll(/\[(.*)\]/g,""))||"Value must be a number or empty"},function(e){return 0===e||""===e||isNaN(e)||e&&e>0||"Value must be greater than zero"},function(e){return 0===e||""===e||isNaN(e)||e&&e%1==0||"Value must be a whole number"}],select_tab:[function(e){return!isNaN(e)||"Value must be a number"},function(e){return""===e||0==e||e>=0||"Value must be zero or greater"},function(e){return""===e||e%1==0||"Value must be a whole number"}],max_results:[function(e){return 0===e||""===e||e&&!isNaN(e)||"Value must be a number or empty"},function(e){return 0===e||""===e||e&&e>=1||"Value must be greater than zero"},function(e){return 0===e||""===e||e&&e%1==0||"Value must be a whole number"}],file_explorer:[function(e){return!!e||"Path is required"},function(e){return!e.match(/^.+\s$/i)||"Spaces not allowed at the end of path"},function(t){return""===t||e.checkFolderPathValidation(t)||"Path must be a valid one"}],local_folder:[function(e){return!1===e||!!e||"Folder path is required"}],file_upload:[function(e){return!!e||"Path is required"},function(e){return!e.match(/^.+\s$/i)||"Spaces not allowed at the end of path"},function(t){return""===t||e.checkFolderPathValidation(t)||"Path must be a valid one"}],file_name:[function(t){return""===t||e.validateFileName(t)||"File name contains illegal characters"}],page_count:[function(e){return!!e||"Value is required"},function(e){return""===e||e&&!isNaN(e.replaceAll(/\[(.*)\]/g,""))||"Value must be a number"},function(e){return 0===e||""===e||isNaN(e)||e&&e>0||"Value must be greater than zero"},function(e){return 0===e||""===e||isNaN(e)||e&&e%1==0||"Value must be a whole number"}],start_page:[function(e){return!!e||"Value is required"},function(e){return""===e||e&&!isNaN(e.replaceAll(/\[(.*)\]/g,""))||"Value must be a number"},function(e){return 0===e||""===e||isNaN(e)||e&&e>0||"Value must be greater than zero"},function(e){return 0===e||""===e||isNaN(e)||e&&e%1==0||"Value must be a whole number"}],screenshot_type:[function(e){return"element"!==e.screenshotType||!!e.screenshotElement||!(!e.screenshotElement.hierarchy&&!e.screenshotElement.innerText)||"Please select an item"}],write_google_sheet_token:[function(e){return!!e.length||"Please select data to write. To clear data without writing, try the Clear Google Sheet step."}],scraper_max_results:[function(e){return 0===e||""===e||e.match(/\[(.*)\]/)||e&&!isNaN(e)||"Value must be a number or empty"},function(e){return 0===e||""===e||e.match(/\[(.*)\]/)||e&&e>=1||"Value must be greater than zero"},function(e){return 0===e||""===e||e.match(/\[(.*)\]/)||e&&e%1==0||"Value must be a whole number"}],write_csv_data_token:[function(e){return!!e.length||"Please select data to write."}],excel_workbook_picker:[function(e){return!!e||"Please choose an Excel workbook or enter a URL"}],write_excel_sheet_token:[function(e){return!!e.length||"Please select data to write"}],ai_options:[function(e){return!!e.model||"Please select a model"},function(e){return!("generate"===e.aiFunction&&!e.prompt)||"Please enter a prompt"},function(e){return!("extract"===e.aiFunction&&!e.promptExtract)||"Please enter some items to extract"}]},this.warningRules={current_url:[function(e){return""===e||e&&!e.toLowerCase().includes("://docs.google.com/spreadsheets")||'This looks like a Google Sheets URL. Did you know we have dedicated steps for working with Google Sheets? <a href="https://axiom.ai/docs/integrations/google-sheets" target="_blank">Find out more</a>'},function(e){return""===e||e&&e.replace(/<br\s*\/?>/gi,"\n").replace(/,http:\/\/|,https:\/\/|,www./gi,"\n").split(/[\s\n\r]+/).length<=1||"It looks like you have entered multiple values, only one URL should be entered here."}],multiple_urls:[function(e){return Array.isArray(e)||""===e||e&&e.toLowerCase&&!e.toLowerCase().includes("://docs.google.com/spreadsheets")||'This looks like a Google Sheets URL. Did you know we have dedicated steps for working with Google Sheets? <a href="https://axiom.ai/docs/integrations/google-sheets" target="_blank">Find out more</a>'}]}}return e.prototype.isException=function(e){return e.name&&-1!==e.name.indexOf("pager")||"Select text field"===e.name},e.prototype.validateAll=function(e){var t=[];for(var n in e)if(!0!==e[n].is_disable)for(var i in e[n].params)if(!e[n].params[i].forceRequired||e[n].params[i].value){var o=r.ParamTypeAdapter.map(e[n].params[i].type),a=e[n].params[i].value,s=this.validationRules[o];if(!this.isException(e[n].params[i])&&s)for(var u=0,c=s;u<c.length;u++){var l=(0,c[u])(a);"string"==typeof l&&t.push({windex:n,widgetName:e[n].name,pindex:i,paramName:e[n].params[i].name,value:a,message:l})}}else t.push({windex:n,widgetName:e[n].name,pindex:i,paramName:e[n].params[i].name,value:e[n].params[i].value,message:"Field must be set"});return t},e.prototype.validateOne=function(e,t){var n=[];if("error"===t&&this.isException(e))return n;var r="error"===t?this.validationRules[e.type]:this.warningRules[e.type];if(!r)return n;for(var i=0,o=r;i<o.length;i++){var a=(0,o[i])(e.value);"string"==typeof a&&n.push(a)}return n},e.prototype.isValidationMessage=function(e){for(var t=0,n=["Value must","required","correct format","Please choose","Please select"];t<n.length;t++){var r=n[t];if(-1!==e.indexOf(r))return!0}return!1},e.prototype.checkFolderPathValidation=function(e){for(var t,n=e.replaceAll(/\[(.*)\]/g,""),r=/(\/.*|[a-zA-Z]:\\(?:([^<>:"\/\\|?*]*[^<>:"\/\\|?*.]\\|..\\)*([^<>:"\/\\|?*]*[^<>:"\/\\|?*.]\\?|..\\))?)/gm;null!==(t=r.exec(n));)if(t.index===r.lastIndex&&r.lastIndex++,t[0]&&t[0]!==t.input)return!1;return!0},e.prototype.validateFileName=function(e){var t=e.replaceAll(/\[(.*)\]/g,"").replace(/&nbsp;/g," ");return""===t||/^[^<>:;,?"*|/]+$/g.test(t)},e}();t.default=i},58:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.microsoftAuth=void 0;var o=n(14),a=new(function(){function e(){}return e.prototype.isAuthenticated=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){return[2,o.apiProvider.sendGqlQuery("query tr($service: String!) {\n          isAuthenticated(service:$service) {\n            service,\n            status,\n            scopes\n          }\n        }",{service:"microsoft"})]}))}))},e.prototype.requiresMicrosoftAuthentication=function(e){return["WidgetReadExcelSheet","WidgetWriteExcelSheet"].includes(e)},e}());t.microsoftAuth=a},6:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(0),i=Object.setPrototypeOf,o=void 0===i?function(e,t){return e.__proto__=t,e}:i,a=function(e){function t(n){void 0===n&&(n="Invariant Violation");var r=e.call(this,"number"==typeof n?"Invariant Violation: "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name="Invariant Violation",o(r,t.prototype),r}return Object(r.c)(t,e),t}(Error);function s(e,t){if(!e)throw new a(t)}function u(e){return function(){return console[e].apply(console,arguments)}}!function(e){e.warn=u("warn"),e.error=u("error")}(s||(s={}));var c={env:{}};if("object"==typeof e)c=e;else try{Function("stub","process = stub")(c)}catch(e){}}).call(this,n(15))},62:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},63:function(e,t,n){var r,i,o;
/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/i=[],void 0===(o="function"==typeof(r=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=t.IS_PAPA_WORKER||!1,i={},o=0,a={parse:function(n,r){var s=(r=r||{}).dynamicTyping||!1;if(w(s)&&(r.dynamicTypingFunction=s,s={}),r.dynamicTyping=s,r.transform=!!w(r.transform)&&r.transform,r.worker&&a.WORKERS_SUPPORTED){var u=function(){if(!a.WORKERS_SUPPORTED)return!1;var n,r,s=(n=t.URL||t.webkitURL||null,r=e.toString(),a.BLOB_URL||(a.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))),u=new t.Worker(s);return u.onmessage=m,u.id=o++,i[u.id]=u}();return u.userStep=r.step,u.userChunk=r.chunk,u.userComplete=r.complete,u.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,void u.postMessage({input:n,config:r,workerId:u.id})}var d=null;return a.NODE_STREAM_INPUT,"string"==typeof n?(n=function(e){return 65279===e.charCodeAt(0)?e.slice(1):e}(n),d=r.download?new c(r):new f(r)):!0===n.readable&&w(n.read)&&w(n.on)?d=new h(r):(t.File&&n instanceof File||n instanceof Object)&&(d=new l(r)),d.stream(n)},unparse:function(e,t){var n=!1,r=!0,i=",",o="\r\n",s='"',u=s+s,c=!1,l=null,f=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||a.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(i=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(s=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");l=t.columns}void 0!==t.escapeChar&&(u=t.escapeChar+s),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(f=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var h=new RegExp(p(s),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return d(null,e,c);if("object"==typeof e[0])return d(l||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||l),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),d(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function d(e,t,n){var a="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var s=Array.isArray(e)&&0<e.length,u=!Array.isArray(t[0]);if(s&&r){for(var c=0;c<e.length;c++)0<c&&(a+=i),a+=v(e[c],c);0<t.length&&(a+=o)}for(var l=0;l<t.length;l++){var f=s?e.length:t[l].length,h=!1,d=s?0===Object.keys(t[l]).length:0===t[l].length;if(n&&!s&&(h="greedy"===n?""===t[l].join("").trim():1===t[l].length&&0===t[l][0].length),"greedy"===n&&s){for(var p=[],m=0;m<f;m++){var y=u?e[m]:m;p.push(t[l][y])}h=""===p.join("").trim()}if(!h){for(var g=0;g<f;g++){0<g&&!d&&(a+=i);var b=s&&u?e[g]:g;a+=v(t[l][b],g)}l<t.length-1&&(!n||0<f&&!d)&&(a+=o)}}return a}function v(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var r=!1;f&&"string"==typeof e&&f.test(e)&&(e="'"+e,r=!0);var o=e.toString().replace(h,u);return(r=r||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(o,a.BAD_DELIMITERS)||-1<o.indexOf(i)||" "===o.charAt(0)||" "===o.charAt(o.length-1))?s+o+s:o}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\ufeff",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!n&&!!t.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=v,a.ParserHandle=d,a.NetworkStreamer=c,a.FileStreamer=l,a.StringStreamer=f,a.ReadableStreamStreamer=h,t.jQuery){var s=t.jQuery;s.fn.parse=function(e){var n=e.config||{},r=[];return this.each((function(e){if("INPUT"!==s(this).prop("tagName").toUpperCase()||"file"!==s(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:s.extend({},n)})})),i(),this;function i(){if(0!==r.length){var t,n,i,u=r[0];if(w(e.before)){var c=e.before(u.file,u.inputElem);if("object"==typeof c){if("abort"===c.action)return t=u.file,n=u.inputElem,i=c.reason,void(w(e.error)&&e.error({name:"AbortError"},t,n,i));if("skip"===c.action)return void o();"object"==typeof c.config&&(u.instanceConfig=s.extend(u.instanceConfig,c.config))}else if("skip"===c)return void o()}var l=u.instanceConfig.complete;u.instanceConfig.complete=function(e){w(l)&&l(e,u.file,u.inputElem),o()},a.parse(u.file,u.instanceConfig)}else w(e.complete)&&e.complete()}function o(){r.splice(0,1),i()}}}function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new d(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+e;this._partialLine="";var s=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var u=s.meta.cursor;this._finished||(this._partialLine=o.substring(u-this._baseIndex),this._baseIndex=u),s&&s.data&&(this._rowCount+=s.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:s,workerId:a.WORKER_ID,finished:c});else if(w(this._config.chunk)&&!n){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!c||!w(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(e){w(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:a.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=a.RemoteChunkSize),u.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=_(this._chunkLoaded,this),t.onerror=_(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function l(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=a.LocalChunkSize),u.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=_(this._chunkLoaded,this),t.onerror=_(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,i)}var o=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function f(e){var t;u.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function h(e){u.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=_((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=_((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=_((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=_((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function d(e){var t,n,r,i=Math.pow(2,53),o=-i,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,u=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,c=this,l=0,f=0,h=!1,d=!1,m=[],y={data:[],errors:[],meta:{}};if(w(e.step)){var g=e.step;e.step=function(t){if(y=t,x())k();else{if(k(),0===y.data.length)return;l+=t.data.length,e.preview&&l>e.preview?n.abort():(y.data=y.data[0],g(y,c))}}}function _(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function k(){return y&&r&&(O("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(y.data=y.data.filter((function(e){return!_(e)}))),x()&&function(){if(y)if(Array.isArray(y.data[0])){for(var t=0;x()&&t<y.data.length;t++)y.data[t].forEach(n);y.data.splice(0,1)}else y.data.forEach(n);function n(t,n){w(e.transformHeader)&&(t=e.transformHeader(t,n)),m.push(t)}}(),function(){if(!y||!e.header&&!e.dynamicTyping&&!e.transform)return y;function t(t,n){var r,i=e.header?{}:[];for(r=0;r<t.length;r++){var o=r,a=t[r];e.header&&(o=r>=m.length?"__parsed_extra":m[r]),e.transform&&(a=e.transform(a,o)),a=S(o,a),"__parsed_extra"===o?(i[o]=i[o]||[],i[o].push(a)):i[o]=a}return e.header&&(r>m.length?O("FieldMismatch","TooManyFields","Too many fields: expected "+m.length+" fields but parsed "+r,f+n):r<m.length&&O("FieldMismatch","TooFewFields","Too few fields: expected "+m.length+" fields but parsed "+r,f+n)),i}var n=1;return!y.data.length||Array.isArray(y.data[0])?(y.data=y.data.map(t),n=y.data.length):y.data=t(y.data,0),e.header&&y.meta&&(y.meta.fields=m),f+=n,y}()}function x(){return e.header&&0===m.length}function S(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(s.test(e)){var t=parseFloat(e);if(o<t&&t<i)return!0}return!1}(n)?parseFloat(n):u.test(n)?new Date(n):""===n?null:n):n;var r}function O(e,t,n,r){var i={type:e,code:t,message:n};void 0!==r&&(i.row=r),y.errors.push(i)}this.parse=function(i,o,s){var u=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(p(t)+"([^]*?)"+p(t),"gm"),r=(e=e.replace(n,"")).split("\r"),i=e.split("\n"),o=1<i.length&&i[0].length<r[0].length;if(1===r.length||o)return"\n";for(var a=0,s=0;s<r.length;s++)"\n"===r[s][0]&&a++;return a>=r.length/2?"\r\n":"\r"}(i,u)),r=!1,e.delimiter)w(e.delimiter)&&(e.delimiter=e.delimiter(i),y.meta.delimiter=e.delimiter);else{var c=function(t,n,r,i,o){var s,u,c,l;o=o||[",","\t","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var f=0;f<o.length;f++){var h=o[f],d=0,p=0,m=0;c=void 0;for(var y=new v({comments:i,delimiter:h,newline:n,preview:10}).parse(t),g=0;g<y.data.length;g++)if(r&&_(y.data[g]))m++;else{var b=y.data[g].length;p+=b,void 0!==c?0<b&&(d+=Math.abs(b-c),c=b):c=b}0<y.data.length&&(p/=y.data.length-m),(void 0===u||d<=u)&&(void 0===l||l<p)&&1.99<p&&(u=d,s=h,l=p)}return{successful:!!(e.delimiter=s),bestDelimiter:s}}(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);c.successful?e.delimiter=c.bestDelimiter:(r=!0,e.delimiter=a.DefaultDelimiter),y.meta.delimiter=e.delimiter}var l=b(e);return e.preview&&e.header&&l.preview++,t=i,n=new v(l),y=n.parse(t,o,s),k(),h?{meta:{paused:!0}}:y||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,n.abort(),t=w(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){c.streamer._halted?(h=!1,c.streamer.parseChunk(t,!0)):setTimeout(c.resume,3)},this.aborted=function(){return d},this.abort=function(){d=!0,n.abort(),y.meta.aborted=!0,w(e.complete)&&e.complete(y),t=""}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(e){var t,n=(e=e||{}).delimiter,r=e.newline,i=e.comments,o=e.step,s=e.preview,u=e.fastMode,c=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof n||-1<a.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<a.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var l=0,f=!1;this.parse=function(a,h,d){if("string"!=typeof a)throw new Error("Input must be a string");var v=a.length,m=n.length,y=r.length,g=i.length,b=w(o),_=[],k=[],x=[],S=l=0;if(!a)return W();if(e.header&&!h){var O=a.split(r)[0].split(n),E=[],T={},I=!1;for(var A in O){var j=O[A];w(e.transformHeader)&&(j=e.transformHeader(j,A));var D=j,C=T[j]||0;for(0<C&&(I=!0,D=j+"_"+C),T[j]=C+1;E.includes(D);)D=D+"_"+C;E.push(D)}if(I){var R=a.split(r);R[0]=E.join(n),a=R.join(r)}}if(u||!1!==u&&-1===a.indexOf(t)){for(var N=a.split(r),P=0;P<N.length;P++){if(x=N[P],l+=x.length,P!==N.length-1)l+=r.length;else if(d)return W();if(!i||x.substring(0,g)!==i){if(b){if(_=[],U(x.split(n)),z(),f)return W()}else U(x.split(n));if(s&&s<=P)return _=_.slice(0,s),W(!0)}}return W()}for(var M=a.indexOf(n,l),L=a.indexOf(r,l),q=new RegExp(p(c)+p(t),"g"),F=a.indexOf(t,l);;)if(a[l]!==t)if(i&&0===x.length&&a.substring(l,l+g)===i){if(-1===L)return W();l=L+y,L=a.indexOf(r,l),M=a.indexOf(n,l)}else if(-1!==M&&(M<L||-1===L))x.push(a.substring(l,M)),l=M+m,M=a.indexOf(n,l);else{if(-1===L)break;if(x.push(a.substring(l,L)),B(L+y),b&&(z(),f))return W();if(s&&_.length>=s)return W(!0)}else for(F=l,l++;;){if(-1===(F=a.indexOf(t,F+1)))return d||k.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:_.length,index:l}),G();if(F===v-1)return G(a.substring(l,F).replace(q,t));if(t!==c||a[F+1]!==c){if(t===c||0===F||a[F-1]!==c){-1!==M&&M<F+1&&(M=a.indexOf(n,F+1)),-1!==L&&L<F+1&&(L=a.indexOf(r,F+1));var $=V(-1===L?M:Math.min(M,L));if(a.substr(F+1+$,m)===n){x.push(a.substring(l,F).replace(q,t)),a[l=F+1+$+m]!==t&&(F=a.indexOf(t,l)),M=a.indexOf(n,l),L=a.indexOf(r,l);break}var Q=V(L);if(a.substring(F+1+Q,F+1+Q+y)===r){if(x.push(a.substring(l,F).replace(q,t)),B(F+1+Q+y),M=a.indexOf(n,l),F=a.indexOf(t,l),b&&(z(),f))return W();if(s&&_.length>=s)return W(!0);break}k.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:_.length,index:l}),F++}}else F++}return G();function U(e){_.push(e),S=l}function V(e){var t=0;if(-1!==e){var n=a.substring(F+1,e);n&&""===n.trim()&&(t=n.length)}return t}function G(e){return d||(void 0===e&&(e=a.substring(l)),x.push(e),l=v,U(x),b&&z()),W()}function B(e){l=e,U(x),x=[],L=a.indexOf(r,l)}function W(e){return{data:_,errors:k,meta:{delimiter:n,linebreak:r,aborted:f,truncated:!!e,cursor:S+(h||0)}}}function z(){o(W()),_=[],k=[]}},this.abort=function(){f=!0},this.getCharIndex=function(){return l}}function m(e){var t=e.data,n=i[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){r=!0,y(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:g,resume:g};if(w(n.userStep)){for(var a=0;a<t.results.data.length&&(n.userStep({data:t.results.data[a],errors:t.results.errors,meta:t.results.meta},o),!r);a++);delete t.results}else w(n.userChunk)&&(n.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!r&&y(t.workerId,t.results)}function y(e,t){var n=i[e];w(n.userComplete)&&n.userComplete(t),n.terminate(),delete i[e]}function g(){throw new Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=b(e[n]);return t}function _(e,t){return function(){e.apply(t,arguments)}}function w(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===a.WORKER_ID&&n&&(a.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:a.WORKER_ID,results:a.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=a.parse(n.input,n.config);r&&t.postMessage({workerId:a.WORKER_ID,results:r,finished:!0})}}),(c.prototype=Object.create(u.prototype)).constructor=c,(l.prototype=Object.create(u.prototype)).constructor=l,(f.prototype=Object.create(f.prototype)).constructor=f,(h.prototype=Object.create(u.prototype)).constructor=h,a})?r.apply(t,i):r)||(e.exports=o)},69:function(e,t,n){"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},o={key:r,value:e[r]};return n(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(t)-1,u=Object.keys(t).sort(i&&i(t));for(a="",n=0;n<u.length;n++){var c=u[n],l=e(t[c]);l&&(a&&(a+=","),a+=JSON.stringify(c)+":"+l)}return o.splice(s,1),"{"+a+"}"}}(e)}},7:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(0),i=Object.setPrototypeOf,o=void 0===i?function(e,t){return e.__proto__=t,e}:i,a=function(e){function t(n){void 0===n&&(n="Invariant Violation");var r=e.call(this,"number"==typeof n?"Invariant Violation: "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name="Invariant Violation",o(r,t.prototype),r}return Object(r.c)(t,e),t}(Error);function s(e,t){if(!e)throw new a(t)}function u(e){return function(){return console[e].apply(console,arguments)}}!function(e){e.warn=u("warn"),e.error=u("error")}(s||(s={}));var c={env:{}};if("object"==typeof e)c=e;else try{Function("stub","process = stub")(c)}catch(e){}}).call(this,n(15))},70:function(e,t,n){"use strict";(function(e,r){var i,o=n(71);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(o.a)(i);t.a=a}).call(this,n(49),n(100)(e))},71:function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},72:function(e,t,n){e.exports=n(101).Observable},73:function(e,t,n){"use strict";n.r(t),n.d(t,"AxiomApiIntegrations",(function(){return s}));var r=n(28),i=n(12),o=n(8),a=n(14);class s{static getSpreadsheetIdFromUrl(e,t){r.AxiomApiUtilities.formatData(e,"string",e=>{let n=e.split("/");n.slice(-1)[0].includes("edit")||n.push("edit");let r=n.length>1?n[n.length-2]:n[0];t(r)})}static async createGoogleSheet(e,t){const n=new o.CurrentUserData;await n.load(),a.apiProvider.sendGqlMutation("mutation Create($name: String!, $user_id: Int!) {  \n                CreateGoogleSheet(\n                    name: $name,\n                    user_id: $user_id\n                ) {    \n                    id,\n                    url,\n                    sheet_data\n                }\n            }",{name:e.name,user_id:n.id}).then(e=>{t(e.data.CreateGoogleSheet)},e=>{const n=e?e.graphQLErrors[0].message:"No response from google sheets api";t({error:"Failed to create google sheet\n "+n})})}static createSheetInGoogleSheet(e,t){this.getSpreadsheetIdFromUrl(e.spreadsheet_id,async n=>{a.apiProvider.sendGqlMutation("mutation CreateWorkSheet($spreadsheet_id: String!, $title: String!, $rename: Boolean!) {  \n                    CreateWorkSheet(\n                        spreadsheet_id: $spreadsheet_id,\n                        title: $title,\n                        rename: $rename\n                    ) {    \n                        id\n                    }\n                }",{spreadsheet_id:n,title:e.title,rename:e.rename}).then(e=>{t(e.data.CreateWorkSheet)},e=>{const n=e?e.graphQLErrors[0].message:"No response from google sheets api";t({error:"Failed to create new sheet in google sheet: \n "+n})})})}static appendGoogleSheet(e,t){this.getSpreadsheetIdFromUrl(e.spreadsheet_id,async n=>{e.range=e.sheet_name?e.sheet_name+"!A1:Z":"A1:Z",this.readGoogleSheet(e,r=>{if(r.error)t({error:r.error});else{let o=0,a=0;if(e.start_cell&&void 0!==e.start_cell){o=parseInt(e.start_cell.replace(/\D/g,""))-1;const t=e.start_cell.toUpperCase().replace(/[^A-Z]/g,"");a=i.AxiomApiHelper.getColIndex(t)}else o=r&&null!=r.values?r.values.length:0;this.updateGoogleSheet({spreadsheet_id:n,data:e.data,offset:o,column_offset:a,sheet_name:e.sheet_name},e=>{t(e)})}})})}static overwriteGoogleSheet(e,t){this.getSpreadsheetIdFromUrl(e.spreadsheet_id,async n=>{e.spreadsheet_id=n,e.range=e.sheet_name?e.sheet_name+"!A1:Z":"A1:Z",this.readGoogleSheet(e,n=>{n.error?t({error:n.error}):(e.range=n?n.range:"A1",this.clearGoogleSheet(e,n=>{this.updateGoogleSheet(e,e=>{t(e)})}))})})}static updateGoogleSheet(e,t){if(e.data){let n="",r="";const s=e.offset?parseInt(e.offset):0,u=e.column_offset?parseInt(e.column_offset):0,c=5e3;let l=Math.ceil(e.data.length/c),f=0,h=!1;for(let d=0;d<l;d++){r="",n="";for(let t=0;t<c;t++){if(f<e.data.length){const t=f+s;for(let o=0;o<e.data[f].length;o++){let a=o+u;n+=i.AxiomApiHelper.getColLetter(a)+(t+1).toString()+"||";let s=e.data[f][o].length>5e4?e.data[f][o].slice(0,5e4):e.data[f][o];s=s.replace?s.replace(/\|\|/g,""):"",r+=s+"||"}}f++}if(((n,r,i)=>{this.getSpreadsheetIdFromUrl(e.spreadsheet_id,async s=>{const u=new o.CurrentUserData;await u.load(),a.apiProvider.sendGqlMutation("mutation addData($spreadsheet_id: String!, $range: String!, $row: String!, $sheet: String, $user_id: Int!) {\n                                CreateRaw(\n                                    spreadsheet_id: $spreadsheet_id, \n                                    range: $range, \n                                    row: $row, \n                                    sheet: $sheet,\n                                    user_id: $user_id\n                                ) {\n                                    id\n                                }\n                            }",{spreadsheet_id:s,range:r,row:n,sheet:e.sheet_name,user_id:u.id}).then(e=>{i===l-1&&t()},n=>{this.googleSheetError(n,e,t),h=!0})})})(r,n,d),h)break}}else t({error:"No data received to write to Google sheet"})}static readGoogleSheet(e,t){this.getSpreadsheetIdFromUrl(e.spreadsheet_id,async n=>{if(n){const r=new o.CurrentUserData;await r.load(),a.apiProvider.sendGqlQuery("query C($spreadsheet_id: String!, $range: String!, $row: Int!, $user_id: Int!) {  \n                        google_sheets(\n                            id: $spreadsheet_id, \n                            range: $range, \n                            row: $row, \n                            user_id: $user_id\n                        ) {    \n                            sheet_data  \n                        }\n                    }",{spreadsheet_id:n,range:e.range?e.range:"A1:Z",row:e.row?e.row:-1,user_id:r.id}).then(e=>{let n=JSON.parse(e.data.google_sheets.sheet_data);for(let e in n.values)n.values[e]=n.values[e].map(e=>e.trim());t(n)},n=>{console.error(n),this.googleSheetError(n,e,t)})}else t()})}static sortGoogleSheet(e,t){this.getSpreadsheetIdFromUrl(e.spreadsheet_id,async n=>{const r=new o.CurrentUserData;await r.load(),a.apiProvider.sendGqlMutation("mutation sort($spreadsheet_id: String!, $range: [String!], $columns: [String!], $sort_orders: [String!],  $user_id: Int!) {\n                    SortByColumn(spreadsheet_id: $spreadsheet_id, range: $range, columns: $columns, sort_orders: $sort_orders, user_id: $user_id) {\n                            sheet_data\n                    }\n                }",{spreadsheet_id:n,range:e.range?e.range:"",columns:e.columns?e.columns:["A"],sort_orders:e.sort_orders?e.sort_orders:["ASCENDING"],user_id:res}).then(e=>{t(e)},e=>{const n=e?e.graphQLErrors[0].message:"No response from google sheets api";t({error:"Failed to sort google sheet:\n"+n})})})}static setGoogleSheetColour(e,t){this.getSpreadsheetIdFromUrl(e.spreadsheet_id,async n=>{const r=new o.CurrentUserData;await r.load(),a.apiProvider.sendGqlMutation("mutation colour($spreadsheet_id: String!, $range: [String!], $background_colour: String!, $foreground_colour: String!, $user_id: Int!) {\n                    SetSheetColour(spreadsheet_id: $spreadsheet_id, range: $range, background_colour: $background_colour, foreground_colour: $foreground_colour, user_id: $user_id) {\n                            sheet_data\n                    }\n                }",{spreadsheet_id:n,range:e.range?e.range:"",background_colour:e.background_colour?e.background_colour:"#ffffff",foreground_colour:e.foreground_colour?e.foreground_colour:"#000000",user_id:res}).then(e=>{t(e)},e=>{const n=e?e.graphQLErrors[0].message:"No response from google sheets api";t({error:"Error writing to google sheet:\n"+n})})})}static async clearGoogleSheet(e,t){const n=new o.CurrentUserData;await n.load(),a.apiProvider.sendGqlMutation("mutation clear($spreadsheet_id: String!,$sheet: String!, $user_id: Int!) {\n                ClearSheet(spreadsheet_id: $spreadsheet_id, sheet: $sheet, user_id: $user_id) {\n                    sheet_data\n                }\n            }",{spreadsheet_id:e.spreadsheet_id,sheet:e.sheet?e.sheet:e.sheet_name?e.sheet_name:"",user_id:n.id}).then(e=>{t(e)},e=>{const n=e?e.graphQLErrors[0].message:"No response from google sheets api";t({error:"Error clearing google sheet:\n"+n})})}static async deleteRowsFromGoogleSheet(e,t){this.getSpreadsheetIdFromUrl(e.spreadsheet_id,n=>{a.apiProvider.sendGqlMutation("mutation deleteRows($spreadsheet_id: String!, $start: Int!, $end: Int!, $sheet: String!) {\n                    DeleteRows(spreadsheet_id: $spreadsheet_id, start: $start, end: $end, sheet: $sheet) {\n                        sheet_data\n                    }\n                }",{spreadsheet_id:n,start:e.start,end:e.end,sheet:e.sheet}).then(e=>{t(e)},n=>{console.error(n),this.googleSheetError(n,e,t)})})}static google(e,t){a.apiProvider.sendGqlQuery('query search($targets: String!, $sources: String!) {\n                google_search(targets: $targets, sources: $sources, custom_search_engine_id: "13251396980407527310:a3tmw-jdsum") {\n                    response\n                }\n            }',{}).then(e=>{t(e)})}static sendEmail(e,t){let n=e.email_addresses;"string"==typeof e.email_addresses||e.email_addresses instanceof String?(n=e.email_addresses.split("<br>").map(e=>e.replace(/&nbsp;/g,"").trim()).filter(e=>""!==e).map(e=>e.split(",")),n=u(n)):Array.isArray(e.email_addresses)&&(n=u(n),n=n.filter(e=>""!==e));let r=e.body;Array.isArray(e.body)&&(r=e.body.join(" ")),a.apiProvider.sendGqlQuery("query xy($email: [String], $message: String, $subject: String) {\n                emailsender(email: $email, message: $message, subject: $subject) {\n                    response\n                }\n            }",{email:n,subject:e.subject?e.subject:"Email subject",message:r||"Email body"}).then(e=>{t(e)},e=>{const n=e?e.graphQLErrors[0].message:"No response from email api";t({error:"Failed to send email - "+n})})}static async sendSms(e,t){let n=e.phone_numbers;"string"==typeof e.phone_numbers||e.phone_numbers instanceof String?(n.replace(/\s/g,""),n=n.replace("<br>",",").split(",")):Array.isArray(e.phone_numbers)&&(n=u(e.phone_numbers),n=n[0].replace("<br>",",").split(","));let r=e.body?e.body:"Axiom";r=r.replace(/<br\s*[\/]?>/gi,"\n"),a.apiProvider.sendGqlQuery('query sms($phoneno: [String],$message: String) {\n                smssender(phoneno: $phoneno, subject: "Axiom", message: $message) {\n                    response\n                }\n            }',{phoneno:n,message:r}).then(e=>{t(e)},e=>{let n=e?e.graphQLErrors[0].message:"No response from sms api";n="Error sending Sms \n"+n,t({error:n})})}static googleSheetError(e,t,n){try{if("string"==typeof e.graphQLErrors[0].message){let t=JSON.parse(e.graphQLErrors[0].message);if(t.error.status)switch(t.error.status){case"PERMISSION_DENIED":n({error:"You have insufficient permissions to access this Google sheet, you will need to share the sheet with the Google account that you have connected to your Axiom account."});break;case"NOT_FOUND":n({error:"The sheet cannot be found. Please verify the URL and the name are valid."});break;case"INVALID_ARGUMENT":n({error:"A sheet on the name you've provided seems missing or incorrect. Please verify!"});break;default:n({error:e.graphQLErrors[0].message})}else n({error:e.graphQLErrors[0].message})}else{let r=JSON.parse(e.graphQLErrors[0].message).error;-1!==r.message.toLowerCase().indexOf("unable to parse range")?t.range?n({error:"Could not find the specified place in the Google sheet! Please check that sheet/range "+t.range+" exists."}):n({error:"Could not find the specified place in the Google sheet! Please check that range A1:Z exists."}):n({error:"Error reading from Google sheet - "+r.message})}}catch(e){n({error:"Error reading from Google sheet"})}}static async AxiomApiRestApi(e,t){a.apiProvider.sendGqlMutation("mutation RestApi($url: String!, $type: String!, $data: String!) {\n                RestApi(\n                    url: $url,\n                    type: $type,\n                    data: $data\n                ) {\n                    response\n                }\n            }",{url:e.url,type:e.type,data:e.data}).then(e=>{t(e.data.RestApi.response)},e=>{const n=e?e.graphQLErrors[0].message:"No response from webhook";t({error:"Trigger webhook error: "+n})})}static readExcelSheet(e,t){r.AxiomApiUtilities.formatData(e.workbook,"string",async n=>{a.apiProvider.sendGqlQuery("query ReadExcelSheet($workbook_url: String!, $sheet_name: String!, $range: String!) {\n                    ReadExcelSheet(workbook_url: $workbook_url, sheet_name: $sheet_name, range: $range) {\n                        excel_sheet_data\n                    }\n                }",{workbook_url:n,sheet_name:e.sheetName,range:e.range}).then(e=>{let n=JSON.parse(e.data.ReadExcelSheet.excel_sheet_data);for(let e in n)n[e]=n[e].map(e=>e.trim());t(n)},n=>{this.excelSheetError(n,e,t)})})}static excelSheetError(e,t,n){if(e.graphQLErrors&&e.graphQLErrors[0].message){let t=e.graphQLErrors[0].message.replace(/\/\n/g,"").replace(/\n/g,""),r=t.substring(t.indexOf('{"error":'));try{switch(JSON.parse(r).error.code){case"InvalidAuthenticationToken":n({error:"Your Microsoft access token is invalid or has expired - please reconnect your Microsoft account to use this step."});break;default:n({error:t})}}catch{n({error:"Excel sheet error - "+t})}}else n({error:"Excel sheet error - "+JSON.stringify(e)})}}function u(e){return e.reduce((function(e,t){return e.concat(Array.isArray(t)?u(t):t)}),[])}},78:function(e,t,n){"use strict";n.r(t),n.d(t,"ApolloClient",(function(){return j})),n.d(t,"ApolloError",(function(){return y})),n.d(t,"FetchType",(function(){return m})),n.d(t,"NetworkStatus",(function(){return r})),n.d(t,"ObservableQuery",(function(){return g})),n.d(t,"isApolloError",(function(){return v}));var r,i=n(0),o=n(2),a=n(22),s=n(13),u=n(16),c=n(70),l=n(6),f=n(17);function h(e){return e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(r||(r={}));var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype[c.a]=function(){return this},t.prototype["@@observable"]=function(){return this},t}(s.a);function p(e){return Array.isArray(e)&&e.length>0}function v(e){return e.hasOwnProperty("graphQLErrors")}var m,y=function(e){function t(n){var r,i,o=n.graphQLErrors,a=n.networkError,s=n.errorMessage,u=n.extraInfo,c=e.call(this,s)||this;return c.graphQLErrors=o||[],c.networkError=a||null,c.message=s||(i="",p((r=c).graphQLErrors)&&r.graphQLErrors.forEach((function(e){var t=e?e.message:"Error message not found.";i+="GraphQL error: "+t+"\n"})),r.networkError&&(i+="Network error: "+r.networkError.message+"\n"),i=i.replace(/\n$/,"")),c.extraInfo=u,c.__proto__=t.prototype,c}return Object(i.c)(t,e),t}(Error);!function(e){e[e.normal=1]="normal",e[e.refetch=2]="refetch",e[e.poll=3]="poll"}(m||(m={}));var g=function(e){function t(t){var n=t.queryManager,r=t.options,i=t.shouldSubscribe,a=void 0===i||i,s=e.call(this,(function(e){return s.onSubscribe(e)}))||this;s.observers=new Set,s.subscriptions=new Set,s.isTornDown=!1,s.options=r,s.variables=r.variables||{},s.queryId=n.generateQueryId(),s.shouldSubscribe=a;var u=Object(o.m)(r.query);return s.queryName=u&&u.name&&u.name.value,s.queryManager=n,s}return Object(i.c)(t,e),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){i.unsubscribe()}),0)},error:n},i=e.subscribe(r)}))},t.prototype.currentResult=function(){var e=this.getCurrentResult();return void 0===e.data&&(e.data={}),e},t.prototype.getCurrentResult=function(){if(this.isTornDown){var e=this.lastResult;return{data:!this.lastError&&e&&e.data||void 0,error:this.lastError,loading:!1,networkStatus:r.error}}var t,n,o,a=this.queryManager.getCurrentQueryResult(this),s=a.data,u=a.partial,c=this.queryManager.queryStore.get(this.queryId),l=this.options.fetchPolicy,f="network-only"===l||"no-cache"===l;if(c){var d=c.networkStatus;if(n=c,void 0===(o=this.options.errorPolicy)&&(o="none"),n&&(n.networkError||"none"===o&&p(n.graphQLErrors)))return{data:void 0,loading:!1,networkStatus:d,error:new y({graphQLErrors:c.graphQLErrors,networkError:c.networkError})};c.variables&&(this.options.variables=Object(i.a)(Object(i.a)({},this.options.variables),c.variables),this.variables=this.options.variables),t={data:s,loading:h(d),networkStatus:d},c.graphQLErrors&&"all"===this.options.errorPolicy&&(t.errors=c.graphQLErrors)}else{var v=f||u&&"cache-only"!==l;t={data:s,loading:v,networkStatus:v?r.loading:r.ready}}return u||this.updateLastResult(Object(i.a)(Object(i.a)({},t),{stale:!1})),Object(i.a)(Object(i.a)({},t),{partial:u})},t.prototype.isDifferentFromLastResult=function(e){var t=this.lastResultSnapshot;return!(t&&e&&t.networkStatus===e.networkStatus&&t.stale===e.stale&&Object(a.a)(t.data,e.data))},t.prototype.getLastResult=function(){return this.lastResult},t.prototype.getLastError=function(){return this.lastError},t.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){var e=this.queryManager.queryStore.get(this.queryId);e&&(e.networkError=null,e.graphQLErrors=[])},t.prototype.refetch=function(e){var t=this.options.fetchPolicy;return"cache-only"===t?Promise.reject(new l.a("cache-only fetchPolicy option should not be used together with query refetch.")):("no-cache"!==t&&"cache-and-network"!==t&&(t="network-only"),Object(a.a)(this.variables,e)||(this.variables=Object(i.a)(Object(i.a)({},this.variables),e)),Object(a.a)(this.options.variables,this.variables)||(this.options.variables=Object(i.a)(Object(i.a)({},this.options.variables),this.variables)),this.queryManager.fetchQuery(this.queryId,Object(i.a)(Object(i.a)({},this.options),{fetchPolicy:t}),m.refetch))},t.prototype.fetchMore=function(e){var t=this;Object(l.b)(e.updateQuery,"updateQuery option is required. This function defines how to update the query data with the new results.");var n=Object(i.a)(Object(i.a)({},e.query?e:Object(i.a)(Object(i.a)(Object(i.a)({},this.options),e),{variables:Object(i.a)(Object(i.a)({},this.variables),e.variables)})),{fetchPolicy:"network-only"}),r=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(r,n,m.normal,this.queryId).then((function(i){return t.updateQuery((function(t){return e.updateQuery(t,{fetchMoreResult:i.data,variables:n.variables})})),t.queryManager.stopQuery(r),i}),(function(e){throw t.queryManager.stopQuery(r),e}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery((function(e,t){var i=t.variables;return r(e,{subscriptionData:n,variables:i})}))},error:function(t){e.onError?e.onError(t):l.b.error("Unhandled GraphQL subscription error",t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){var t=this.options.fetchPolicy;this.options=Object(i.a)(Object(i.a)({},this.options),e),e.pollInterval?this.startPolling(e.pollInterval):0===e.pollInterval&&this.stopPolling();var n=e.fetchPolicy;return this.setVariables(this.options.variables,t!==n&&("cache-only"===t||"standby"===t||"network-only"===n),e.fetchResults)},t.prototype.setVariables=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!0),this.isTornDown=!1,e=e||this.variables,!t&&Object(a.a)(e,this.variables)?this.observers.size&&n?this.result():Promise.resolve():(this.variables=this.options.variables=e,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,n=t.getQueryWithPreviousResult(this.queryId),r=n.previousResult,i=n.variables,a=n.document,s=Object(o.I)((function(){return e(r,{variables:i})}));s&&(t.dataStore.markUpdateQueryResult(a,i,s),t.broadcastQueries())},t.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},t.prototype.startPolling=function(e){w(this),this.options.pollInterval=e,this.queryManager.startPollingQuery(this.options,this.queryId)},t.prototype.updateLastResult=function(e){var t=this.lastResult;return this.lastResult=e,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?e:Object(o.f)(e),t},t.prototype.onSubscribe=function(e){var t=this;try{var n=e._subscription._observer;n&&!n.error&&(n.error=b)}catch(e){}var r=!this.observers.size;return this.observers.add(e),e.next&&this.lastResult&&e.next(this.lastResult),e.error&&this.lastError&&e.error(this.lastError),r&&this.setUpQuery(),function(){t.observers.delete(e)&&!t.observers.size&&t.tearDownQuery()}},t.prototype.setUpQuery=function(){var e=this,t=this.queryManager,n=this.queryId;this.shouldSubscribe&&t.addObservableQuery(n,this),this.options.pollInterval&&(w(this),t.startPollingQuery(this.options,n));var o=function(t){e.updateLastResult(Object(i.a)(Object(i.a)({},e.lastResult),{errors:t.graphQLErrors,networkStatus:r.error,loading:!1})),_(e.observers,"error",e.lastError=t)};t.observeQuery(n,this.options,{next:function(n){if(e.lastError||e.isDifferentFromLastResult(n)){var r=e.updateLastResult(n),i=e.options,o=i.query,s=i.variables,u=i.fetchPolicy;t.transform(o).hasClientExports?t.getLocalState().addExportedVariables(o,s).then((function(i){var s=e.variables;e.variables=e.options.variables=i,!n.loading&&r&&"cache-only"!==u&&t.transform(o).serverQuery&&!Object(a.a)(s,i)?e.refetch():_(e.observers,"next",n)})):_(e.observers,"next",n)}},error:o}).catch(o)},t.prototype.tearDownQuery=function(){var e=this.queryManager;this.isTornDown=!0,e.stopPollingQuery(this.queryId),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),e.removeObservableQuery(this.queryId),e.stopQuery(this.queryId),this.observers.clear()},t}(d);function b(e){l.b.error("Unhandled error",e.message,e.stack)}function _(e,t,n){var r=[];e.forEach((function(e){return e[t]&&r.push(e)})),r.forEach((function(e){return e[t](n)}))}function w(e){var t=e.options.fetchPolicy;Object(l.b)("cache-first"!==t&&"cache-only"!==t,"Queries that specify the cache-first and cache-only fetchPolicies cannot also be polling queries.")}var k=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initMutation=function(e,t,n){this.store[e]={mutation:t,variables:n||{},loading:!0,error:null}},e.prototype.markMutationError=function(e,t){var n=this.store[e];n&&(n.loading=!1,n.error=t)},e.prototype.markMutationResult=function(e){var t=this.store[e];t&&(t.loading=!1,t.error=null)},e.prototype.reset=function(){this.store={}},e}(),x=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initQuery=function(e){var t=this.store[e.queryId];Object(l.b)(!t||t.document===e.document||Object(a.a)(t.document,e.document),"Internal Error: may not update existing query string in store");var n,i=!1,o=null;e.storePreviousVariables&&t&&t.networkStatus!==r.loading&&(Object(a.a)(t.variables,e.variables)||(i=!0,o=t.variables)),n=i?r.setVariables:e.isPoll?r.poll:e.isRefetch?r.refetch:r.loading;var s=[];t&&t.graphQLErrors&&(s=t.graphQLErrors),this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:o,networkError:null,graphQLErrors:s,networkStatus:n,metadata:e.metadata},"string"==typeof e.fetchMoreForQueryId&&this.store[e.fetchMoreForQueryId]&&(this.store[e.fetchMoreForQueryId].networkStatus=r.fetchMore)},e.prototype.markQueryResult=function(e,t,n){this.store&&this.store[e]&&(this.store[e].networkError=null,this.store[e].graphQLErrors=p(t.errors)?t.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=r.ready,"string"==typeof n&&this.store[n]&&(this.store[n].networkStatus=r.ready))},e.prototype.markQueryError=function(e,t,n){this.store&&this.store[e]&&(this.store[e].networkError=t,this.store[e].networkStatus=r.error,"string"==typeof n&&this.markQueryResultClient(n,!0))},e.prototype.markQueryResultClient=function(e,t){var n=this.store&&this.store[e];n&&(n.networkError=null,n.previousVariables=null,t&&(n.networkStatus=r.ready))},e.prototype.stopQuery=function(e){delete this.store[e]},e.prototype.reset=function(e){var t=this;Object.keys(this.store).forEach((function(n){e.indexOf(n)<0?t.stopQuery(n):t.store[n].networkStatus=r.loading}))},e}();var S=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,i=e.fragmentMatcher;this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),i&&this.setFragmentMatcher(i)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=Object(o.A)(t.resolvers,e)})):this.resolvers=Object(o.A)(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,r=e.context,o=e.variables,a=e.onlyRunForcedResolvers,s=void 0!==a&&a;return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(e){return t?[2,this.resolveDocument(t,n.data,r,o,this.fragmentMatcher,s).then((function(e){return Object(i.a)(Object(i.a)({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){if(Object(o.s)(["client"],e)){if(this.resolvers)return e;l.b.warn("Found @client directives in a query but no ApolloClient resolvers were specified. This means ApolloClient local resolver handling has been disabled, and @client directives will be passed through to your link chain.")}return null},e.prototype.serverQuery=function(e){return this.resolvers?Object(o.C)(e):e},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.cache;return Object(i.a)(Object(i.a)({},e),{cache:t,getCacheKey:function(e){if(t.config)return t.config.dataIdFromObject(e);Object(l.b)(!1,"To use context.getCacheKey, you need to use a cache that has a configurable dataIdFromObject, like apollo-cache-inmemory.")}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return Object(i.a)(Object(i.a)({},t),e.exportedVariables)}))]:[2,Object(i.a)({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return Object(f.b)(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return f.a}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:Object(o.d)(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,r,a,s){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===a&&(a=function(){return!0}),void 0===s&&(s=!1),Object(i.b)(this,void 0,void 0,(function(){var u,c,l,f,h,d,p,v,m;return Object(i.d)(this,(function(y){var g;return u=Object(o.l)(e),c=Object(o.j)(e),l=Object(o.g)(c),f=u.operation,h=f?(g=f).charAt(0).toUpperCase()+g.slice(1):"Query",p=(d=this).cache,v=d.client,m={fragmentMap:l,context:Object(i.a)(Object(i.a)({},n),{cache:p,client:v}),variables:r,fragmentMatcher:a,defaultOperationType:h,exportedVariables:{},onlyRunForcedResolvers:s},[2,this.resolveSelectionSet(u.selectionSet,t,m).then((function(e){return{result:e,exportedVariables:m.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n){return Object(i.b)(this,void 0,void 0,(function(){var r,a,s,u,c,f=this;return Object(i.d)(this,(function(h){return r=n.fragmentMap,a=n.context,s=n.variables,u=[t],c=function(e){return Object(i.b)(f,void 0,void 0,(function(){var c,f;return Object(i.d)(this,(function(i){return Object(o.F)(e,s)?Object(o.t)(e)?[2,this.resolveField(e,t,n).then((function(t){var n;void 0!==t&&u.push(((n={})[Object(o.E)(e)]=t,n))}))]:(Object(o.v)(e)?c=e:(c=r[e.name.value],Object(l.b)(c,"No fragment named "+e.name.value)),c&&c.typeCondition&&(f=c.typeCondition.name.value,n.fragmentMatcher(t,f,a))?[2,this.resolveSelectionSet(c.selectionSet,t,n).then((function(e){u.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(c)).then((function(){return Object(o.B)(u)}))]}))}))},e.prototype.resolveField=function(e,t,n){return Object(i.b)(this,void 0,void 0,(function(){var r,a,s,u,c,l,f,h,d,p=this;return Object(i.d)(this,(function(i){return r=n.variables,a=e.name.value,s=Object(o.E)(e),u=a!==s,c=t[s]||t[a],l=Promise.resolve(c),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(f=t.__typename||n.defaultOperationType,(h=this.resolvers&&this.resolvers[f])&&(d=h[u?a:s])&&(l=Promise.resolve(d(t,Object(o.b)(e,r),n.context,{field:e,fragmentMap:n.fragmentMap})))),[2,l.then((function(t){return void 0===t&&(t=c),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?p.resolveSubSelectedArray(e,t,n):e.selectionSet?p.resolveSelectionSet(e.selectionSet,t,n):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n){var r=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?r.resolveSubSelectedArray(e,t,n):e.selectionSet?r.resolveSelectionSet(e.selectionSet,t,n):void 0})))},e}();function O(e){var t=new Set,n=null;return new d((function(r){return t.add(r),n=n||e.subscribe({next:function(e){t.forEach((function(t){return t.next&&t.next(e)}))},error:function(e){t.forEach((function(t){return t.error&&t.error(e)}))},complete:function(){t.forEach((function(e){return e.complete&&e.complete()}))}}),function(){t.delete(r)&&!t.size&&n&&(n.unsubscribe(),n=null)}}))}var E=Object.prototype.hasOwnProperty,T=function(){function e(e){var t=e.link,n=e.queryDeduplication,r=void 0!==n&&n,i=e.store,a=e.onBroadcast,s=void 0===a?function(){}:a,u=e.ssrMode,c=void 0!==u&&u,l=e.clientAwareness,f=void 0===l?{}:l,h=e.localState,d=e.assumeImmutableResults;this.mutationStore=new k,this.queryStore=new x,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(o.e?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=t,this.queryDeduplication=r,this.dataStore=i,this.onBroadcast=s,this.clientAwareness=f,this.localState=h||new S({cache:i.getCache()}),this.ssrMode=c,this.assumeImmutableResults=!!d}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.fetchQueryRejectFns.forEach((function(e){e(new l.a("QueryManager stopped while query was in flight"))}))},e.prototype.mutate=function(e){var t=e.mutation,n=e.variables,r=e.optimisticResponse,a=e.updateQueries,s=e.refetchQueries,u=void 0===s?[]:s,c=e.awaitRefetchQueries,f=void 0!==c&&c,h=e.update,d=e.errorPolicy,v=void 0===d?"none":d,m=e.fetchPolicy,g=e.context,b=void 0===g?{}:g;return Object(i.b)(this,void 0,void 0,(function(){var e,s,c,d=this;return Object(i.d)(this,(function(g){switch(g.label){case 0:return Object(l.b)(t,"mutation option is required. You must specify your GraphQL document in the mutation option."),Object(l.b)(!m||"no-cache"===m,"Mutations only support a 'no-cache' fetchPolicy. If you don't want to disable the cache, remove your fetchPolicy setting to proceed with the default mutation behavior."),e=this.generateQueryId(),t=this.transform(t).document,this.setQuery(e,(function(){return{document:t}})),n=this.getVariables(t,n),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,n,b)]:[3,2];case 1:n=g.sent(),g.label=2;case 2:return s=function(){var e={};return a&&d.queries.forEach((function(t,n){var r=t.observableQuery;if(r){var i=r.queryName;i&&E.call(a,i)&&(e[n]={updater:a[i],query:d.queryStore.get(n)})}})),e},this.mutationStore.initMutation(e,t,n),this.dataStore.markMutationInit({mutationId:e,document:t,variables:n,updateQueries:s(),update:h,optimisticResponse:r}),this.broadcastQueries(),c=this,[2,new Promise((function(a,l){var d,g;c.getObservableFromLink(t,Object(i.a)(Object(i.a)({},b),{optimisticResponse:r}),n,!1).subscribe({next:function(r){Object(o.q)(r)&&"none"===v?g=new y({graphQLErrors:r.errors}):(c.mutationStore.markMutationResult(e),"no-cache"!==m&&c.dataStore.markMutationResult({mutationId:e,result:r,document:t,variables:n,updateQueries:s(),update:h}),d=r)},error:function(t){c.mutationStore.markMutationError(e,t),c.dataStore.markMutationComplete({mutationId:e,optimisticResponse:r}),c.broadcastQueries(),c.setQuery(e,(function(){return{document:null}})),l(new y({networkError:t}))},complete:function(){if(g&&c.mutationStore.markMutationError(e,g),c.dataStore.markMutationComplete({mutationId:e,optimisticResponse:r}),c.broadcastQueries(),g)l(g);else{"function"==typeof u&&(u=u(d));var t=[];p(u)&&u.forEach((function(e){if("string"==typeof e)c.queries.forEach((function(n){var r=n.observableQuery;r&&r.queryName===e&&t.push(r.refetch())}));else{var n={query:e.query,variables:e.variables,fetchPolicy:"network-only"};e.context&&(n.context=e.context),t.push(c.query(n))}})),Promise.all(f?t:[]).then((function(){c.setQuery(e,(function(){return{document:null}})),"ignore"===v&&d&&Object(o.q)(d)&&delete d.errors,a(d)}))}}})}))]}}))}))},e.prototype.fetchQuery=function(e,t,n,r){return Object(i.b)(this,void 0,void 0,(function(){var a,s,u,c,l,f,h,d,p,g,b,_,w,k,x,S,O,E,T=this;return Object(i.d)(this,(function(I){switch(I.label){case 0:return a=t.metadata,s=void 0===a?null:a,u=t.fetchPolicy,c=void 0===u?"cache-first":u,l=t.context,f=void 0===l?{}:l,h=this.transform(t.query).document,d=this.getVariables(h,t.variables),this.transform(h).hasClientExports?[4,this.localState.addExportedVariables(h,d,f)]:[3,2];case 1:d=I.sent(),I.label=2;case 2:if(t=Object(i.a)(Object(i.a)({},t),{variables:d}),b=g="network-only"===c||"no-cache"===c,g||(_=this.dataStore.getCache().diff({query:h,variables:d,returnPartialData:!0,optimistic:!1}),w=_.complete,k=_.result,b=!w||"cache-and-network"===c,p=k),x=b&&"cache-only"!==c&&"standby"!==c,Object(o.s)(["live"],h)&&(x=!0),S=this.idCounter++,O="no-cache"!==c?this.updateQueryWatch(e,h,t):void 0,this.setQuery(e,(function(){return{document:h,lastRequestId:S,invalidated:!0,cancel:O}})),this.invalidate(r),this.queryStore.initQuery({queryId:e,document:h,storePreviousVariables:x,variables:d,isPoll:n===m.poll,isRefetch:n===m.refetch,metadata:s,fetchMoreForQueryId:r}),this.broadcastQueries(),x){if(E=this.fetchRequest({requestId:S,queryId:e,document:h,options:t,fetchMoreForQueryId:r}).catch((function(t){throw v(t)?t:(S>=T.getQuery(e).lastRequestId&&(T.queryStore.markQueryError(e,t,r),T.invalidate(e),T.invalidate(r),T.broadcastQueries()),new y({networkError:t}))})),"cache-and-network"!==c)return[2,E];E.catch((function(){}))}return this.queryStore.markQueryResultClient(e,!x),this.invalidate(e),this.invalidate(r),this.transform(h).hasForcedResolvers?[2,this.localState.runResolvers({document:h,remoteResult:{data:p},context:f,variables:d,onlyRunForcedResolvers:!0}).then((function(n){return T.markQueryResult(e,n,t,r),T.broadcastQueries(),n}))]:(this.broadcastQueries(),[2,{data:p}])}}))}))},e.prototype.markQueryResult=function(e,t,n,r){var i=n.fetchPolicy,o=n.variables,a=n.errorPolicy;"no-cache"===i?this.setQuery(e,(function(){return{newData:{result:t.data,complete:!0}}})):this.dataStore.markQueryResult(t,this.getQuery(e).document,o,r,"ignore"===a||"all"===a)},e.prototype.queryListenerForObserver=function(e,t,n){var r=this;function i(e,t){if(n[e])try{n[e](t)}catch(e){l.b.error(e)}else"error"===e&&l.b.error(t)}return function(n,o){if(r.invalidate(e,!1),n){var a=r.getQuery(e),s=a.observableQuery,u=a.document,c=s?s.options.fetchPolicy:t.fetchPolicy;if("standby"!==c){var l=h(n.networkStatus),f=s&&s.getLastResult(),d=!(!f||f.networkStatus===n.networkStatus),v=t.returnPartialData||!o&&n.previousVariables||d&&t.notifyOnNetworkStatusChange||"cache-only"===c||"cache-and-network"===c;if(!l||v){var m=p(n.graphQLErrors),g=s&&s.options.errorPolicy||t.errorPolicy||"none";if("none"===g&&m||n.networkError)return i("error",new y({graphQLErrors:n.graphQLErrors,networkError:n.networkError}));try{var b=void 0,_=void 0;if(o)"no-cache"!==c&&"network-only"!==c&&r.setQuery(e,(function(){return{newData:null}})),b=o.result,_=!o.complete;else{var w=s&&s.getLastError(),k="none"!==g&&(w&&w.graphQLErrors)!==n.graphQLErrors;if(f&&f.data&&!k)b=f.data,_=!1;else{var x=r.dataStore.getCache().diff({query:u,variables:n.previousVariables||n.variables,returnPartialData:!0,optimistic:!0});b=x.result,_=!x.complete}}var S=_&&!(t.returnPartialData||"cache-only"===c),O={data:S?f&&f.data:b,loading:l,networkStatus:n.networkStatus,stale:S};"all"===g&&m&&(O.errors=n.graphQLErrors),i("next",O)}catch(e){i("error",new y({networkError:e}))}}}}}},e.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var n=this.dataStore.getCache(),r=n.transformDocument(e),i=Object(o.D)(n.transformForLink(r)),a=this.localState.clientQuery(r),s=this.localState.serverQuery(i),u={document:r,hasClientExports:Object(o.r)(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:a,serverQuery:s,defaultVars:Object(o.h)(Object(o.m)(r))},c=function(e){e&&!t.has(e)&&t.set(e,u)};c(e),c(r),c(a),c(s)}return t.get(e)},e.prototype.getVariables=function(e,t){return Object(i.a)(Object(i.a)({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e,t){void 0===t&&(t=!0),Object(l.b)("standby"!==e.fetchPolicy,'client.watchQuery cannot be called with fetchPolicy set to "standby"'),e.variables=this.getVariables(e.query,e.variables),void 0===e.notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var n=Object(i.a)({},e);return new g({queryManager:this,options:n,shouldSubscribe:t})},e.prototype.query=function(e){var t=this;return Object(l.b)(e.query,"query option is required. You must specify your GraphQL document in the query option."),Object(l.b)("Document"===e.query.kind,'You must wrap the query string in a "gql" tag.'),Object(l.b)(!e.returnPartialData,"returnPartialData option only supported on watchQuery."),Object(l.b)(!e.pollInterval,"pollInterval option only supported on watchQuery."),new Promise((function(n,r){var i=t.watchQuery(e,!1);t.fetchQueryRejectFns.set("query:"+i.queryId,r),i.result().then(n,r).then((function(){return t.fetchQueryRejectFns.delete("query:"+i.queryId)}))}))},e.prototype.generateQueryId=function(){return String(this.idCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e),this.queryStore.stopQuery(e),this.invalidate(e)},e.prototype.addQueryListener=function(e,t){this.setQuery(e,(function(e){return e.listeners.add(t),{invalidated:!1}}))},e.prototype.updateQueryWatch=function(e,t,n){var r=this,i=this.getQuery(e).cancel;i&&i();return this.dataStore.getCache().watch({query:t,variables:n.variables,optimistic:!0,previousResult:function(){var t=null,n=r.getQuery(e).observableQuery;if(n){var i=n.getLastResult();i&&(t=i.data)}return t},callback:function(t){r.setQuery(e,(function(){return{invalidated:!0,newData:t}}))}})},e.prototype.addObservableQuery=function(e,t){this.setQuery(e,(function(){return{observableQuery:t}}))},e.prototype.removeObservableQuery=function(e){var t=this.getQuery(e).cancel;this.setQuery(e,(function(){return{observableQuery:null}})),t&&t()},e.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach((function(e){e(new l.a("Store reset while query was in flight (not completed in link chain)"))}));var e=[];return this.queries.forEach((function(t,n){t.observableQuery&&e.push(n)})),this.queryStore.reset(e),this.mutationStore.reset(),this.dataStore.reset()},e.prototype.resetStore=function(){var e=this;return this.clearStore().then((function(){return e.reFetchObservableQueries()}))},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.queries.forEach((function(r,i){var o=r.observableQuery;if(o){var a=o.options.fetchPolicy;o.resetLastResults(),"cache-only"===a||!e&&"standby"===a||n.push(o.refetch()),t.setQuery(i,(function(){return{newData:null}})),t.invalidate(i)}})),this.broadcastQueries(),Promise.all(n)},e.prototype.observeQuery=function(e,t,n){return this.addQueryListener(e,this.queryListenerForObserver(e,t,n)),this.fetchQuery(e,t)},e.prototype.startQuery=function(e,t,n){return l.b.warn("The QueryManager.startQuery method has been deprecated"),this.addQueryListener(e,n),this.fetchQuery(e,t).catch((function(){})),e},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,i=e.variables;n=this.transform(n).document,i=this.getVariables(n,i);var a=function(e){return t.getObservableFromLink(n,{},e,!1).map((function(i){if(r&&"no-cache"===r||(t.dataStore.markSubscriptionResult(i,n,e),t.broadcastQueries()),Object(o.q)(i))throw new y({graphQLErrors:i.errors});return i}))};if(this.transform(n).hasClientExports){var s=this.localState.addExportedVariables(n,i).then(a);return new d((function(e){var t=null;return s.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return a(i)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchQueryRejectFns.delete("query:"+e),this.fetchQueryRejectFns.delete("fetchRequest:"+e),this.getQuery(e).subscriptions.forEach((function(e){return e.unsubscribe()})),this.queries.delete(e)},e.prototype.getCurrentQueryResult=function(e,t){void 0===t&&(t=!0);var n=e.options,r=n.variables,i=n.query,o=n.fetchPolicy,a=n.returnPartialData,s=e.getLastResult(),u=this.getQuery(e.queryId).newData;if(u&&u.complete)return{data:u.result,partial:!1};if("no-cache"===o||"network-only"===o)return{data:void 0,partial:!1};var c=this.dataStore.getCache().diff({query:i,variables:r,previousResult:s?s.data:void 0,returnPartialData:!0,optimistic:t}),l=c.result,f=c.complete;return{data:f||a?l:void 0,partial:!f}},e.prototype.getQueryWithPreviousResult=function(e){var t;if("string"==typeof e){var n=this.getQuery(e).observableQuery;Object(l.b)(n,"ObservableQuery with this id doesn't exist: "+e),t=n}else t=e;var r=t.options,i=r.variables,o=r.query;return{previousResult:this.getCurrentQueryResult(t,!1).data,variables:i,document:o}},e.prototype.broadcastQueries=function(){var e=this;this.onBroadcast(),this.queries.forEach((function(t,n){t.invalidated&&t.listeners.forEach((function(r){r&&r(e.queryStore.get(n),t.newData)}))}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,r){var a,s=this;void 0===r&&(r=this.queryDeduplication);var c=this.transform(e).serverQuery;if(c){var l=this.inFlightLinkObservables,f=this.link,h={query:c,variables:n,operationName:Object(o.n)(c)||void 0,context:this.prepareContext(Object(i.a)(Object(i.a)({},t),{forceFetch:!r}))};if(t=h.context,r){var p=l.get(c)||new Map;l.set(c,p);var v=JSON.stringify(n);if(!(a=p.get(v))){p.set(v,a=O(Object(u.execute)(f,h)));var m=function(){p.delete(v),p.size||l.delete(c),y.unsubscribe()},y=a.subscribe({next:m,error:m,complete:m})}}else a=O(Object(u.execute)(f,h))}else a=d.of({data:{}}),t=this.prepareContext(t);var g=this.transform(e).clientQuery;return g&&(a=function(e,t){return new d((function(n){var r=n.next,i=n.error,o=n.complete,a=0,s=!1,u={next:function(e){++a,new Promise((function(n){n(t(e))})).then((function(e){--a,r&&r.call(n,e),s&&u.complete()}),(function(e){--a,i&&i.call(n,e)}))},error:function(e){i&&i.call(n,e)},complete:function(){s=!0,a||o&&o.call(n)}},c=e.subscribe(u);return function(){return c.unsubscribe()}}))}(a,(function(e){return s.localState.runResolvers({document:g,remoteResult:e,context:t,variables:n})}))),a},e.prototype.fetchRequest=function(e){var t,n,i=this,o=e.requestId,a=e.queryId,s=e.document,u=e.options,c=e.fetchMoreForQueryId,l=u.variables,f=u.errorPolicy,h=void 0===f?"none":f,d=u.fetchPolicy;return new Promise((function(e,f){var v=i.getObservableFromLink(s,u.context,l),m="fetchRequest:"+a;i.fetchQueryRejectFns.set(m,f);var g=function(){i.fetchQueryRejectFns.delete(m),i.setQuery(a,(function(e){e.subscriptions.delete(b)}))},b=v.map((function(e){if(o>=i.getQuery(a).lastRequestId&&(i.markQueryResult(a,e,u,c),i.queryStore.markQueryResult(a,e,c),i.invalidate(a),i.invalidate(c),i.broadcastQueries()),"none"===h&&p(e.errors))return f(new y({graphQLErrors:e.errors}));if("all"===h&&(n=e.errors),c||"no-cache"===d)t=e.data;else{var r=i.dataStore.getCache().diff({variables:l,query:s,optimistic:!1,returnPartialData:!0}),v=r.result;(r.complete||u.returnPartialData)&&(t=v)}})).subscribe({error:function(e){g(),f(e)},complete:function(){g(),e({data:t,errors:n,loading:!1,networkStatus:r.ready,stale:!1})}});i.setQuery(a,(function(e){e.subscriptions.add(b)}))}))},e.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},e.prototype.setQuery=function(e,t){var n=this.getQuery(e),r=Object(i.a)(Object(i.a)({},n),t(n));this.queries.set(e,r)},e.prototype.invalidate=function(e,t){void 0===t&&(t=!0),e&&this.setQuery(e,(function(){return{invalidated:t}}))},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return Object(i.a)(Object(i.a)({},t),{clientAwareness:this.clientAwareness})},e.prototype.checkInFlight=function(e){var t=this.queryStore.get(e);return t&&t.networkStatus!==r.ready&&t.networkStatus!==r.error},e.prototype.startPollingQuery=function(e,t,n){var r=this,o=e.pollInterval;if(Object(l.b)(o,"Attempted to start a polling query without a polling interval."),!this.ssrMode){var a=this.pollingInfoByQueryId.get(t);a||this.pollingInfoByQueryId.set(t,a={}),a.interval=o,a.options=Object(i.a)(Object(i.a)({},e),{fetchPolicy:"network-only"});var s=function(){var e=r.pollingInfoByQueryId.get(t);e&&(r.checkInFlight(t)?u():r.fetchQuery(t,e.options,m.poll).then(u,u))},u=function(){var e=r.pollingInfoByQueryId.get(t);e&&(clearTimeout(e.timeout),e.timeout=setTimeout(s,e.interval))};n&&this.addQueryListener(t,n),u()}return t},e.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)},e}(),I=function(){function e(e){this.cache=e}return e.prototype.getCache=function(){return this.cache},e.prototype.markQueryResult=function(e,t,n,r,i){void 0===i&&(i=!1);var a=!Object(o.q)(e);i&&Object(o.q)(e)&&e.data&&(a=!0),!r&&a&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:t,variables:n})},e.prototype.markSubscriptionResult=function(e,t,n){Object(o.q)(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:t,variables:n})},e.prototype.markMutationInit=function(e){var t,n=this;e.optimisticResponse&&(t="function"==typeof e.optimisticResponse?e.optimisticResponse(e.variables):e.optimisticResponse,this.cache.recordOptimisticTransaction((function(r){var i=n.cache;n.cache=r;try{n.markMutationResult({mutationId:e.mutationId,result:{data:t},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{n.cache=i}}),e.mutationId))},e.prototype.markMutationResult=function(e){var t=this;if(!Object(o.q)(e.result)){var n=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],r=e.updateQueries;r&&Object.keys(r).forEach((function(i){var a=r[i],s=a.query,u=a.updater,c=t.cache.diff({query:s.document,variables:s.variables,returnPartialData:!0,optimistic:!1}),l=c.result;if(c.complete){var f=Object(o.I)((function(){return u(l,{mutationResult:e.result,queryName:Object(o.n)(s.document)||void 0,queryVariables:s.variables})}));f&&n.push({result:f,dataId:"ROOT_QUERY",query:s.document,variables:s.variables})}})),this.cache.performTransaction((function(t){n.forEach((function(e){return t.write(e)}));var r=e.update;r&&Object(o.I)((function(){return r(t,e.result)}))}))}},e.prototype.markMutationComplete=function(e){var t=e.mutationId;e.optimisticResponse&&this.cache.removeOptimistic(t)},e.prototype.markUpdateQueryResult=function(e,t,n){this.cache.write({result:n,dataId:"ROOT_QUERY",variables:t,query:e})},e.prototype.reset=function(){return this.cache.reset()},e}(),A=!1,j=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.cache,r=e.ssrMode,i=void 0!==r&&r,o=e.ssrForceFetchDelay,a=void 0===o?0:o,s=e.connectToDevTools,c=e.queryDeduplication,f=void 0===c||c,h=e.defaultOptions,d=e.assumeImmutableResults,p=void 0!==d&&d,v=e.resolvers,m=e.typeDefs,y=e.fragmentMatcher,g=e.name,b=e.version,_=e.link;if(!_&&v&&(_=u.ApolloLink.empty()),!_||!n)throw new l.a("In order to initialize Apollo Client, you must specify 'link' and 'cache' properties in the options object.\nThese options are part of the upgrade requirements when migrating from Apollo Client 1.x to Apollo Client 2.x.\nFor more information, please visit: https://www.apollographql.com/docs/tutorial/client.html#apollo-client-setup");this.link=_,this.cache=n,this.store=new I(n),this.disableNetworkFetches=i||a>0,this.queryDeduplication=f,this.defaultOptions=h||{},this.typeDefs=m,a&&setTimeout((function(){return t.disableNetworkFetches=!1}),a),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var w="undefined"!=typeof window&&!window.__APOLLO_CLIENT__;(void 0===s?w:s&&"undefined"!=typeof window)&&(window.__APOLLO_CLIENT__=this),A||(A=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&void 0===window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("Chrome")>-1&&console.debug("Download the Apollo DevTools for a better development experience: https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm")),this.version="2.6.10",this.localState=new S({cache:n,client:this,resolvers:v,fragmentMatcher:y}),this.queryManager=new T({link:this.link,store:this.store,queryDeduplication:f,ssrMode:i,clientAwareness:{name:g,version:b},localState:this.localState,assumeImmutableResults:p,onBroadcast:function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.queryStore.getStore(),mutations:t.queryManager.mutationStore.getStore()},dataWithOptimisticResults:t.cache.extract(!0)})}})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=Object(i.a)(Object(i.a)({},this.defaultOptions.watchQuery),e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=Object(i.a)(Object(i.a)({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=Object(i.a)(Object(i.a)({},this.defaultOptions.query),e)),Object(l.b)("cache-and-network"!==e.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=Object(i.a)(Object(i.a)({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=Object(i.a)(Object(i.a)({},this.defaultOptions.mutate),e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return this.queryManager.broadcastQueries(),t},e.prototype.writeData=function(e){var t=this.cache.writeData(e);return this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return Object(u.execute)(this.link,e)},e.prototype.initQueryManager=function(){return l.b.warn("Calling the initQueryManager method is no longer necessary, and it will be removed from ApolloClient in version 3.0."),this.queryManager},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e}();t.default=j},79:function(e,t,n){"use strict";var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r)return r;throw new Error("unable to locate global object")}();e.exports=t=r.fetch,r.fetch&&(t.default=r.fetch.bind(r)),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response},8:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentUserData=void 0;var a=o(n(19)),s=function(){function e(){this.id=0,this.token="",this.name="",this.email="",this.stripeDetails={email:"",paymentStatus:""},this.company="",this.role="",this.country="",this.cloud_backend="",this.cloud_password="",this.cloud_port="",this.type=2,this.review_modal_shown=!1,this.campaign="/",this.language=""}return e.prototype.store=function(){return r(this,void 0,void 0,(function(){var e=this;return i(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t){chrome.storage.local.set({current_user:{id:e.id,name:e.name,email:e.email,company:e.company,role:e.role,country:e.country,cloud_backend:e.cloud_backend,cloud_password:e.cloud_password,cloud_port:e.cloud_port,type:e.type,review_modal_shown:e.review_modal_shown,campaign:e.campaign,language:e.language}},(function(){chrome.storage.local.set({axiom_token:e.token},t),e.email}))}))];case 1:return t.sent(),[2]}}))}))},e.prototype.load=function(){return r(this,void 0,void 0,(function(){var e=this;return i(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t){chrome.storage.local.get("current_user",(function(n){n.hasOwnProperty("current_user")&&(e.id=n.current_user.id,e.name=n.current_user.name,e.email=n.current_user.email,e.company=n.current_user.company,e.role=n.current_user.role,e.country=n.current_user.country,e.cloud_backend=n.current_user.cloud_backend,e.cloud_password=n.current_user.cloud_password,e.cloud_port=n.current_user.cloud_port,e.type=n.current_user.type?n.current_user.type:0,e.review_modal_shown=n.current_user.review_modal_shown,e.campaign=n.current_user.campaign,e.language=n.current_user.language),chrome.storage.local.get("axiom_token",(function(n){n.hasOwnProperty("axiom_token")&&(e.token=n.axiom_token),e.email&&t()}))}))}))];case 1:return t.sent(),[2]}}))}))},e.prototype.getStripeDetails=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:if(!a.default.isExpired("StripeDetails"))return[3,8];t.label=1;case 1:return t.trys.push([1,5,,7]),[4,fetch("https://lar.axiom.ai/api/stripe-email",{method:"get",headers:new Headers({Authorization:"Bearer "+this.token})})];case 2:return[4,t.sent().json()];case 3:return(e=t.sent()).email&&(this.stripeDetails.email=e.email),this.stripeDetails.paymentStatus=e.status,[4,a.default.refresh("StripeDetails",this.stripeDetails)];case 4:return t.sent(),[3,7];case 5:return t.sent(),this.stripeDetails.email=this.email,[4,a.default.refresh("StripeDetails",this.stripeDetails)];case 6:return t.sent(),[3,7];case 7:return[3,10];case 8:return[4,a.default.retrieve("StripeDetails",this.stripeDetails)];case 9:t.sent(),t.label=10;case 10:return[2]}}))}))},e}();t.CurrentUserData=s},81:function(e,t,n){"use strict";n.r(t),n.d(t,"HeuristicFragmentMatcher",(function(){return V})),n.d(t,"InMemoryCache",(function(){return ce})),n.d(t,"IntrospectionFragmentMatcher",(function(){return G})),n.d(t,"ObjectCache",(function(){return Z})),n.d(t,"StoreReader",(function(){return H})),n.d(t,"StoreWriter",(function(){return ne})),n.d(t,"WriteError",(function(){return ee})),n.d(t,"assertIdValue",(function(){return Y})),n.d(t,"defaultDataIdFromObject",(function(){return ae})),n.d(t,"defaultNormalizedCacheFactory",(function(){return X})),n.d(t,"enhanceErrorWithDocument",(function(){return te}));var r=n(0),i=n(2);function o(e){return{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:a(e)}]}}function a(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e||null==e)return null;if(Array.isArray(e))return a(e[0]);var t=[];return Object.keys(e).forEach((function(n){var r={kind:"Field",name:{kind:"Name",value:n},selectionSet:a(e[n])||void 0};t.push(r)})),{kind:"SelectionSet",selections:t}}var s,u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},c=function(){function e(){}return e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.read({query:Object(i.k)(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},e.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},e.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:Object(i.k)(e.fragment,e.fragmentName)})},e.prototype.writeData=function(e){var t,n,r=e.id,i=e.data;if(void 0!==r){var s=null;try{s=this.read({rootId:r,optimistic:!1,query:u})}catch(e){}var c=s&&s.__typename||"__ClientData",l=Object.assign({__typename:c},i);this.writeFragment({id:r,fragment:(t=l,n=c,{kind:"Document",definitions:[{kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:n||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:a(t)}]}),data:l})}else this.writeQuery({query:o(i),data:i})},e}();s||(s={});var l=n(22),f=null,h={},d=1,p=Array,v=p["@wry/context:Slot"]||function(){var e=function(){function e(){this.id=["slot",d++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=f;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===h)break;return e!==f&&(f.slots[this.id]=t),!0}return f&&(f.slots[this.id]=h),!1},e.prototype.getValue=function(){if(this.hasValue())return f.slots[this.id]},e.prototype.withValue=function(e,t,n,r){var i,o=((i={__proto__:null})[this.id]=e,i),a=f;f={parent:a,slots:o};try{return t.apply(r,n)}finally{f=a}},e.bind=function(e){var t=f;return function(){var n=f;try{return f=t,e.apply(this,arguments)}finally{f=n}}},e.noContext=function(e,t,n){if(!f)return e.apply(n,t);var r=f;try{return f=null,e.apply(n,t)}finally{f=r}},e}();try{Object.defineProperty(p,"@wry/context:Slot",{value:p["@wry/context:Slot"]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();v.bind,v.noContext;function m(){}var y=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=m),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value},e.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,r=t.newer;r&&(r.older=n),n&&(n.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},e.prototype.set=function(e,t){var n=this.getEntry(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),g=new v,b=[],_=[];function w(e,t){if(!e)throw new Error(t||"assertion failure")}function k(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var x=function(){function e(t,n){this.fn=t,this.args=n,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++e.count}return e.prototype.recompute=function(){if(w(!this.recomputing,"already recomputing"),function(e){var t=g.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),O(e)?I(t,e):A(t,e),t}(this)||!D(this))return O(this)?function(e){var t=C(e);g.withValue(e,S,[e]),function(e){if("function"==typeof e.subscribe)try{N(e),e.unsubscribe=e.subscribe.apply(null,e.args)}catch(t){return e.setDirty(),!1}return!0}(e)&&function(e){if(e.dirty=!1,O(e))return;T(e)}(e);return t.forEach(D),k(e.value)}(this):k(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,E(this),N(this))},e.prototype.dispose=function(){var e=this;C(this).forEach(D),N(this),this.parents.forEach((function(t){t.setDirty(),R(t,e)}))},e.count=0,e}();function S(e){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,e.args)}catch(t){e.value[1]=t}e.recomputing=!1}function O(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function E(e){e.parents.forEach((function(t){return I(t,e)}))}function T(e){e.parents.forEach((function(t){return A(t,e)}))}function I(e,t){if(w(e.childValues.has(t)),w(O(t)),e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=_.pop()||new Set;e.dirtyChildren.add(t),E(e)}function A(e,t){w(e.childValues.has(t)),w(!O(t));var n,r,i,o=e.childValues.get(t);0===o.length?e.childValues.set(t,t.value.slice(0)):(n=o,r=t.value,(i=n.length)>0&&i===r.length&&n[i-1]===r[i-1]||e.setDirty()),j(e,t),O(e)||T(e)}function j(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(_.length<100&&_.push(n),e.dirtyChildren=null))}function D(e){return 0===e.parents.size&&"function"==typeof e.reportOrphan&&!0===e.reportOrphan()}function C(e){var t=b;return e.childValues.size>0&&(t=[],e.childValues.forEach((function(n,r){R(e,r),t.push(r)}))),w(null===e.dirtyChildren),t}function R(e,t){t.parents.delete(e),e.childValues.delete(t),j(e,t)}function N(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var P=function(){function e(e){this.weakness=e}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return e.forEach((function(e){return t=t.getChildTrie(e)})),t.data||(t.data=Object.create(null))},e.prototype.getChildTrie=function(t){var n=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(t);return r||n.set(t,r=new e(this.weakness)),r},e}();var M=new P("function"==typeof WeakMap);function L(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return M.lookupArray(e)}var q=new Set;function F(e,t){void 0===t&&(t=Object.create(null));var n=new y(t.max||Math.pow(2,16),(function(e){return e.dispose()})),r=!!t.disposable,i=t.makeCacheKey||L;function o(){if(!r||g.hasValue()){var o=i.apply(null,arguments);if(void 0===o)return e.apply(null,arguments);var a=Array.prototype.slice.call(arguments),s=n.get(o);s?s.args=a:(s=new x(e,a),n.set(o,s),s.subscribe=t.subscribe,r&&(s.reportOrphan=function(){return n.delete(o)}));var u=s.recompute();return n.set(o,s),q.add(n),g.hasValue()||(q.forEach((function(e){return e.clean()})),q.clear()),r?void 0:u}}return o.dirty=function(){var e=i.apply(null,arguments),t=void 0!==e&&n.get(e);t&&t.setDirty()},o}var $=n(10),Q=!1;function U(){var e=!Q;return Object(i.y)()||(Q=!0),e}var V=function(){function e(){}return e.prototype.ensureReady=function(){return Promise.resolve()},e.prototype.canBypassInit=function(){return!0},e.prototype.match=function(e,t,n){var r=n.store.get(e.id),i="ROOT_QUERY"===e.id;if(!r)return i;var o=r.__typename,a=void 0===o?i&&"Query":o;return a?a===t||(U()&&$.b.error("You are using the simple (heuristic) fragment matcher, but your queries contain union or interface types. Apollo Client will not be able to accurately map fragments. To make this error go away, use the `IntrospectionFragmentMatcher` as described in the docs: https://www.apollographql.com/docs/react/advanced/fragments.html#fragment-matcher"),"heuristic"):(U()&&($.b.warn("You're using fragments in your queries, but either don't have the addTypename:\n  true option set in Apollo Client, or you are trying to write a fragment to the store without the __typename.\n   Please turn on the addTypename option and include __typename when writing fragments so that Apollo Client\n   can accurately match fragments."),$.b.warn("Could not find __typename on Fragment ",t,r),$.b.warn("DEPRECATION WARNING: using fragments without __typename is unsupported behavior and will be removed in future versions of Apollo client. You should fix this and set addTypename to true now.")),"heuristic")},e}(),G=function(){function e(e){e&&e.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(e.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}return e.prototype.match=function(e,t,n){Object($.b)(this.isReady,"FragmentMatcher.match() was called before FragmentMatcher.init()");var r=n.store.get(e.id),i="ROOT_QUERY"===e.id;if(!r)return i;var o=r.__typename,a=void 0===o?i&&"Query":o;if(Object($.b)(a,"Cannot match fragment because __typename property is missing: "+JSON.stringify(r)),a===t)return!0;var s=this.possibleTypesMap[t];return!!(a&&s&&s.indexOf(a)>-1)},e.prototype.parseIntrospectionResult=function(e){var t={};return e.__schema.types.forEach((function(e){"UNION"!==e.kind&&"INTERFACE"!==e.kind||(t[e.name]=e.possibleTypes.map((function(e){return e.name})))})),t},e}(),B=Object.prototype.hasOwnProperty,W=function(){function e(e){var t=this;void 0===e&&(e=Object.create(null)),this.data=e,this.depend=F((function(e){return t.data[e]}),{disposable:!0,makeCacheKey:function(e){return e}})}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.depend(e),this.data[e]},e.prototype.set=function(e,t){t!==this.data[e]&&(this.data[e]=t,this.depend.dirty(e))},e.prototype.delete=function(e){B.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},e.prototype.clear=function(){this.replace(null)},e.prototype.replace=function(e){var t=this;e?(Object.keys(e).forEach((function(n){t.set(n,e[n])})),Object.keys(this.data).forEach((function(n){B.call(e,n)||t.delete(n)}))):Object.keys(this.data).forEach((function(e){t.delete(e)}))},e}();function z(e){return new W(e)}var H=function(){function e(e){var t=this,n=void 0===e?{}:e,r=n.cacheKeyRoot,o=void 0===r?new P(i.e):r,a=n.freezeResults,s=void 0!==a&&a,u=this.executeStoreQuery,c=this.executeSelectionSet,l=this.executeSubSelectedArray;this.freezeResults=s,this.executeStoreQuery=F((function(e){return u.call(t,e)}),{makeCacheKey:function(e){var t=e.query,n=e.rootValue,r=e.contextValue,i=e.variableValues,a=e.fragmentMatcher;if(r.store instanceof W)return o.lookup(r.store,t,a,JSON.stringify(i),n.id)}}),this.executeSelectionSet=F((function(e){return c.call(t,e)}),{makeCacheKey:function(e){var t=e.selectionSet,n=e.rootValue,r=e.execContext;if(r.contextValue.store instanceof W)return o.lookup(r.contextValue.store,t,r.fragmentMatcher,JSON.stringify(r.variableValues),n.id)}}),this.executeSubSelectedArray=F((function(e){return l.call(t,e)}),{makeCacheKey:function(e){var t=e.field,n=e.array,r=e.execContext;if(r.contextValue.store instanceof W)return o.lookup(r.contextValue.store,t,n,JSON.stringify(r.variableValues))}})}return e.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(Object(r.a)(Object(r.a)({},e),{returnPartialData:!1})).result},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,r=e.variables,o=e.previousResult,a=e.returnPartialData,s=void 0===a||a,u=e.rootId,c=void 0===u?"ROOT_QUERY":u,f=e.fragmentMatcherFunction,h=e.config,d=Object(i.o)(n);r=Object(i.c)({},Object(i.h)(d),r);var p={store:t,dataIdFromObject:h&&h.dataIdFromObject,cacheRedirects:h&&h.cacheRedirects||{}},v=this.executeStoreQuery({query:n,rootValue:{type:"id",id:c,generated:!0,typename:"Query"},contextValue:p,variableValues:r,fragmentMatcher:f}),m=v.missing&&v.missing.length>0;return m&&!s&&v.missing.forEach((function(e){if(!e.tolerable)throw new $.a("Can't find field "+e.fieldName+" on object "+JSON.stringify(e.object,null,2)+".")})),o&&Object(l.a)(o,v.result)&&(v.result=o),{result:v.result,complete:!m}},e.prototype.executeStoreQuery=function(e){var t=e.query,n=e.rootValue,r=e.contextValue,o=e.variableValues,a=e.fragmentMatcher,s=void 0===a?J:a,u=Object(i.l)(t),c=Object(i.j)(t),l={query:t,fragmentMap:Object(i.g)(c),contextValue:r,variableValues:o,fragmentMatcher:s};return this.executeSelectionSet({selectionSet:u.selectionSet,rootValue:n,execContext:l})},e.prototype.executeSelectionSet=function(e){var t=this,n=e.selectionSet,o=e.rootValue,a=e.execContext,s=a.fragmentMap,u=a.contextValue,c=a.variableValues,l={result:null},f=[],h=u.store.get(o.id),d=h&&h.__typename||"ROOT_QUERY"===o.id&&"Query"||void 0;function p(e){var t;return e.missing&&(l.missing=l.missing||[],(t=l.missing).push.apply(t,e.missing)),e.result}return n.selections.forEach((function(e){var n;if(Object(i.F)(e,c))if(Object(i.t)(e)){var l=p(t.executeField(h,d,e,a));void 0!==l&&f.push(((n={})[Object(i.E)(e)]=l,n))}else{var v=void 0;if(Object(i.v)(e))v=e;else if(!(v=s[e.name.value]))throw new $.a("No fragment named "+e.name.value);var m=v.typeCondition&&v.typeCondition.name.value,y=!m||a.fragmentMatcher(o,m,u);if(y){var g=t.executeSelectionSet({selectionSet:v.selectionSet,rootValue:o,execContext:a});"heuristic"===y&&g.missing&&(g=Object(r.a)(Object(r.a)({},g),{missing:g.missing.map((function(e){return Object(r.a)(Object(r.a)({},e),{tolerable:!0})}))})),f.push(p(g))}}})),l.result=Object(i.B)(f),this.freezeResults&&Object.freeze(l.result),l},e.prototype.executeField=function(e,t,n,r){var o=r.variableValues,a=r.contextValue,s=function(e,t,n,r,o,a){a.resultKey;var s=a.directives,u=n;(r||s)&&(u=Object(i.p)(u,r,s));var c=void 0;if(e&&void 0===(c=e[u])&&o.cacheRedirects&&"string"==typeof t){var l=o.cacheRedirects[t];if(l){var f=l[n];f&&(c=f(e,r,{getCacheKey:function(e){var t=o.dataIdFromObject(e);return t&&Object(i.H)({id:t,typename:e.__typename})}}))}}if(void 0===c)return{result:c,missing:[{object:e,fieldName:u,tolerable:!1}]};Object(i.w)(c)&&(c=c.json);return{result:c}}(e,t,n.name.value,Object(i.b)(n,o),a,{resultKey:Object(i.E)(n),directives:Object(i.i)(n,o)});return Array.isArray(s.result)?this.combineExecResults(s,this.executeSubSelectedArray({field:n,array:s.result,execContext:r})):n.selectionSet?null==s.result?s:this.combineExecResults(s,this.executeSelectionSet({selectionSet:n.selectionSet,rootValue:s.result,execContext:r})):(K(n,s.result),this.freezeResults&&Object(i.z)(s),s)},e.prototype.combineExecResults=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.forEach((function(t){t.missing&&(e=e||[]).push.apply(e,t.missing)})),{result:t.pop().result,missing:e}},e.prototype.executeSubSelectedArray=function(e){var t,n=this,r=e.field,i=e.array,o=e.execContext;function a(e){return e.missing&&(t=t||[]).push.apply(t,e.missing),e.result}return i=i.map((function(e){return null===e?null:Array.isArray(e)?a(n.executeSubSelectedArray({field:r,array:e,execContext:o})):r.selectionSet?a(n.executeSelectionSet({selectionSet:r.selectionSet,rootValue:e,execContext:o})):(K(r,e),e)})),this.freezeResults&&Object.freeze(i),{result:i,missing:t}},e}();function K(e,t){if(!e.selectionSet&&Object(i.u)(t))throw new $.a("Missing selection set for object of type "+t.typename+" returned for query field "+e.name.value)}function J(){return!0}function Y(e){Object($.b)(Object(i.u)(e),"Encountered a sub-selection on the query, but the store doesn't have an object reference. This should never happen during normal use unless you have custom code that is directly manipulating the store; please file an issue.")}var Z=function(){function e(e){void 0===e&&(e=Object.create(null)),this.data=e}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.data[e]},e.prototype.set=function(e,t){this.data[e]=t},e.prototype.delete=function(e){this.data[e]=void 0},e.prototype.clear=function(){this.data=Object.create(null)},e.prototype.replace=function(e){this.data=e||Object.create(null)},e}();function X(e){return new Z(e)}var ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="WriteError",t}return Object(r.c)(t,e),t}(Error);function te(e,t){var n=new ee("Error writing result to store for query:\n "+JSON.stringify(t));return n.message+="\n"+e.message,n.stack=e.stack,n}var ne=function(){function e(){}return e.prototype.writeQueryToStore=function(e){var t=e.query,n=e.result,r=e.store,i=void 0===r?z():r,o=e.variables,a=e.dataIdFromObject,s=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:n,document:t,store:i,variables:o,dataIdFromObject:a,fragmentMatcherFunction:s})},e.prototype.writeResultToStore=function(e){var t=e.dataId,n=e.result,r=e.document,o=e.store,a=void 0===o?z():o,s=e.variables,u=e.dataIdFromObject,c=e.fragmentMatcherFunction,l=Object(i.m)(r);try{return this.writeSelectionSetToStore({result:n,dataId:t,selectionSet:l.selectionSet,context:{store:a,processedData:{},variables:Object(i.c)({},Object(i.h)(l),s),dataIdFromObject:u,fragmentMap:Object(i.g)(Object(i.j)(r)),fragmentMatcherFunction:c}})}catch(e){throw te(e,r)}},e.prototype.writeSelectionSetToStore=function(e){var t=this,n=e.result,r=e.dataId,o=e.selectionSet,a=e.context,s=a.variables,u=a.store,c=a.fragmentMap;return o.selections.forEach((function(e){var o;if(Object(i.F)(e,s))if(Object(i.t)(e)){var u=Object(i.E)(e),l=n[u];if(void 0!==l)t.writeFieldToStore({dataId:r,value:l,field:e,context:a});else{var f=!1,h=!1;e.directives&&e.directives.length&&(f=e.directives.some((function(e){return e.name&&"defer"===e.name.value})),h=e.directives.some((function(e){return e.name&&"client"===e.name.value}))),f||h||!a.fragmentMatcherFunction||$.b.warn("Missing field "+u+" in "+JSON.stringify(n,null,2).substring(0,100))}}else{var d=void 0;Object(i.v)(e)?d=e:(d=(c||{})[e.name.value],Object($.b)(d,"No fragment named "+e.name.value+"."));var p=!0;if(a.fragmentMatcherFunction&&d.typeCondition){var v=r||"self",m=Object(i.H)({id:v,typename:void 0}),y={store:new Z((o={},o[v]=n,o)),cacheRedirects:{}},g=a.fragmentMatcherFunction(m,d.typeCondition.name.value,y);Object(i.x)()||"heuristic"!==g||$.b.error("WARNING: heuristic fragment matching going on!"),p=!!g}p&&t.writeSelectionSetToStore({result:n,selectionSet:d.selectionSet,dataId:r,context:a})}})),u},e.prototype.writeFieldToStore=function(e){var t,n,o,a=e.field,s=e.value,u=e.dataId,c=e.context,f=c.variables,h=c.dataIdFromObject,d=c.store,p=Object(i.G)(a,f);if(a.selectionSet&&null!==s)if(Array.isArray(s)){var v=u+"."+p;n=this.processArrayValue(s,v,a.selectionSet,c)}else{var m=u+"."+p,y=!0;if(re(m)||(m="$"+m),h){var g=h(s);Object($.b)(!g||!re(g),'IDs returned by dataIdFromObject cannot begin with the "$" character.'),(g||"number"==typeof g&&0===g)&&(m=g,y=!1)}ie(m,a,c.processedData)||this.writeSelectionSetToStore({dataId:m,result:s,selectionSet:a.selectionSet,context:c});var b=s.__typename;n=Object(i.H)({id:m,typename:b},y);var _=(o=d.get(u))&&o[p];if(_!==n&&Object(i.u)(_)){var w=void 0!==_.typename,k=void 0!==b,x=w&&k&&_.typename!==b;Object($.b)(!y||_.generated||x,"Store error: the application attempted to write an object with no provided id but the store already contains an id of "+_.id+" for this object. The selectionSet that was trying to be written is:\n"+JSON.stringify(a)),Object($.b)(!w||k,"Store error: the application attempted to write an object with no provided typename but the store already contains an object with typename of "+_.typename+" for the object of id "+_.id+". The selectionSet that was trying to be written is:\n"+JSON.stringify(a)),_.generated&&(x?y||d.delete(_.id):function e(t,n,o){if(t===n)return!1;var a=o.get(t),s=o.get(n),u=!1;Object.keys(a).forEach((function(t){var n=a[t],r=s[t];Object(i.u)(n)&&re(n.id)&&Object(i.u)(r)&&!Object(l.a)(n,r)&&e(n.id,r.id,o)&&(u=!0)})),o.delete(t);var c=Object(r.a)(Object(r.a)({},a),s);if(Object(l.a)(c,s))return u;return o.set(n,c),!0}(_.id,n.id,d))}}else n=null!=s&&"object"==typeof s?{type:"json",json:s}:s;(o=d.get(u))&&Object(l.a)(n,o[p])||d.set(u,Object(r.a)(Object(r.a)({},o),((t={})[p]=n,t)))},e.prototype.processArrayValue=function(e,t,n,r){var o=this;return e.map((function(e,a){if(null===e)return null;var s=t+"."+a;if(Array.isArray(e))return o.processArrayValue(e,s,n,r);var u=!0;if(r.dataIdFromObject){var c=r.dataIdFromObject(e);c&&(s=c,u=!1)}return ie(s,n,r.processedData)||o.writeSelectionSetToStore({dataId:s,result:e,selectionSet:n,context:r}),Object(i.H)({id:s,typename:e.__typename},u)}))},e}();function re(e){return"$"===e[0]}function ie(e,t,n){if(!n)return!1;if(n[e]){if(n[e].indexOf(t)>=0)return!0;n[e].push(t)}else n[e]=[t];return!1}var oe={fragmentMatcher:new V,dataIdFromObject:ae,addTypename:!0,resultCaching:!0,freezeResults:!1};function ae(e){if(e.__typename){if(void 0!==e.id)return e.__typename+":"+e.id;if(void 0!==e._id)return e.__typename+":"+e._id}return null}var se=Object.prototype.hasOwnProperty,ue=function(e){function t(t,n,r){var i=e.call(this,Object.create(null))||this;return i.optimisticId=t,i.parent=n,i.transaction=r,i}return Object(r.c)(t,e),t.prototype.toObject=function(){return Object(r.a)(Object(r.a)({},this.parent.toObject()),this.data)},t.prototype.get=function(e){return se.call(this.data,e)?this.data[e]:this.parent.get(e)},t}(Z),ce=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;n.watches=new Set,n.typenameDocumentCache=new Map,n.cacheKeyRoot=new P(i.e),n.silenceBroadcast=!1,n.config=Object(r.a)(Object(r.a)({},oe),t),n.config.customResolvers&&($.b.warn("customResolvers have been renamed to cacheRedirects. Please update your config as we will be deprecating customResolvers in the next major version."),n.config.cacheRedirects=n.config.customResolvers),n.config.cacheResolvers&&($.b.warn("cacheResolvers have been renamed to cacheRedirects. Please update your config as we will be deprecating cacheResolvers in the next major version."),n.config.cacheRedirects=n.config.cacheResolvers),n.addTypename=!!n.config.addTypename,n.data=n.config.resultCaching?new W:new Z,n.optimisticData=n.data,n.storeWriter=new ne,n.storeReader=new H({cacheKeyRoot:n.cacheKeyRoot,freezeResults:t.freezeResults});var o=n,a=o.maybeBroadcastWatch;return n.maybeBroadcastWatch=F((function(e){return a.call(n,e)}),{makeCacheKey:function(e){if(!e.optimistic&&!e.previousResult)return o.data instanceof W?o.cacheKeyRoot.lookup(e.query,JSON.stringify(e.variables)):void 0}}),n}return Object(r.c)(t,e),t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).toObject()},t.prototype.read=function(e){if("string"==typeof e.rootId&&void 0===this.data.get(e.rootId))return null;var t=this.config.fragmentMatcher,n=t&&t.match;return this.storeReader.readQueryFromStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,rootId:e.rootId,fragmentMatcherFunction:n,previousResult:e.previousResult,config:this.config})||null},t.prototype.write=function(e){var t=this.config.fragmentMatcher,n=t&&t.match;this.storeWriter.writeResultToStore({dataId:e.dataId,result:e.result,variables:e.variables,document:this.transformDocument(e.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:n}),this.broadcastWatches()},t.prototype.diff=function(e){var t=this.config.fragmentMatcher,n=t&&t.match;return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,returnPartialData:e.returnPartialData,previousResult:e.previousResult,fragmentMatcherFunction:n,config:this.config})},t.prototype.watch=function(e){var t=this;return this.watches.add(e),function(){t.watches.delete(e)}},t.prototype.evict=function(e){throw new $.a("eviction is not implemented on InMemory Cache")},t.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){for(var t=[],n=0,r=this.optimisticData;r instanceof ue;)r.optimisticId===e?++n:t.push(r),r=r.parent;if(n>0){for(this.optimisticData=r;t.length>0;){var i=t.pop();this.performTransaction(i.transaction,i.optimisticId)}this.broadcastWatches()}},t.prototype.performTransaction=function(e,t){var n=this.data,r=this.silenceBroadcast;this.silenceBroadcast=!0,"string"==typeof t&&(this.data=this.optimisticData=new ue(t,this.optimisticData,e));try{e(this)}finally{this.silenceBroadcast=r,this.data=n}this.broadcastWatches()},t.prototype.recordOptimisticTransaction=function(e,t){return this.performTransaction(e,t)},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=Object(i.a)(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(){var e=this;this.silenceBroadcast||this.watches.forEach((function(t){return e.maybeBroadcastWatch(t)}))},t.prototype.maybeBroadcastWatch=function(e){e.callback(this.diff({query:e.query,variables:e.variables,previousResult:e.previousResult&&e.previousResult(),optimistic:e.optimistic}))},t}(c)},82:function(e,t,n){"use strict";n.r(t),n.d(t,"HttpLink",(function(){return k})),n.d(t,"createHttpLink",(function(){return w}));var r=n(0),i=n(16),o=n(13),a=n(17),s=n(52);function u(e){return Object(a.b)(e,{leave:c})}var c={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return f(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=d("(",f(e.variableDefinitions,", "),")"),i=f(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?f([t,f([n,r]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+d(" = ",r)+d(" ",f(i," "))},SelectionSet:function(e){return h(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet;return f([d("",t,": ")+n+d("(",f(r,", "),")"),f(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+d(" ",f(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return f(["...",d("on ",t),f(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(d("(",f(r,", "),")")," ")+"on ".concat(n," ").concat(d("",f(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?Object(s.b)(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+f(e.values,", ")+"]"},ObjectValue:function(e){return"{"+f(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+d("(",f(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:function(e){var t=e.directives,n=e.operationTypes;return f(["schema",f(t," "),h(n)]," ")},OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:l((function(e){return f(["scalar",e.name,f(e.directives," ")]," ")})),ObjectTypeDefinition:l((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return f(["type",t,d("implements ",f(n," & ")),f(r," "),h(i)]," ")})),FieldDefinition:l((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(m(n)?d("(\n",p(f(n,"\n")),"\n)"):d("(",f(n,", "),")"))+": "+r+d(" ",f(i," "))})),InputValueDefinition:l((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return f([t+": "+n,d("= ",r),f(i," ")]," ")})),InterfaceTypeDefinition:l((function(e){var t=e.name,n=e.directives,r=e.fields;return f(["interface",t,f(n," "),h(r)]," ")})),UnionTypeDefinition:l((function(e){var t=e.name,n=e.directives,r=e.types;return f(["union",t,f(n," "),r&&0!==r.length?"= "+f(r," | "):""]," ")})),EnumTypeDefinition:l((function(e){var t=e.name,n=e.directives,r=e.values;return f(["enum",t,f(n," "),h(r)]," ")})),EnumValueDefinition:l((function(e){return f([e.name,f(e.directives," ")]," ")})),InputObjectTypeDefinition:l((function(e){var t=e.name,n=e.directives,r=e.fields;return f(["input",t,f(n," "),h(r)]," ")})),DirectiveDefinition:l((function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(m(n)?d("(\n",p(f(n,"\n")),"\n)"):d("(",f(n,", "),")"))+(r?" repeatable":"")+" on "+f(i," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return f(["extend schema",f(t," "),h(n)]," ")},ScalarTypeExtension:function(e){return f(["extend scalar",e.name,f(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return f(["extend type",t,d("implements ",f(n," & ")),f(r," "),h(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return f(["extend interface",t,f(n," "),h(r)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return f(["extend union",t,f(n," "),r&&0!==r.length?"= "+f(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return f(["extend enum",t,f(n," "),h(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return f(["extend input",t,f(n," "),h(r)]," ")}};function l(e){return function(t){return f([t.description,e(t)],"\n")}}function f(e,t){return e?e.filter((function(e){return e})).join(t||""):""}function h(e){return e&&0!==e.length?"{\n"+p(f(e,"\n"))+"\n}":""}function d(e,t,n){return t?e+t+(n||""):""}function p(e){return e&&"  "+e.replace(/\n/g,"\n  ")}function v(e){return-1!==e.indexOf("\n")}function m(e){return e&&e.some(v)}var y=n(45),g={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},b=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},_=function(e,t){var n;try{n=JSON.stringify(e)}catch(e){var r=new y.a("Network request failed. "+t+" is not serializable: "+e.message);throw r.parseError=e,r}return n},w=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,a=e.fetch,s=e.includeExtensions,c=e.useGETForQueries,l=Object(r.e)(e,["uri","fetch","includeExtensions","useGETForQueries"]);!function(e){if(!e&&"undefined"==typeof fetch){var t="unfetch";throw"undefined"==typeof window&&(t="node-fetch"),new y.a("\nfetch is not found globally and no fetcher passed, to fix pass a fetch for\nyour environment like https://www.npmjs.com/package/"+t+".\n\nFor example:\nimport fetch from '"+t+"';\nimport { createHttpLink } from 'apollo-link-http';\n\nconst link = createHttpLink({ uri: '/graphql', fetch: fetch });")}}(a),a||(a=fetch);var f={http:{includeExtensions:s},options:l.fetchOptions,credentials:l.credentials,headers:l.headers};return new i.ApolloLink((function(e){var t=function(e,t){var n=e.getContext().uri;return n||("function"==typeof t?t(e):t||"/graphql")}(e,n),s=e.getContext(),l={};if(s.clientAwareness){var h=s.clientAwareness,d=h.name,p=h.version;d&&(l["apollographql-client-name"]=d),p&&(l["apollographql-client-version"]=p)}var v,m=Object(r.a)({},l,s.headers),y={http:s.http,options:s.fetchOptions,credentials:s.credentials,headers:m},w=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=Object(r.a)({},t.options,{headers:t.headers,credentials:t.credentials}),a=t.http;n.forEach((function(e){o=Object(r.a)({},o,e.options,{headers:Object(r.a)({},o.headers,e.headers)}),e.credentials&&(o.credentials=e.credentials),a=Object(r.a)({},a,e.http)}));var s=e.operationName,c=e.extensions,l=e.variables,f=e.query,h={operationName:s,variables:l};return a.includeExtensions&&(h.extensions=c),a.includeQuery&&(h.query=u(f)),{options:o,body:h}}(e,g,f,y),k=w.options,x=w.body;if(!k.signal){var S=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),O=S.controller,E=S.signal;(v=O)&&(k.signal=E)}if(c&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(k.method="GET"),"GET"===k.method){var T=function(e,t){var n=[],r=function(e,t){n.push(e+"="+encodeURIComponent(t))};"query"in t&&r("query",t.query);t.operationName&&r("operationName",t.operationName);if(t.variables){var i=void 0;try{i=_(t.variables,"Variables map")}catch(e){return{parseError:e}}r("variables",i)}if(t.extensions){var o=void 0;try{o=_(t.extensions,"Extensions map")}catch(e){return{parseError:e}}r("extensions",o)}var a="",s=e,u=e.indexOf("#");-1!==u&&(a=e.substr(u),s=e.substr(0,u));var c=-1===s.indexOf("?")?"?":"&";return{newURI:s+c+n.join("&")+a}}(t,x),I=T.newURI,A=T.parseError;if(A)return Object(i.fromError)(A);t=I}else try{k.body=_(x,"Payload")}catch(A){return Object(i.fromError)(A)}return new o.a((function(n){var r;return a(t,k).then((function(t){return e.setContext({response:t}),t})).then((r=e,function(e){return e.text().then((function(t){try{return JSON.parse(t)}catch(r){var n=r;return n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,Promise.reject(n)}})).then((function(t){return e.status>=300&&b(e,t,"Response not successful: Received status code "+e.status),Array.isArray(t)||t.hasOwnProperty("data")||t.hasOwnProperty("errors")||b(e,t,"Server response was missing for query '"+(Array.isArray(r)?r.map((function(e){return e.operationName})):r.operationName)+"'."),t}))})).then((function(e){return n.next(e),n.complete(),e})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e))})),function(){v&&v.abort()}}))}))};var k=function(e){function t(t){return e.call(this,w(t).request)||this}return Object(r.c)(t,e),t}(i.ApolloLink)},91:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParamTypeAdapter=void 0;var r=function(){function e(){}return e.map=function(e){switch(e){case"first_cell":case"last_cell":case"start_cell":return"cell";case"max_wait":case"pause_time":case"delay":return"integer";default:return e}},e}();t.ParamTypeAdapter=r}});
//# sourceMappingURL=background.js.map