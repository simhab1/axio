!function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=916)}({12:function(e,t,r){"use strict";r.r(t),r.d(t,"AxiomApiHelper",(function(){return o}));var i=r(21),n=r.n(i),s=r(37);class o{static transpose(e){let t=0,r=[];for(let r=0;r<e.length;r++)e[r].length>t&&(t=e[r].length);for(let e=0;e<t;e++)r.push([]);for(let i=0;i<e.length;i++)for(let n=0;n<t;n++){let t=parseInt(n);r[t].push(e[i][t])}return r}static delay(e,t){return new Promise((function(r){setTimeout(r.bind(null,t),e)}))}static getColLetter(e){let t=["!","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r=t.length-1,i=e,n=!1,s=[],o="";for(;!n;){let e=i/r,a=i%r;0==s.length&&(a+=1),s.push(a),o=t[a]+o,i=Math.round(e-a/r),n=0==i}return o}static getColIndex(e){if(!e)return-1;if(e=e.trim(),parseInt(e,10)>=0)return e;let t=[0];for(let r=0;r<e.length;r++){let i=Math.pow(26,e.length-r-1);t[r]=(e[r].charCodeAt(0)-64)*i}return t.reduce((e,t)=>e+t)-1}static inArray(e,t,r=null){let i=!1;for(let n of t)this.matchingArrays(n,e,r)&&(i=!0);return i}static colString2indexArray(e){let t=[];for(let r of e.split(","))r=r.trim(),Number.isInteger(r)?r-=1:/[A-Za-z]/.test(r)?(/[a-z]/.test(r)&&(r=r.toUpperCase()),r=this.getColIndex(r)):r=Number(r)-1,r>-1&&t.push(r);return t}static matchingArrays(e,t,r=null){let i=!0;if(e.length!=t.length)return!1;if(Array.isArray(e)!=Array.isArray(t))return!1;Array.isArray(e)&&(i=!1);let n=!0;if(Array.isArray(r)&&r.length>0);else{r=[];let i=e.length>t.length?e.length:t.length;for(let e=0;e<i;e++)r.push(this.getColLetter(e+1))}for(let i of r){let r=this.getColIndex(i);e[r]!=t[r]&&(n=!1)}return n}static clone(e){if(!e)return[[""]];let t=[];if(Array.isArray(e[0]))for(let r of e)t[e.indexOf(r)]=this.clone(r);else for(let r of Object.keys(e))t[r]=e[r].valueOf();return t}static getRoute(e){let t=e;if(/\/\//.test(e)){var r=e.split("//");r[0];t=r[r.length-1];var i=t.split(".");if(i.length>2)i.shift();let n=i.pop();n=n.split("/"),n.pop(),t=i.join(".")+"."+n.join("/")}return t}static sendTabMessage(e,t){return new Promise((r,i)=>{let s=new n.a;s.load().then(async()=>{let i;try{i=s.states[0].tab_id}catch(e){}i||(i=await new Promise(e=>{chrome.tabs.query({},t=>{for(let r of t)chrome.tabs.sendMessage(r.id,{action:"is_loaded"},t=>{t&&e(r.id)})}),setTimeout(()=>{e(null)},2e3)})),t.action=e,chrome.tabs.sendMessage(i,t,t=>{if(chrome.runtime.hasOwnProperty("lastError"))switch(e){case"display_message":r("");break;default:r({error:{message:chrome.runtime.lastError.message}})}else r(t)})})})}static isValidJson(e){try{const t=JSON.parse(e);if(t&&"object"==typeof t)return!0}catch(e){}return!1}static buildSelectorArray(e,t){let r=[],i=[];if(Array.isArray(e))void 0!==e[0].resultType&&(i=e.map(e=>e.resultType),r=e.map(e=>e.selector));else if("string"==typeof e){r=e.split(",");let n=[];for(let e of r)n.push(e.trim()),"string"==typeof t?i.push(t):i.push("textContent");r=n}return{selectors:r,resultTypes:i}}static applyToIframes(e){jQuery("iframe").each((t,r)=>{const i=jQuery(r).contents();i&&i.length&&e(t,i)})}static extractFormData(e,t=!1){let r=[];for(;"string"==typeof e.data;)e.data=JSON.parse(e.data);for(let i in e.data.form)(t||void 0===e.data.form[i].is_disable||!0!==e.data.form[i].is_disable)&&r.push(e.data.form[i]);return r}static async getCampaign(){return new Promise(e=>{chrome.cookies.getAll({name:"axiom_ga_query_params"},t=>{if(t.length>0){const r=t.filter(e=>"/"===e.path)[0];e(r?r.value:t[0].value)}else e("")})})}static getStepNumbering(e,t){if(!t){t=(new s.WidgetsNestable).buildNestingData(e)}let r=[0,0,0,0,0];for(let i in t)t[i].endingBlock?t[i-1]&&t[i-1].indent>t[i].indent&&(r[t[i-1].indent]=0):r[t[i].indent]++,e[i].stepNumber=r.slice(0,t[i].indent+1).join(".")}static getTrimmedUrl(e){try{let t=e.trim().toLowerCase(),r=new URL(t);return r.hash="",r.search="",r.pathname="",r.toString()}catch(t){return e}}}},15:function(e,t){var r,i,n=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var l,c=[],h=!1,u=-1;function f(){h&&l&&(h=!1,l.length?c=l.concat(c):u=-1,c.length&&d())}function d(){if(!h){var e=a(f);h=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;)l&&l[u].run();u=-1,t=c.length}l=null,h=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new g(e,t)),1!==c.length||h||a(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},21:function(e,t,r){"use strict";(function(e){var r=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function t(){this.states=[]}return t.prototype.store=function(e){return void 0===e&&(e=!1),r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,new Promise((function(t){chrome.runtime.sendMessage({greeting:"running_data_store",skipEvent:e},(function(){t("")}))}))]}))}))},t.prototype.load=function(e){return void 0===e&&(e=!1),r(this,void 0,void 0,(function(){var t=this;return i(this,(function(r){return[2,new Promise((function(r){chrome.runtime.sendMessage({greeting:"running_data_load",fireEventTrigger:e},(function(e){Array.isArray(e)&&(t.states=e,t.countStates()),r("")}))}))]}))}))},t.prototype.loadState=function(e){return r(this,void 0,void 0,(function(){var t=this;return i(this,(function(r){return[2,new Promise((function(r){chrome.runtime.sendMessage({greeting:"running_data_load_state",id:e},(function(e){Array.isArray(e.states)&&(t.states=e.states,t.countStates()),r(e.state)}))}))]}))}))},t.prototype.addState=function(e,t,n){return void 0===n&&(n=!1),r(this,void 0,void 0,(function(){var r=this;return i(this,(function(i){return[2,new Promise((function(i){chrome.runtime.sendMessage({greeting:"running_data_add_state",id:e,state:t,cloud:n},(function(e){Array.isArray(e.states)&&(r.states=e.states,r.countStates()),i(e.state)}))}))]}))}))},t.prototype.clearState=function(e){return r(this,void 0,void 0,(function(){var t=this;return i(this,(function(r){return[2,new Promise((function(r){chrome.runtime.sendMessage({greeting:"running_data_clear_state",id:e},(function(e){Array.isArray(e)&&(t.states=e,t.countStates()),r("")}))}))]}))}))},t.prototype.clearAllStates=function(){return r(this,void 0,void 0,(function(){var e=this;return i(this,(function(t){return[2,new Promise((function(t){chrome.runtime.sendMessage({greeting:"running_data_clear_all_states"},(function(r){e.states=r,e.countStates(),t("")}))}))]}))}))},t.prototype.cloudStateCount=function(){return this.csc},t.prototype.desktopStateCount=function(){return e.env.NO_DESKTOP_CONCURRENCY_LIMIT?0:this.dsc},t.prototype.countStates=function(){this.csc=0,this.dsc=0;for(var e=0,t=this.states;e<t.length;e++){t[e].cloud?this.csc++:this.dsc++}},t}();t.default=n}).call(this,r(15))},37:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetsNestable=t.NestingData=void 0;var i=function(e,t,r,i){void 0===r&&(r=""),void 0===i&&(i="all"),this.indent=e,this.middent=r,this.outdent=t,this.widgetShow=i},n=function(e,t,r,i){void 0===i&&(i=!1),this.indent=e,this.startingBlock=t,this.midBlock=i,this.endingBlock=r,this.outputShow=!1};t.NestingData=n;var s=function(){function e(){this.list=[new i("WidgetBotCreate","WidgetBotComplete"),new i("TemplateUIBot","TemplateUIBot"),new i("WidgetIf","WidgetIfEnd","WidgetElse"),new i("WidgetTry","WidgetTryCatchEnd","WidgetCatch"),new i("TemplateIfStatememt","TemplateIfStatement"),new i("TemplateIfElse","TemplateIfElse"),new i("TemplateLoopThroughData","TemplateLoopThroughData"),new i("TemplateTryCatch","TemplateTryCatch")]}return e.prototype.getWidgetList=function(e,t){for(var r=0,i=this.list;r<i.length;r++)for(var n=i[r],s=t-1;s>=0;s--)if(n.indent===e[s].machine_name)for(var o=t;o<e.length;o++)if(n.outdent===e[o].machine_name)return n.widgetShow;return"all"},e.prototype.getIndentWindex=function(e,t,r){var i=this.list.filter((function(e){return e.indent===r}));if(!i||0===i.length)return-1;for(var n=t;n>=0;n--)if(i[0].indent===e[n].machine_name)return n;return-1},e.prototype.isNestable=function(e){if(!e)return 0;for(var t=0,r=this.list;t<r.length;t++){var i=r[t];if(i.indent===e.machine_name)return 1;if(i.outdent===e.machine_name)return 2;if(i.middent===e.machine_name)return 3}return 0},e.prototype.buildNestingData=function(e){var t=[],r=0;for(var i in e){switch(this.isNestable(e[i])){case 0:t[i]=new n(r,!1,!1);break;case 1:t[i]=new n(r,!0,!1),r++;break;case 2:r--,t[i]=new n(r,!1,!0);break;case 3:t[i]=new n(r,!1,!1,!0)}}return t},e.prototype.nullNestingData=function(){return new n(0,!1,!1)},e}();t.WidgetsNestable=s},422:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeSelector=void 0;var i=r(928),n=function(){function e(){}return e.prototype.getSelector=function(e){for(var t=[],r=e;r&&"html"!==r.tagName.toLowerCase();){for(var i=r.tagName?r.tagName.toLowerCase():"",n=0,s=r.attributes?r.attributes:[];n<s.length;n++){var o=s[n];if(!/click|style|\-|href|src|on\w+/g.test(o.name))if("class"===o.name)for(var a=0,l=o.value.split(" ");a<l.length;a++){var c=l[a];""===c||/\:|\:\/\/|[\(\)\$\{\}]|axiom-matched|axiom-suggested-group|axiom-link|axiom-download|axiom-sel-\S+|selectorgadget_\w+/g.test(c)||(i+='[class~="'+c+'"]')}else/value|data|\[|\]/gi.test(o.name)||""===o.value||/\:|\:\/\//gi.test(o.value)||(i+="["+o.name+'="'+o.value.replace(/\"/g,'\\"')+'"]')}t.unshift(""===i?r.tagName.toLowerCase():i),r=r.parentElement}return t.join(" > ")},e.prototype.groupAttributeSelectors=function(e){var t=e[0];if(e.length>1)for(var r=new i.DiffMatchPatch,n=1;n<e.length;n++){var s;s=r.diff_main(t,e[n]),t="";for(var o=0,a=s;o<a.length;o++){var l=a[o];if(0===l[0]&&(t+=l[1]),""!==t&&0!==l[0])break}}for(var c=this.cleanupGroupingSelector(t);!0!==this.groupSelectorValidator(c,e);)c=c.replace(/(\s>\s)(\S*\[\S*\]|\S)$/gm,"");return c},e.prototype.groupSelectorValidator=function(e,t){var r=document.querySelectorAll(e),i=t.length,n=t.join(", "),s=0;return r.forEach((function(e){var t=e.querySelectorAll(n);t.length>=0&&(s=t.length)})),s>=i},e.prototype.cleanupGroupingSelector=function(e){for(var t=e,r=null;r!==t;)r=t,t=t.replace(/\[class\~\=\"\"\]/gm,"").replace(/(\s*\>+\s*)$/gm,"").replace(/(\>\s*\[\S*\]\s*\>\s*)/gm,"").replace(/(\s*\>\s*\S*\[\S*\s*(?<!\]))$/gm,"");return t},e}();t.AttributeSelector=n},423:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScrapeHelper=void 0;var i=function(){function e(){this.groupSelector=""}return e.prototype.getPreview=function(e,t,r){if(t&&t.length>0&&"No valid path found."!==t[0]&&/[^\[\]"']/g.test(JSON.stringify(t))){var i=this.mapTraces(e,t,r);return Array.isArray(i)?i:[]}return[[]]},e.prototype.getDataV0210=function(e,t){var r="";switch(t){case"outerHTML":r=e.outerHTML;break;case"innerHTML":(r=e.innerHTML)||(r=e.outerHTML);break;case"textContent":r="";var i=e.innerText;if((i=String(i))&&(r=i.trim()),""===r)try{r=e.value.trim()}catch(e){}break;case"link":case"href":var n=e;if(!e.hasAttribute("href"))(o=e.querySelectorAll("[href]"))&&o.length&&(n=o[0]);var s=null;n.hasAttribute("href")&&(s=n.href),r=null!==s?s:"";break;case"image":var o,a=e;if(!e.hasAttribute("src")&&!e.hasAttribute("srcset"))(o=Array.from(e.querySelectorAll("[src]")).concat(Array.from(e.querySelectorAll("[srcset]"))))&&o.length&&(a=o[o.length-1]);var l=null;a.hasAttribute("src")?l=a.src:a.hasAttribute("srcset")&&(l=a.srcset),r=null!==l?l:""}return r},e.prototype.getData=function(e,t){var r="link"===t||"href"===t,i=e[t=r?"outerHTML":t];if(r){for(var n=1,s="";""==s&&n<=5;){i=e[t];var o=e.href,a=void 0;if(o&&o.match(/(([A-Za-z]+[:][/][/])|([/][^"' ])).[^"' ]+[^"' ]+([^"' ])/))a=o;else{var l=i.match(/href=["'](([A-Za-z]+[:][/][/])|([/][^"' ])).[^"' ]+[^"' ]+([^"' ])/);if(l)a=l[0].substring(6);else{var c=i.match(/["'](([A-Za-z]+[:][/][/])|([/][^"' ])).[^"' ]+[/]+[^"' ]+([^"' ])/);c?a=c[0].substring(1):s=""}}if(a){if("/"==a[0]){var h=window.location.href;a="/"==a[1]?h.match(/.[^/]+[/][/]/)[0]+a.substring(2):h.match(/[A-Za-z]+[:][/].[^/]+[/]/)[0]+a.substring(1)}s=a||""}if(""!==s)break;var u=e.parentElement;if(!u||!u.innerHTML)break;n++,e=u}i=s}return i},e.prototype.countSiblingsLeft=function(e){for(var t=[],r=e,i=!1;!i;){var n=r.previousElementSibling;n?(t.push(n),r=n):i=!0}return t.length},e.prototype.getRootTree=function(e){for(var t=[],r=e,i=!1;!i;){var n=this.countSiblingsLeft(r);t.unshift(n);var s=r.parentElement;s?r=s:i=!0}return t},e.prototype.tracesEqual=function(e,t,r){if(!e||!t)return!1;for(var i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0},e.prototype.attemptGroups=function(e,t){for(var r=[],i=[],n=0,s=null,o=0,a=e;o<a.length;o++){var l=a[o];i.push([]);for(var c=0,h=l;c<h.length;c++){for(var u=h[c],f=0,d=!1,g=0;g<i.length-1;g++){for(var p=0,m=0;m<i[g].length;m++)if(i[g][m]&&u.trace&&(p=1,d=this.tracesEqual(i[g][m].trace,u.trace,t))){s=m;break}if(f+=p,d)break}1===f?i[i.length-1].push(u):i.length>1&&1===n?i[i.length-1][n-1]=u:d?(i[i.length-1][s]=u,s>n&&(n=s)):(i[i.length-1][n]=u,n++)}}for(var v in i)for(var y in i[v])r[y]||(r[y]=[]),r[y][v]=i[v][y].data;for(var b=0;b<r.length;b++)for(var S=0;S<r[b].length;S++)r[b][S]||(r[b][S]="");return r},e.prototype.mapTraces=function(e,t,r){if(void 0===r&&(r="textContent"),!e||!e.querySelectorAll)return{0:[]};var i=0,n=[],s=[];if("string"==typeof r){var o=r.valueOf();r=[];for(var a=0,l=t;a<l.length;a++){var c=l[a];r.push(o)}}for(c=0;c<t.length;c++){var h=t[c];o=r[c];if(h&&h.length>0)try{if("head"===h||!h)throw"";var u=Array.from(e.querySelectorAll(h));if(!u||0===u.length)throw"NO MATCHING ELEMENT";1===u.length&&(i-=1);for(var f=[],d=0,g=u;d<g.length;d++){var p=g[d],m=u.indexOf(p),v=this.getDataV0210(p,o);v||(v="No data, change column type or re-select");var y="axiom"+c+"-"+m,b=this.getRootTree(p);p.className=p.className.replace("axiom-matched",""),f.push({trace:b,data:v,selector:h,tag:y,el:p})}for(var S=f[0].trace.length,x=0,_=0;_<f.length;_++){b=f[_].trace;var D=f[f.length-1].trace;_>0&&(D=f[_-1].trace);for(var E=0,I=!1;!I&&E<b.length;){b[E]!==D[E]&&(I=!0),E++}E<S&&(S=E),E>x&&(x=E),f[_].trace.push(E)}n.push({minTide:S,maxTide:x}),s.push(f)}catch(m){n.push({minTide:999,maxTide:999}),s.push([{trace:null,data:m,selector:h,tag:null,el:null}])}}if(n.length&&s.length){n.sort((function(e,t){return e.maxTide-t.maxTide}));var T=n[0].maxTide;return T+=i,this.generateGroupSelector(s,T),this.attemptGroups(s,T)}return{0:[]}},e.prototype.generateGroupSelector=function(e,t){if(this.groupSelector="",e&&e[0]&&e[0][0]&&e[0][0].trace)for(var r=0;r<t;r++)r>0&&(this.groupSelector+=" > "),this.groupSelector+=":-webkit-any(*):nth-child("+parseInt(e[0][0].trace[r]+1)+")"},e}();t.ScrapeHelper=i},49:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},916:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.InjectedSelectorTool=void 0;var s=r(422),o=r(917),a=r(918),l=r(926),c=r(423),h=r(12),u=function(){function e(e){this.selectorData=e}return e.prototype.add_column=function(e){return i(this,void 0,void 0,(function(){return n(this,(function(e){return this.selectorData.addSelector(),this.selectorData.editSelector(this.selectorData.selectors.length-1),[2]}))}))},e.prototype.remove_column=function(e){return i(this,void 0,void 0,(function(){return n(this,(function(t){return this.selectorData.removeSelector(e.index),[2]}))}))},e.prototype.select_column=function(e){return i(this,void 0,void 0,(function(){return n(this,(function(t){return this.selectorData.editSelector(e.index),[2]}))}))},e.prototype.set_result_type=function(e){return i(this,void 0,void 0,(function(){return n(this,(function(t){return this.selectorData.setResultType(e.sel_index,e.resultType),[2]}))}))},e.prototype.reset_column=function(e){return i(this,void 0,void 0,(function(){return n(this,(function(t){return this.selectorData.resetSelector(e.index),this.selectorData.editSelector(e.index),[2]}))}))},e.prototype.addElementToSelection=function(e){return i(this,void 0,void 0,(function(){return n(this,(function(e){return[2]}))}))},e.prototype.removeElementFromSelection=function(e){return i(this,void 0,void 0,(function(){return n(this,(function(e){return[2]}))}))},e.prototype.edit_selector=function(e){return i(this,void 0,void 0,(function(){return n(this,(function(t){return this.selectorData.updateSelector(e.index,e.selector,e.target),[2]}))}))},e}(),f=function(){function e(){this.refreshRequired=!1,this.selectors=null,this.activeSelectorIndex=0,this.actions=new u(this)}return e.prototype.actionRequest=function(e){return i(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return[4,this.actions[e.action](e)];case 1:return t.sent(),[2]}}))}))},e.prototype.addSelector=function(){this.selectors.push({selector:"head",selectedElements:[],rejectedElements:[],resultType:this.defaultResultType}),this.refreshRequired=!0},e.prototype.removeSelector=function(e){if(this.selectors.splice(e,1),0===this.selectors.length)this.addSelector();else{var t=e===this.selectors.length,r=e===this.activeSelectorIndex,i=e<=this.activeSelectorIndex;(t&&r||i)&&this.editSelector(this.activeSelectorIndex-1)}-1===this.activeSelectorIndex&&this.selectors.length>0&&(this.activeSelectorIndex=0),this.refreshRequired=!0},e.prototype.editSelector=function(e){e<this.selectors.length?this.activeSelectorIndex=e:this.activeSelectorIndex>=this.selectors.length&&(this.activeSelectorIndex=this.selectors.length-1),this.refreshRequired=!0},e.prototype.updateSelector=function(e,t,r){this.selectors[e]||this.addSelector(),this.selectors[e]=t[e];var i=new a.SelectorFacade;if("hierarchy"===r){if(!(s=document.querySelector(t[e].selector.hierarchy)))return this.selectors[e].selector.innerText="",void(this.selectors[e].selector.targetElement=void 0);var n=i.getSelector(s);this.selectors[e].selector.innerText=n.innerText,this.selectors[e].selector.targetElement=n.targetElement}else if("innerText"===r){var s;if(!(s=document.evaluate("//*[text()='"+t[e].selector.innerText+"']",document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue))return this.selectors[e].selector.hierarchy="",void(this.selectors[e].targetElement=void 0);n=i.getSelector(s);this.selectors[e].selector.hierarchy=n.hierarchy,this.selectors[e].selector.targetElement=n.targetElement}this.refreshRequired=!0},e.prototype.setResultType=function(e,t){this.selectors[e]||this.addSelector(),this.activeSelectorIndex=e,this.selectors[e].resultType=t,this.refreshRequired=!0},e.prototype.resetSelector=function(e){this.selectors[e]={selector:"head",selections:[],selectedElements:[],rejectedElements:[],resultType:this.defaultResultType,groupSelector:"body"},this.refreshRequired=!0},e}(),d=function(){function e(){var e=this;this.iframeHighlightBorders=[],this.lastSelectorId=0,this.activeSelector=[],this.activeSelectorIndex=-1,this.selectingClass="axiom-sel-selected-",this.suggestingClass="axiom-sel-suggested-",this.rejectingClass="axiom-sel-rejected-",this.resultType="textContent",this.resultTypes=["textContent"],this.iframeSupportEnabled=!1,this.SelectorAlgorithm=new s.AttributeSelector,this.hierarchyActions=new o.HierarchyActions,this.matching=[],this.matchingData=[],this.highlightBorder=new l.BorderHighlight(document,!1,!1),this.singleSelector=new a.SelectorFacade,this.scrapeHelper=new c.ScrapeHelper,this.selectorData=new f,chrome.runtime.onMessage.addListener((function(t,r,s){return i(e,void 0,void 0,(function(){var e,r=this;return n(this,(function(i){switch(i.label){case 0:switch(t.action){case"selector_tool_start":return[3,1];case"selector_tool_confirm":return[3,2];case"selector_tool_reset":return[3,3];case"selector_tool_cancel":return[3,4];case"set_result_type":case"select_column":case"remove_column":case"add_column":case"reset_column":case"edit_selector":return[3,5];case"hide_bubble":return[3,7];case"generate_suggestions":return[3,8];case"set_iframe_support":return[3,9]}return[3,10];case 1:return this.scrapeHelper.groupSelector="",this.selectionMode="smart"===t.selectionType||"multi"===t.selectionType?"multiple":"single",t.resultType?Array.isArray(t.resultType)?(this.resultTypes=t.resultType,this.resultType=this.resultTypes[this.selectorData.activeSelectorIndex]):(this.resultType=t.resultType,this.resultTypes=[t.resultType]):this.resultType="outerHTML",this.selectorData.defaultResultType=this.resultType,this.highlightBorder.updateResultType(this.resultType),this.highlightBorder.updateWindex(t.windex),this.injectV0200(),t.selectors?("multiple"===this.selectionMode?(this.selectorData.selectors=t.selectors,this.selectionMode="multiple",this.updateSelections(this.selectorData.selectors[this.selectorData.activeSelectorIndex].resultType,this.selectorData.activeSelectorIndex,document),h.AxiomApiHelper.applyToIframes((function(e,t){r.updateSelections(r.selectorData.selectors[r.selectorData.activeSelectorIndex].resultType,r.selectorData.activeSelectorIndex,t[0])})),this.sendStateUpdate()):"single"===this.selectionMode&&(this.selectorData.selectors=t.selectors,this.resetHighlights(document),h.AxiomApiHelper.applyToIframes((function(e,t){r.resetHighlights(t[0])}))),[3,10]):[2];case 2:return t.template_mode||this.closingAction(t.widget_type),s(this.selectorData.selectors),this.ejectV0200(),[3,10];case 3:return this.ejectV0200(),this.selectionMode="smart"===t.selectionType||"multi"===t.selectionType?"multiple":"single",this.injectV0200(),[3,10];case 4:return this.ejectV0200(),[3,10];case 5:return this.removeAllHighlights(document),h.AxiomApiHelper.applyToIframes((function(e,t){r.removeAllHighlights(t)})),[4,this.selectorData.actionRequest(t)];case 6:return i.sent(),"multiple"===this.selectionMode?this.selectorData.refreshRequired&&this.selectorData.selectors[this.selectorData.activeSelectorIndex]&&(this.updateSelections(this.selectorData.selectors[this.selectorData.activeSelectorIndex].resultType,this.selectorData.activeSelectorIndex,document),h.AxiomApiHelper.applyToIframes((function(e,t){r.updateSelections(r.selectorData.selectors[r.selectorData.activeSelectorIndex].resultType,r.selectorData.activeSelectorIndex,t[0])})),this.sendStateUpdate()):"single"===this.selectionMode&&(this.resetHighlights(document),h.AxiomApiHelper.applyToIframes((function(e,t){r.resetHighlights(t[0])})),this.sendStateUpdate()),[3,10];case 7:return chrome.runtime.sendMessage({action:"cancel_preview"}),this.ejectV0200(),[3,10];case 8:return e=this.generateSuggestions(t.selector),s({suggestions:e}),[3,10];case 9:return this.iframeSupportEnabled=t.value,this.iframeHighlightBorders.forEach((function(e){e.setIframeSupportEnabled(t.value)})),[3,10];case 10:return[2]}}))}))}))}return e.prototype.generateSuggestions=function(e){if(!e||"head"===e)return[];var t;try{t=document.querySelectorAll(e)}catch(e){return[]}var r=[],i=this.hierarchyActions.getCombined(document,Array.from(t),[],"selector");for(var n in r.push(i),t){var s=t[n];if(1===r.length){if(s.attributes)for(var o=0,a=s.attributes;o<a.length;o++){if("class"!==(d=a[o]).name&&d.value){var l=this.createAttributeSelector(d);this.testGeneratedSelector(l,t.length)&&r.push(l)}}if(s.classList)for(var c=0,h=s.classList;c<h.length;c++){-1===(y=h[c]).indexOf("axiom")&&this.testGeneratedSelector("."+y,t.length)&&r.push("."+y)}}else{if(s.attributes)for(var u=0,f=s.attributes;u<f.length;u++){var d=f[u],g=(l=this.createAttributeSelector(d),"");for(var p in r)if(r[p]===l){g=p;break}g||(r[g]=null)}if(s.classList)for(var m=0,v=s.classList;m<v.length;m++){for(var y=v[m],b=(g="",0),S=r;b<S.length;b++){r[p=S[b]]==="."+y&&(g=p)}g||(r[g]=null)}}}return r=r.filter((function(e){return null!=e}))},e.prototype.createAttributeSelector=function(e){return"["+e.name+"='"+e.value+"']"},e.prototype.testGeneratedSelector=function(e,t){return!!e&&document.querySelectorAll(e).length===t},e.prototype.injectV0200=function(){var e=this;this.inuse=!0,this.selectorData.selectors=[],this.selectorData.activeSelectorIndex=0,this.highlightBorder.updateactiveSelectorIndex(0),this.highlightBorder.inject(),"single"===this.selectionMode?(jQuery(document).on("mousedown.axiom-selection",(function(t){e.singleElementClickHandler(t)})),h.AxiomApiHelper.applyToIframes((function(t,r){jQuery(r[0]).on("mousedown.axiom-selection",(function(t){e.singleElementClickHandler(t)}))}))):(jQuery(document).on("mousedown.axiom-selection",(function(t){e.elementClickHandler(t)})),h.AxiomApiHelper.applyToIframes((function(t,r){jQuery(r[0]).on("mousedown.axiom-selection",e.elementClickHandler.bind(e))}))),"link"===this.resultType?jQuery("a").addClass("axiom-link"):"axiom-download"===this.resultType&&jQuery("a").addClass("axiom-download"),jQuery("body").addClass("axiom-sel-in-action"),h.AxiomApiHelper.applyToIframes((function(t,r){if(r.length){e.iframeHighlightBorders[t]=new l.BorderHighlight(r[0],!0,e.iframeSupportEnabled),e.iframeHighlightBorders[t].inject();var i=r.find("body"),n=chrome.runtime.getURL("axiomselector.css");i.append('<link rel="stylesheet" type="text/css" href="'+n+'">'),i.addClass("axiom-sel-in-action"),"link"===e.resultType?r.find("a").addClass("axiom-link"):"axiom-download"===e.resultType&&r.find("a").addClass("axiom-download")}}))},e.prototype.injectIntoSpecificClasses=function(e){var t={single:this.singleElementClickHandler.bind(this),multiple:this.elementClickHandler.bind(this)};jQuery(".c9-menu-btn").on("mousedown.axiom-selection",t[e])},e.prototype.ejectFromSpecificClasses=function(){jQuery(".c9-menu-btn").off("mousedown.axiom-selector")},e.prototype.updateSelections=function(e,t,r){this.highlightBorder.updateResultType(e),this.highlightBorder.updateactiveSelectorIndex(t),this.updateActiveResultType(),this.findMatchesV0190(r),this.setHighlights(r)},e.prototype.updateActiveResultType=function(){this.resultType=this.selectorData.selectors[this.selectorData.activeSelectorIndex].resultType,jQuery("a").removeClass("axiom-link"),jQuery("a").removeClass("axiom-download"),"link"===this.resultType?jQuery("a").addClass("axiom-link"):"axiom-download"===this.resultType&&jQuery("a").addClass("axiom-download")},e.prototype.sendStateUpdate=function(e){void 0===e&&(e=!1);var t={action:"update_state",preview_data:this.matchingData,selectors:this.selectorData.selectors,activeSelectorIndex:this.selectorData.activeSelectorIndex,groupSelector:this.scrapeHelper.groupSelector};chrome.runtime.sendMessage(t),e&&(window.focus(),chrome.runtime.sendMessage({action:"focus_selector_interface"}))},e.prototype.ejectV0200=function(){var e=this;jQuery(document).off("mousedown.axiom-selection"),jQuery("body").removeClass("axiom-sel-in-action"),this.removeAllHighlights(document);var t=document.getElementById("axiom-group-style");t&&document.head.removeChild(t),this.highlightBorder&&this.highlightBorder.eject(),jQuery("a").removeClass("axiom-link"),h.AxiomApiHelper.applyToIframes((function(t,r){jQuery(r[0]).off("mousedown.axiom-selection"),e.removeAllHighlights(r[0]);var i=r.find("body");jQuery(i).removeClass("axiom-sel-in-action"),e.iframeHighlightBorders[t]&&e.iframeHighlightBorders[t].eject();try{var n=r[0].getElementById("axiom-group-style");n&&r[0].head.removeChild(n),r.find("a").removeClass("axiom-link")}catch(e){}})),this.inuse=!1,this.selectorData.selectors=[],this.matching=[],this.matchingData=[]},e.prototype.ejectV0190=function(e){this.ejectFromSpecificClasses(),jQuery(document).off("mousedown.axiom-selection"),jQuery("body").removeClass("axiom-sel-in-action"),this.removeAllHighlights(e),this.inuse=!1,this.selectorData.selectors=[],this.matching=[],this.matchingData=[];var t=document.getElementById("axiom-group-style");t&&document.head.removeChild(t),this.highlightBorder&&this.highlightBorder.eject(),jQuery("a").removeClass("axiom-link"),jQuery("a").removeClass("axiom-download")},e.prototype.resume=function(e){this.inuse=!0,jQuery("body").addClass("axiom-sel-in-action"),this.highlightBorder.setupBorder(),this.resetHighlights(e)},e.prototype.resetHighlights=function(e){this.removeAllHighlights(e),this.setHighlights(e)},e.prototype.setHighlights=function(e){var t=this;if(e&&e.getElementById){if(this.selectorData.selectors.length&&"multiple"===this.selectionMode){var r=this.selectorData.selectors.map((function(e){return!e.isToken&&"string"==typeof e.selector&&"head"!==e.selector&&/\S/.test(e.selector)?e.selector:e.selector.hierarchy?e.selector.hierarchy:void 0})).filter((function(e){return!!e})),i=r.join(", "),n=[];"string"==typeof i&&/\S/.test(i)&&(n=Array.from(e.querySelectorAll(i)));for(var s=function(i){if(i===o.selectorData.activeSelectorIndex){for(var n=0,s=o.selectorData.selectors[o.selectorData.activeSelectorIndex].selectedElements;n<s.length;n++){(c=s[n]).classList&&c.classList.add(o.selectingClass+o.selectorData.activeSelectorIndex)}for(var a=0,l=o.selectorData.selectors[o.selectorData.activeSelectorIndex].rejectedElements;a<l.length;a++){var c;(c=l[a]).classList&&c.classList.add(o.rejectingClass+o.selectorData.activeSelectorIndex)}}r[i]&&/\S/g.test(r[i])&&Array.from(e.querySelectorAll(r[i])).forEach((function(e){/axiom-sel-selected-\S*|axiom-sel-rejected-\S*/g.test(e.className)||e.classList.add(t.suggestingClass+i)}))},o=this,a=0;a<r.length;a++)s(a);for(var l=0,c=n;l<c.length;l++){var h=c[l];jQuery(h).addClass("axiom-matched"),this.removeSelectedChildren(h)}}else if("single"===this.selectionMode){var u=this.selectorData.selectors[0].selector;h=void 0;if(u.hierarchy)h=document.querySelector(this.selectorData.selectors[0].selector.hierarchy);else if(u.innerText){var f="//*[text()='"+u.innerText+"']";h=document.evaluate(f,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}jQuery(h).addClass("axiom-matched"),jQuery(h).addClass("axiom-sel-selected-0")}var d=e.getElementById("axiom-group-style");d||((d=e.createElement("style")).id="axiom-group-style",e.head.appendChild(d)),void 0!==this.scrapeHelper.groupSelector&&""!==this.scrapeHelper.groupSelector&&"body"!==this.scrapeHelper.groupSelector?d.innerHTML=this.scrapeHelper.groupSelector+" {\n                border-style: dotted !important;\n                border-width: 3px !important;\n                border-color: #FFC107 !important;\n                padding: 5px !important;\n                border-radius: 10px !important;\n            }":d.innerHTML="";var g='\n        [class*="'+this.selectingClass+'"].axiom-matched  {\n            background: rgba(0, 153, 255, 0.7) !important\n            background-image: none !important;\n        }\n        [class*="'+this.suggestingClass+'"].axiom-matched  {\n            background: rgba(0, 153, 255, 0.3) !important;\n            background-image: none !important;\n        }\n        \n        [class*="'+this.selectingClass+'"]:not(.axiom-matched)  {\n            background: rgba(153, 153, 153, 0.7) !important\n            background-image: none !important;\n        }\n        [class*="'+this.suggestingClass+'"]:not(.axiom-matched)  {\n            background: rgba(153, 153, 153, 0.3) !important;\n            background-image: none !important;\n        }',p='\n        [class~="'+(this.selectingClass+this.selectorData.activeSelectorIndex)+'"].axiom-matched  {\n            background-color: #FFC107 !important;\n            background-image: none !important;\n        }\n        [class~="'+(this.suggestingClass+this.selectorData.activeSelectorIndex)+'"].axiom-matched  {\n            background-color: #ffd98c !important; \n            background-image: none !important;\n        }\n        \n        [class~="'+(this.selectingClass+this.selectorData.activeSelectorIndex)+'"]:not(.axiom-matched)  {\n            background-color: rgba(193,193,193, 0.7) !important;\n            background-image: none !important;\n        }\n        [class~="'+(this.suggestingClass+this.selectorData.activeSelectorIndex)+'"]:not(.axiom-matched)  {\n            background-color: rgba(193,193,193, 0.3) !important; \n            background-image: none !important;\n        }';d.innerHTML+=g,d.innerHTML+=p}},e.prototype.getSelector=function(e){return this.SelectorAlgorithm.getSelector(e)},e.prototype.setClassForSelected=function(e){e.classList.add(this.selectingClass+this.selectorData.activeSelectorIndex)},e.prototype.removeClassForSelected=function(e){e.classList.remove(this.selectingClass+this.selectorData.activeSelectorIndex)},e.prototype.removeClassForRejected=function(e){e.classList.remove(this.rejectingClass+this.selectorData.activeSelectorIndex)},e.prototype.setClassForSuggested=function(){var e=this.suggestingClass+this.selectorData.activeSelectorIndex;this.matching.forEach((function(t){/axiom-sel-selected-\S*|axiom-sel-rejected-\S*/g.test(t.className)||t.classList.add(e)}))},e.prototype.removeAllHighlights=function(e){if(this.selectorData.selectors&&0!==this.selectorData.selectors.length)for(var t=0;t<this.selectorData.selectors.length;t++)jQuery(e).find("*").removeClass("axiom-sel-selected-"+t),jQuery(e).find("*").removeClass("axiom-sel-suggested-"+t),jQuery(e).find("*").removeClass("axiom-sel-rejected-"+t),jQuery(e).find("*").removeClass("axiom-matched")},e.prototype.highlightSelection=function(){var e=this;if("multiple"===this.selectionMode){var t=document.querySelectorAll(this.selectingClass+this.selectorData.activeSelectorIndex),r=document.querySelectorAll(this.suggestingClass+this.selectorData.activeSelectorIndex),i=document.querySelectorAll(this.rejectingClass+this.selectorData.activeSelectorIndex);t.forEach((function(t){t.classList.add(e.selectingClass+e.selectorData.activeSelectorIndex)})),r.forEach((function(t){t.classList.add(e.suggestingClass+e.selectorData.activeSelectorIndex)})),i.forEach((function(t){t.classList.add(e.rejectingClass+e.selectorData.activeSelectorIndex)}))}else{(t=document.querySelectorAll(this.selectingClass+this.selectorData.activeSelectorIndex)).forEach((function(t){t.classList.add(e.selectingClass+e.selectorData.activeSelectorIndex),t.classList.add("axiom-matched")}))}},e.prototype.findMatchesV0190=function(e){if("multiple"===this.selectionMode){var t=[];this.matching=[];var r=this.selectorData.selectors.filter((function(e){return"string"==typeof e.selector})).map((function(e){return e.isToken?"head":e.selector}));if(r.length)if("axiom-download"===this.resultTypes[0]&&r)try{t=Array.from(e.querySelectorAll(r[0])).map((function(e){return[e.outerHTML]}))}catch(e){}else t=this.scrapeHelper.getPreview(e,r,this.selectorData.selectors.map((function(e){return e.resultType})));if((t=h.AxiomApiHelper.transpose(t)).length>0)for(var i in t){var n=!1;if(t[i]&&t[i].length>0)for(var s=0,o=t[i];s<o.length;s++){if("NO MATCHING ELEMENT"===o[s]){n=!0;break}}n||(this.matchingData[i]=t[i])}if(r.length>1){for(var a=0,l=0;l<this.matchingData.length;l++)this.matchingData[l]&&a<this.matchingData[l].length&&(a=this.matchingData[l].length);for(l=0;l<r.length;l++){var c=this.matchingData[l]?this.matchingData[l].length:0;if(c<a)for(var u=c;u<a;u++)this.matchingData[l]||(this.matchingData[l]=[]),this.matchingData[l].push("")}}this.matchingData.length>r.length&&(this.matchingData=this.matchingData.slice(0,r.length));for(var f=0;f<this.selectorData.selectors.length;f++){var d=this.selectorData.selectors[f];d.isToken&&(this.matchingData[f][0]=d.selector)}}},e.prototype.blockClicksOn=function(e){try{var t=jQuery("<div>").css("position","fixed").css("z-index","9999999").css("width","10000px").css("height","10000px").css("top",0).css("left",0).css("background-color","");e.body.appendChild(t.get(0)),setTimeout((function(){t.remove()}),300)}catch(e){}return!1},e.prototype.closingAction=function(e){return i(this,void 0,void 0,(function(){var t,r,i,s;return n(this,(function(n){if(!this.selectorData.selectors[this.selectorData.activeSelectorIndex])return[2];if("single"===this.selectionMode&&e&&"WidgetDriverClick"===e){if(t=this.selectorData.selectors[0].selector.hierarchy,!(r=jQuery(t))[0])return[2];i=new RegExp(/\w*(create|send|submit)\w*/gi),s=r.text()||r.val(),i.test(s)||(document.getElementById("axiom-bot-draw-1976253492").classList.add("axiom-static"),$.confirm({title:"Selection Made",content:"Do you want to click this element now?",boxWidth:"448px",useBootstrap:!1,buttons:{confirm:function(){"svg"==r[0].tagName.toLowerCase()&&(r=r.parent()),r[0].click(),window.focus(),chrome.runtime.sendMessage({action:"focus_selector_interface"})},cancel:function(){window.focus(),chrome.runtime.sendMessage({action:"focus_selector_interface"})}}}))}return[2]}))}))},e.prototype.singleElementClickHandler=function(e){return i(this,void 0,void 0,(function(){var t,r,i=this;return n(this,(function(n){if(!(t=e.target).classList.contains("axiom-selector-ignore")&&"link"===this.resultType)for(;t.parentElement&&!/\S/.test(this.scrapeHelper.getData(t,this.resultType));)t=t.parentElement;this.blockClicksOn(document),h.AxiomApiHelper.applyToIframes((function(e,t){i.blockClicksOn(t[0])})),void 0===this.selectorData.selectors[this.selectorData.activeSelectorIndex]&&(this.selectorData.selectors[this.selectorData.activeSelectorIndex]={selector:"",selections:[],selectedElements:[],rejectedElements:[]}),r=this.singleSelector.getSelector(t),this.selectorData.selectors[this.selectorData.activeSelectorIndex].selector=r,this.removeAllHighlights(document),h.AxiomApiHelper.applyToIframes((function(e,t){i.removeAllHighlights(t[0])})),this.sendStateUpdate(),this.selectorData.selectors[this.selectorData.activeSelectorIndex].selectedElements||(this.selectorData.selectors[this.selectorData.activeSelectorIndex].selectedElements=[]),this.selectorData.selectors[this.selectorData.activeSelectorIndex].selectedElements.push(t),this.setHighlights(document),h.AxiomApiHelper.applyToIframes((function(e,t){i.setHighlights(t[0])})),this.selectorData.selectors[this.selectorData.activeSelectorIndex].isToken=void 0;try{this.sendStateUpdate()}catch(e){console.warn("Unable to send back message to the chrome extension on single element selection")}return[2]}))}))},e.prototype.removeSelectedChildren=function(e){for(var t=e.children,r=0;r<t.length;r++){var i=t[r];i.classList.remove(this.selectingClass+this.selectorData.activeSelectorIndex),this.removeSelectedChildren(i)}},e.prototype.elementClickHandler=function(e){return i(this,void 0,void 0,(function(){var t,r,i,s=this;return n(this,(function(n){if(t=e.target,"link"===this.resultType)for(;t.parentElement&&!/\S/.test(this.scrapeHelper.getDataV0210(t,this.resultType));)t=t.parentElement;if(this.blockClicksOn(document),h.AxiomApiHelper.applyToIframes((function(e,t){s.blockClicksOn(t[0])})),void 0===this.selectorData.selectors[this.selectorData.activeSelectorIndex]?this.selectorData.selectors[this.selectorData.activeSelectorIndex]={selector:"",selections:[],selectedElements:[],rejectedElements:[],resultType:this.selectorData.defaultResultType}:this.selectorData.selectors[this.selectorData.activeSelectorIndex].isToken=!1,!/axiom-tool/g.test(t.className)){r=[];try{(this.selectionMode="multiple")&&(r=Array.from(document.querySelectorAll(this.selectorData.selectors[this.selectorData.activeSelectorIndex].selector)))}catch(e){r=[]}r.includes(t)?this.selectorData.selectors[this.selectorData.activeSelectorIndex].selectedElements.includes(t)?(t.classList.remove(this.selectingClass+this.selectorData.activeSelectorIndex),this.selectorData.selectors[this.selectorData.activeSelectorIndex].selectedElements=this.selectorData.selectors[this.selectorData.activeSelectorIndex].selectedElements.filter((function(e){return e!==t})),0===this.selectorData.selectors[this.selectorData.activeSelectorIndex].selectedElements.length&&(this.selectorData.selectors[this.selectorData.activeSelectorIndex].rejectedElements=[])):this.selectorData.selectors[this.selectorData.activeSelectorIndex].rejectedElements.includes(t)?(t.classList.remove(this.rejectingClass+this.selectorData.activeSelectorIndex),this.selectorData.selectors[this.selectorData.activeSelectorIndex].rejectedElements=this.selectorData.selectors[this.selectorData.activeSelectorIndex].rejectedElements.filter((function(e){return e!==t}))):(t.classList.add(this.rejectingClass+this.selectorData.activeSelectorIndex),this.selectorData.selectors[this.selectorData.activeSelectorIndex].rejectedElements.push(t)):this.selectorData.selectors[this.selectorData.activeSelectorIndex].rejectedElements.includes(t)?(t.classList.remove(this.rejectingClass+this.selectorData.activeSelectorIndex),this.selectorData.selectors[this.selectorData.activeSelectorIndex].rejectedElements=this.selectorData.selectors[this.selectorData.activeSelectorIndex].rejectedElements.filter((function(e){return e!==t})),t.classList.contains("axiom-matched")||(t.classList.add(this.selectingClass+this.selectorData.activeSelectorIndex),this.selectorData.selectors[this.selectorData.activeSelectorIndex].selectedElements.push(t))):(t.classList.add(this.selectingClass+this.selectorData.activeSelectorIndex),this.selectorData.selectors[this.selectorData.activeSelectorIndex].selectedElements.push(t)),i=this.hierarchyActions.getCombined(document,this.selectorData.selectors[this.selectorData.activeSelectorIndex].selectedElements,this.selectorData.selectors[this.selectorData.activeSelectorIndex].rejectedElements,"selector"),document.querySelectorAll(i).length>0?this.selectorData.selectors[this.selectorData.activeSelectorIndex].selector=i:h.AxiomApiHelper.applyToIframes((function(e,t){i=s.hierarchyActions.getCombined(t[0],s.selectorData.selectors[s.selectorData.activeSelectorIndex].selectedElements,s.selectorData.selectors[s.selectorData.activeSelectorIndex].rejectedElements,"selector"),t[0].querySelectorAll(i).length>0&&(s.selectorData.selectors[s.selectorData.activeSelectorIndex].selector=i)})),this.findMatchesV0190(document),this.resetHighlights(document),h.AxiomApiHelper.applyToIframes((function(e,t){try{s.findMatchesV0190(t[0]),s.resetHighlights(t[0])}catch(e){}})),this.selectorData.selectors[this.selectorData.activeSelectorIndex].isToken=void 0,this.sendStateUpdate(!0)}return[2,!1]}))}))},e}();t.InjectedSelectorTool=d,window.axiom_selector=new d},917:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HierarchyActions=void 0;var i=r(422),n=function(){function e(){this.attributeSelector=new i.AttributeSelector}return e.prototype.getCombined=function(e,t,r,i){if(0===t.length)return"";for(var n=this.getAsAttributeSelectors(t),s=this.getAsAttributeSelectors(r),o=[],a=[],l=0,c=n;l<c.length;l++){var h=c[l];o.push(this.splitHierarchyString(h))}for(var u=0,f=s;u<f.length;u++){h=f[u];a.push(this.splitHierarchyString(h))}for(var d=[].concat(o,a),g=[],p=0,m=d;p<m.length;p++){var v=m[p];v.tagsReversed=v.tags.slice().reverse()}for(var y=0,b=o;y<b.length;y++){var S=b[y];S.tagsReversed=S.tags.slice().reverse()}for(var x=0,_=0,D=d;_<D.length;_++){(w=D[_]).tagsReversed.length>x&&(x=w.tags.length)}for(var E=0;E<x;E++){for(var I=[],T=0,A=o;T<A.length;T++){var w;(w=A[T]).tagsReversed[E]&&I.push(w.tagsReversed[E])}if(0===I.length)return"";var F="";if(I.length===o.length){if(1===I.length)F=I[0];else{for(var C=[],L=0,j=I;L<j.length;L++){var k=j[L];-1===C.indexOf(k)&&C.push(k)}F=1===C.length?C[0]:":-webkit-any("+C.join(", ")+")"}g.push(F)}}var M="";if(M=(M=(M=(M=g.join(" > ")).replace(/\n/g,"")).replace(/\s\s/g," ")).replace(/\[class~="[^\S]*"\]/g,""),"selector"===i){var N=this.applyNthSpecifiers(e,M,t,r);e.querySelectorAll(M).length!==e.querySelectorAll(N).length&&(M=N)}var H=[];try{H=Array.from(e.querySelectorAll(M))}catch(e){}return M=this.trimAttributes(e,M,H,r),(M=this.trimHierarchy(e,M,H,r)).replace(/\:not\(\)/g,"")},e.prototype.excludedMatches=function(e,t,r){var i=[];try{i=Array.from(e.querySelectorAll(t))}catch(e){}return i.filter((function(e){return r.includes(e)}))},e.prototype.misMatches=function(e,t,r){var i=[];try{i=Array.from(e.querySelectorAll(t))}catch(e){}return i.filter((function(e){return r.includes(e)}))},e.prototype.overSelected=function(e,t,r){var i=[];try{i=Array.from(e.querySelectorAll(t))}catch(e){}return i.filter((function(e){return!r.includes(e)}))},e.prototype.missingElements=function(e,t,r){var i=[];try{i=Array.from(e.querySelectorAll(t))}catch(e){}return r.filter((function(e){return!i.includes(e)}))},e.prototype.trimHierarchy=function(e,t,r,i){for(var n=t.split(" > "),s=n.length,o=n.slice(n.length-s,n.length).join(" > ");s>0&&!this.missingElements(e,o,r).length&&!this.misMatches(e,o,i).length&&!this.overSelected(e,o,r).length;)if(s--,o=n.slice(n.length-s,n.length).join(" > "),/\:not\(\:nth/.test(n[n.length-s]))return n.slice(n.length-s,n.length).join(" > ");return n.slice(n.length-(s+1),n.length).join(" > ")},e.prototype.trimSelector=function(e,t,r,i){for(var n=t.split(" > "),s=n.length,o=n.slice(n.length-s,n.length).join(" > ");s<n.length-1&&!this.missingElements(e,o,r).length&&!this.misMatches(e,o,i).length;)s++,o=n.slice(n.length-s,n.length).join(" > "),o=this.trimAttributes(e,o,r,i);return n.slice(n.length-(s+1),n.length).join(" > ")},e.prototype.trimAttributes=function(e,t,r,i){var n=t.match(/\[[^\s\[\]]*\]/g);if(n&&n.length)for(var s=0,o=n;s<o.length;s++){var a=o[s];a=a.replace(/\+/g,"\\+");var l=t.replace(new RegExp(a.replace("[","\\[").replace("]","\\]"),"g"),"");this.missingElements(e,l,r).length||this.misMatches(e,l,i).length||this.overSelected(e,l,r).length||(t=l)}return t},e.prototype.applyNthSpecifiers=function(e,t,r,i){Array.from(e.querySelectorAll(t)).filter((function(e){return!(r.includes(e)||$(e).filter(":visible").length)}));for(var n=[],s=[],o=0,a=r;o<a.length;o++){var l=m(a[o]);for(var c in l)Array.isArray(s[c])?s[c].push(l[c]):s[c]=[l[c]]}for(var h=[],u=0,f=i;u<f.length;u++){l=m(f[u]);for(var c in l)Array.isArray(h[c])?h[c].push(l[c]):h[c]=[l[c]]}for(var c in s){var d=s[c],g=b({include:d,exclude:y(d,h[c]).exclude});n[c]=void 0!==g?g:""}var p=t.split(" > ");for(var c in p.reverse(),p)n[c]&&(p[c]+=n[c]);return p.reverse(),p.join(" > ");function m(e){for(var t=[],r=e;r.parentElement&&r.tagName;){var i=v(r);t.push(i),r=r.parentElement}return t}function v(e){for(var t=1,r=e;r.previousElementSibling&&r.tagName;)t++,r.previousElementSibling.tagName===r.tagName&&0,r=r.previousElementSibling;return t}function y(e,t){var r=[];e&&e.length&&(r=t&&t.length?e.filter((function(e){return!t.includes(e)})):e);var i=[];return t&&t.length&&(i=e&&e.length?t.filter((function(t){return!e.includes(t)})):t),{include:r,exclude:i}}function b(e){var t={series:e.include,diffs:[],expandedSeries:[]},r={series:e.exclude,diffs:[],expandedSeries:[]};f(t);var i,n=function(e){var t,r;t=e.diffs.length?e.diffs[0]:0;if(0===t){if(r=e.expandedSeries[0])return""+r}else r=void 0!==e.expandedSeries[0]?e.expandedSeries[0]-t:0;var i=t+"n ";0!==r&&(r>0&&(i+="+"),i+=""+r);return i}(p(t.series,t.diffs));n&&(i=":nth-child("+n+")"),f(r);var s=[];if((r=p(r.series,t.diffs)).expandedSeries.length&&void 0!==r.diffs[0]&&void 0!==r.series[0]&&!function(e,t){for(var r=!1,i=0,n=e;i<n.length;i++){var s=n[i];t.includes(s)&&(r=!0)}return r}(t.series,r.expandedSeries)){var o=r.diffs[0],a=r.series[0],l=":not(:nth-child("+(o+"n"+(a>0?"+"+a:a<0?""+a:""))+"))";s.includes(l)||s.push(l)}else for(var c=0,h=r.series;c<h.length;c++){l=":not(:nth-child("+h[c]+"))";s.includes(l)||s.push(l)}var u="";return i&&(u+=i),s.length&&(u+=""+s.join("")),u;function f(e){for(var t=[],r=e.series.sort((function(e,t){return e-t})),i=0;i<r.length-1;i++){var n=r[i+1]-r[i];n>0&&!t.includes(n)&&t.push(n)}e.diffs=t,e.sortedDiffs=t.sort((function(e,t){return e-t}))}function d(e,t){for(var r=0,i=e;r<i.length;r++){var n=i[r];if(!t.includes(n))return!1}return!0}function g(e,t){if(!e.length)return[];var r=[],i=JSON.parse(JSON.stringify(e));i.sort((function(e,t){return e-t}));var n=i[i.length-1],s=n%t;for(r.push(n);r[0]>s;)r.unshift(r[0]-t);return r}function p(e,t){var r={series:e,expandedSeries:[],diffs:[]};if(t.length)for(var i=t[0],n=!1;i>0&&!n;){var s=g(e,i);d(e,s)?(r={series:e,expandedSeries:s,diffs:[i]},n=!0):i--}else r.expandedSeries=[e[0]];return r}}},e.prototype.getAsAttributeSelectors=function(e,t,r){for(var i=[],n=0,s=e;n<s.length;n++){var o=s[n];if("string"==typeof o||0!==Object.keys(o).length||o.constructor!==Object){var a=this.attributeSelector.getSelector(o),l=void 0===t?a:this.trimAttributes(t,a,[o],r);i.push(l)}}return i},e.prototype.splitHierarchyString=function(e){for(var t=[],r=e.split(/[\s][\s]*/),i=0;i<r.length-1;i++)t.push(" > ");for(var n=e.split(" > ").reverse(),s=[],o=[],a=0;a<n.length;a++)s[a]=n[a].split(/[\[\:]/)[0],o[a]=n[a].substr(s[a].length);return{hierarchyString:e,tags:s,mods:o,seperators:t}},e.prototype.getCommonItems=function(e){if(0===e.length)return[];if(1===e.length)return e[0];for(var t=[],r={},i=0,n=e;i<n.length;i++)for(var s=n[i],o=0;o<s.length;o++)r[s[o]]=void 0===r[s[o]]?r[s[o]]=1:r[s[o]]+1;for(var a=Object.values(r),l=Object.keys(r),c=0;c<a.length;c++)a[c]===e.length&&t.push(l[c]);return t},e.prototype.getDiff=function(e,t){var r,i=[];r=this.getCommonItems(t).filter((function(t){return-1===e.indexOf(t)}));for(var n=0,s=e;n<s.length;n++){for(var o=s[n],a=!0,l=0,c=t;l<c.length;l++){c[l].indexOf(o)>-1&&(a=!1)}a&&i.push(o)}return{unique:i,missing:r}},e.prototype.selectorAtLevel=function(e,t){var r=e.split(" > ");return r.length-t>0?r.slice(0,r.length-t).join(" > "):void 0},e.prototype.testSelectorAtLevelSelectors=function(e,t,r,i){var n=e.querySelector(t),s=[];try{s=Array.from(n.querySelectorAll(r))}catch(e){}for(var o=0,a=i[0];o<a.length;o++){var l=a[o];if(!s.includes(l))return!1}return!0},e.prototype.testSelectorAtLevelGrouping=function(e,t,r,i){var n=e.querySelector(t),s=[];try{s=Array.from(n.querySelectorAll(r))}catch(e){}for(var o=0,a=s;o<a.length;o++){var l=a[o];if(!i[0].includes(l))return!0}return!1},e.prototype.findGroupSelectors=function(e,t,r){for(var i=t.join(","),n=[],s=0,o=t;s<o.length;s++){for(var a=o[s],l="body",c=0,h=!1;void 0!==l&&!h;){l=this.selectorAtLevel(a,c);var u=this.testSelectorAtLevelSelectors(e,l,i,r),f=this.testSelectorAtLevelGrouping(e,l,i,r);u&&!f?h=!0:f?(l=this.selectorAtLevel(a,c-1),h=!0):c++}n.push(l)}return n},e}();t.HierarchyActions=n},918:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectorFacade=void 0;var n=i(r(919)),s=i(r(920)),o=i(r(921)),a=i(r(923)),l=i(r(924)),c=i(r(925)),h=function(){function e(e){void 0===e&&(e=!1),this.multiple=e,this.classSelector=new n.default,this.hierarchySelector=new o.default,this.elementSelector=new s.default,this.innerTextSelector=new l.default,this.parentElementSelector=new c.default,this.idSelector=new a.default}return e.prototype.getSelector=function(e){var t=this.classSelector.getSelector(e),r=this.hierarchySelector.getSelector(e),i=this.elementSelector.getSelector(e),n=this.innerTextSelector.getSelector(e),s=this.parentElementSelector.getSelector(e),o=this.idSelector.getSelector(e);return this.generateAxiomSelector(r,i,s,n,t,o)},e.prototype.generateAxiomSelector=function(e,t,r,i,n,s){return{hierarchy:e,targetElement:t,targetParent:r,innerText:i,class:n,id:s}},e}();t.SelectorFacade=h},919:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.getSelector=function(e){if(e){var t=e.getAttribute("class")||"";return""!==(t=t.replace(/axiom-matched|axiom-suggested-group|axiom-link|axiom-download|axiom-sel-\S+|selectorgadget_\w+/g,"").trim())&&(t="."+t.replace(/\s+/g,".")),t}},e}();t.default=i},920:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.getSelector=function(e){return e.classList.remove("selectorgadget_selected"),e.outerHTML.replace(/\"/g,"'")},e}();t.default=i},921:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(922);var i=function(){function e(){}return e.prototype.getSelector=function(e){for(var t=[];null!=e.parentNode;){for(var r=0,i=0,n=0;n<e.parentNode.childNodes.length;n++){var s=e.parentNode.childNodes[n];if(s.nodeType===Node.ELEMENT_NODE){if(s.id&&"string"==typeof s.id&&s.id.includes("axiom"))continue;s.nodeName===e.nodeName&&(s===e&&(i=r),r++)}}r>1?i>1&&(i+1===e.parentNode.childNodes.length||$(e).is(":nth-last-of-type(1)"))?t.unshift(e.nodeName.toLowerCase()+":nth-last-of-type(1)"):t.unshift(e.nodeName.toLowerCase()+":nth-of-type("+(i+1)+")"):t.unshift(e.nodeName.toLowerCase()),e=e.parentNode}t.shift();for(var o=t.join(" > "),a=null;1===document.querySelectorAll(o).length&&t.length>=2;)a=t.shift(),o=t.join(" > ");return a&&t.unshift(a),t.length>0&&t.join(" > ")},e.prototype.getSelectorForSizzle=function(e){for(var t=[];null!=e.parentNode;){for(var r=0,i=0,n=0;n<e.parentNode.childNodes.length;n++){var s=e.parentNode.childNodes[n];if(s.nodeType===Node.ELEMENT_NODE){if(s.id&&"string"==typeof s.id&&s.id.includes("axiom"))continue;s===e&&(i=r),r++}}if(r>1){var o=e.nodeName.toLowerCase();if(e.className)for(var a=e.className.split(" "),l=(n=0,a.length);n<l;n++){var c=a[n],h=this.escapeCssNames(c);h=CSS.escape(h),c&&h.length>0&&(o+="."+h)}i>1&&(o+=":nth-child("+(i+1)+")"),t.unshift(o)}else t.unshift(e.nodeName.toLowerCase());e=e.parentNode}return(t=t.slice(1)).length>0&&t.join(" > ")},e.prototype.escapeCssNames=function(e){if(!e)return"";try{return e.replace(/\bselectorgadget_\w+\b/g,"").replace(/\\/g,"\\\\").replace(/[\#\;\&\,\.\+\*\~\'\:\"\!\^\$\[\]\(\)\=\>\|\/]/g,(function(e){return"\\"+e})).replace(/\s+/,"")}catch(t){return window.console&&(console.log("---"),console.log("exception in escapeCssNames"),console.log(e),console.log("---")),""}},e}();t.default=i},922:function(e,t,r){(function(t){var r;r=void 0!==t?t:this,e.exports=function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,r=String(e),i=r.length,n=-1,s="",o=r.charCodeAt(0);++n<i;)0!=(t=r.charCodeAt(n))?s+=t>=1&&t<=31||127==t||0==n&&t>=48&&t<=57||1==n&&t>=48&&t<=57&&45==o?"\\"+t.toString(16)+" ":0==n&&1==i&&45==t||!(t>=128||45==t||95==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)?"\\"+r.charAt(n):r.charAt(n):s+="�";return s};return e.CSS||(e.CSS={}),e.CSS.escape=t,t}(r)}).call(this,r(49))},923:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.getSelector=function(e){return"#"+e.id},e}();t.default=i},924:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.getSelector=function(e){var t=e.textContent.trim();return t&&t.length<1e3?t:""},e}();t.default=i},925:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.getSelector=function(e){return e.classList.remove("selectorgadget_selected"),e.parentElement.outerHTML.replace(/\"/g,"'")},e}();t.default=i},926:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BorderHighlight=void 0;var i=r(423),n=function(){function e(e,t,r){var n=this;void 0===t&&(t=!1),void 0===r&&(r=!1),this.borderWidth=5,this.borderPadding=2,this.activeSelectorIndex=0,this.resultType="textContent",this.scrapeHelper=new i.ScrapeHelper,this.doc=e,this.iframeElement=t,this.iframeSupportEnabled=r,e.onscroll=function(e){jQuery(n.borderElement).hide()}}return e.prototype.updateactiveSelectorIndex=function(e){this.activeSelectorIndex=e},e.prototype.updateResultType=function(e){this.resultType="axiom-download"===e?"outerHTML":e},e.prototype.updateWindex=function(e){this.windex=e},e.prototype.inject=function(){this.setupBorder(),jQuery(this.doc).on("mouseover.axiom-selection",this.mouseoverHandler.bind(this)),jQuery(this.doc).on("mouseout.axiom-selection:not(.axiom-shield-overlay)",this.mouseLeaveHandler.bind(this))},e.prototype.eject=function(){this.removeBorderFromDom(),jQuery(this.doc).off("mouseover.axiom-selection"),jQuery(this.doc).off("mouseout.axiom-selection")},e.prototype.setupBorder=function(){if(!this.borderElement){var e=this.borderWidth+"px";this.borderWidth;this.shieldOverlay=jQuery('<div class="axiom-shield-overlay axiom-tool axiom-selector-ignore"></div>'),this.borderElement=jQuery('<div class="axiom-tool-highlight-border"></div>').hide(),this.bTop=jQuery("<div>").addClass("axiom-border-highlight").addClass("axiom-border-top").css("height",e),this.bLeft=jQuery("<div>").addClass("axiom-border-highlight").addClass("axiom-border-left").css("width",e),this.bBottom=jQuery("<div>").addClass("axiom-border-highlight").addClass("axiom-border-bottom").css("min-height",e).css("text-overflow","clip").css("font-family","Quicksand,sans-serif"),$(this.bBottom).each((function(t,r){r.style.setProperty("padding-left",e,"important")})),this.preview=jQuery('\n            <div id="axiom-preview-wrapper"\n            style="\n            position:relative!important;\n            left:0!important;\n            display: flex!important;\n            justify-content: center!important;\n            padding: 0!important;\n            justify-content: start!important;\n            font-size:12px!important;\n            line-height:0px!important;\n            background-color;red!important;\n            background;red!important;\n            min-height:10px!important;\n            height:auto!important;\n            max-width:400px!important;\n            width: auto!important;\n            white-space:nowrap!important;\n            overflow:visible!important;\n            overflow-x: clip!important;\n            margin: 0!important;\n            float:none!important;\n            font-weight:bold!important;\n            box-sizing: initial!important;\n            top: 5px!important;\n            scrollbar-width: none!important;\n            "\n            >\n              <p\n              ></p>\n            </div>'),this.bBottom.append(this.preview),this.bRight=jQuery("<div>").addClass("axiom-border-highlight").addClass("axiom-border-right").css("width",e),this.addBorderToDom()}},e.prototype.removeBorderFromDom=function(){this.borderElement&&(this.borderElement.remove(),this.bTop.remove(),this.bRight.remove(),this.bBottom.remove(),this.bRight.remove()),this.borderElement=this.bTop=this.bRight=this.bBottom=this.bLeft=null},e.prototype.addBorderToDom=function(){this.borderElement.append(this.shieldOverlay),this.borderElement.append(this.bTop),this.borderElement.append(this.bRight),this.borderElement.append(this.bBottom),this.borderElement.append(this.bLeft);try{this.doc.body.appendChild(this.borderElement.get(0))}catch(e){}},e.prototype.showBorder=function(){this.borderElement.show()},e.prototype.removeBorder=function(){this.borderElement&&this.borderElement.hide()},e.prototype.makeBorders=function(e){var t=this;if("IFRAME"!==e.tagName){var r=jQuery(e),i=r.offset(),n=i.top-scrollY,s=i.left,o=r.outerWidth(),a=r.outerHeight();if(this.preview.show(),this.bTop.css("width",o+2*this.borderPadding+2*this.borderWidth+"px").css("top",n-this.borderWidth-this.borderPadding+"px").css("left",s-this.borderPadding-this.borderWidth+"px"),this.bRight.css("height",a+2*this.borderPadding+"px").css("top",n-this.borderPadding+"px").css("left",s+o+this.borderPadding+"px"),this.bBottom.css("width",o+2*this.borderPadding+2*this.borderWidth-5+"px").css("top",n+a+this.borderPadding+"px").css("left",s-this.borderPadding-this.borderWidth+"px").css("color","#F5F5F5").css("height",4*this.borderWidth+"px"),this.bLeft.css("height",a+2*this.borderPadding+"px").css("top",n-this.borderPadding+"px").css("left",s-this.borderPadding-this.borderWidth+"px"),this.shieldOverlay.css("top",n+"px").css("left",s+"px"),"iframe"===e.tagName.toLowerCase()?(this.shieldOverlay.css("width",o+"px").css("height",a+"px"),this.shieldOverlay.off("click"),this.shieldOverlay.click((function(r){if(t.shieldOverlay.off("click"),void 0!==t.windex){if(confirm("You have selected content within an iframe that can't currently be selected. Would you like to try to goto the url?\n(Current selections will be lost if you click 'OK')")){var i=window.location.href,n=e.src;chrome.runtime.sendMessage({action:"change_url",origin:i,target:n,windex:t.windex})}}else alert("Magic button cannot be placed here, as this is a window getting content from a different website. Please select another area of the page")}))):(this.shieldOverlay.css("width","0px").css("height","0px"),this.shieldOverlay.off("click")),$(e).is(".axiom-sel-suggested-"+this.activeSelectorIndex+", .axiom-sel-selected-"+this.activeSelectorIndex)?$(".axiom-border-highlight").each((function(e,t){t.style.setProperty("background-color","rgb(245, 58, 58)","important")})):$(".axiom-border-highlight").each((function(e,t){t.style.setProperty("background-color","#FFAB00","important")})),this.iframeElement&&!this.iframeSupportEnabled)this.preview.children("p").text("Enable iframe support");else{var l=this.scrapeHelper.getData(e,this.resultType);if("textContent"===this.resultType){var c=e.innerText;l=c||""}l=(l=l||"").length>25?l.substr(0,25)+"...":l,this.preview.children("p").text(l)}this.showBorder()}},e.prototype.selectable=function(e){return"body"!==e.tagName.toLowerCase()&&!jQuery(e).hasClass("axiom-selector-ignore")},e.prototype.mouseoverHandler=function(e){var t=e.target;if("link"===this.resultType)for(;t.parentElement&&!/\S/.test(this.scrapeHelper.getData(t,this.resultType));)t=t.parentElement;this.selectable(t)&&e.target!==this.shieldOverlay.get(0)&&this.makeBorders(t)},e.prototype.mouseLeaveHandler=function(e){return e.target===this.doc.body||e.target===this.doc.body.parentNode||e.relatedTarget===this.shieldOverlay.get(0)||this.removeBorder(),!1},e.prototype.setIframeSupportEnabled=function(e){this.iframeSupportEnabled=e},e}();t.BorderHighlight=n},928:function(e,t,r){"use strict";r.r(t),r.d(t,"DiffMatchPatch",(function(){return g})),r.d(t,"PatchObject",(function(){return d})),r.d(t,"DiffOperation",(function(){return n}));var i={};r.r(i),r.d(i,"min",(function(){return h})),r.d(i,"max",(function(){return u}));var n,s=/[^a-zA-Z0-9]/,o=/\s/,a=/[\r\n]/,l=/\n\r?\n$/,c=/^\r?\n\r?\n/;function h(e,t){return e<t?e:t}function u(e,t){return e>t?e:t}!function(e){e[e.DIFF_DELETE=-1]="DIFF_DELETE",e[e.DIFF_INSERT=1]="DIFF_INSERT",e[e.DIFF_EQUAL=0]="DIFF_EQUAL"}(n||(n={}));var f=i,d=function(){function e(){this.diffs=[],this.start1=0,this.start2=0,this.length1=0,this.length2=0}return e.prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1===this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1===this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],r=0;r<this.diffs.length;r++){switch(this.diffs[r][0]){case n.DIFF_INSERT:e="+";break;case n.DIFF_DELETE:e="-";break;case n.DIFF_EQUAL:e=" "}t[r+1]=e+encodeURI(this.diffs[r][1])+"\n"}return t.join("").replace(/%20/g," ")},e}(),g=function(){function e(){this.diffTimeout=1,this.diffEditCost=4,this.matchThreshold=.5,this.matchDistance=1e3,this.patchDeleteThreshold=.5,this.patchMargin=4,this.matchMaxBits=32}return e.prototype.diff_main=function(e,t,r,i){void 0===i&&(i=this.diffTimeout<=0?Number.MAX_VALUE:Date.now()+1e3*this.diffTimeout);var s=i;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e===t)return e?[[n.DIFF_EQUAL,e]]:[];void 0===r&&(r=!0);var o=r,a=this.diff_commonPrefix(e,t),l=e.substring(0,a);e=e.substring(a),t=t.substring(a),a=this.diff_commonSuffix(e,t);var c=e.substring(e.length-a);e=e.substring(0,e.length-a),t=t.substring(0,t.length-a);var h=this.diff_compute_(e,t,o,s);return l&&h.unshift([n.DIFF_EQUAL,l]),c&&h.push([n.DIFF_EQUAL,c]),this.diff_cleanupMerge(h),h},e.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var r=0,i=f.min(e.length,t.length),n=i,s=0;r<n;)e.substring(s,n)===t.substring(s,n)?s=r=n:i=n,n=Math.floor((i-r)/2+r);return n},e.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!==t.charAt(t.length-1))return 0;for(var r=0,i=f.min(e.length,t.length),n=i,s=0;r<n;)e.substring(e.length-n,e.length-s)===t.substring(t.length-n,t.length-s)?s=r=n:i=n,n=Math.floor((i-r)/2+r);return n},e.prototype.diff_cleanupSemantic=function(e){for(var t=!1,r=[],i=0,s=null,o=0,a=0,l=0,c=0,h=0;o<e.length;)e[o][0]===n.DIFF_EQUAL?(r[i++]=o,a=c,l=h,c=0,h=0,s=e[o][1]):(e[o][0]===n.DIFF_INSERT?c+=e[o][1].length:h+=e[o][1].length,s&&s.length<=f.max(a,l)&&s.length<=f.max(c,h)&&(e.splice(r[i-1],0,[n.DIFF_DELETE,s]),e[r[i-1]+1][0]=n.DIFF_INSERT,i--,o=--i>0?r[i-1]:-1,a=0,l=0,c=0,h=0,s=null,t=!0)),o++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),o=1;o<e.length;){if(e[o-1][0]===n.DIFF_DELETE&&e[o][0]===n.DIFF_INSERT){var u=e[o-1][1],d=e[o][1],g=this.diff_commonOverlap_(u,d),p=this.diff_commonOverlap_(d,u);g>=p?(g>=u.length/2||g>=d.length/2)&&(e.splice(o,0,[n.DIFF_EQUAL,d.substring(0,g)]),e[o-1][1]=u.substring(0,u.length-g),e[o+1][1]=d.substring(g),o++):(p>=u.length/2||p>=d.length/2)&&(e.splice(o,0,[n.DIFF_EQUAL,u.substring(0,p)]),e[o-1][0]=n.DIFF_INSERT,e[o-1][1]=d.substring(0,d.length-p),e[o+1][0]=n.DIFF_DELETE,e[o+1][1]=u.substring(p),o++),o++}o++}},e.prototype.diff_cleanupSemanticLossless=function(e){for(var t=1;t<e.length-1;){if(e[t-1][0]===n.DIFF_EQUAL&&e[t+1][0]===n.DIFF_EQUAL){var r=e[t-1][1],i=e[t][1],s=e[t+1][1],o=this.diff_commonSuffix(r,i);if(o){var a=i.substring(i.length-o);r=r.substring(0,r.length-o),i=a+i.substring(0,i.length-o),s=a+s}for(var l=r,c=i,h=s,u=this.diff_cleanupSemanticScore_(r,i)+this.diff_cleanupSemanticScore_(i,s);i.charAt(0)===s.charAt(0);){r+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);var f=this.diff_cleanupSemanticScore_(r,i)+this.diff_cleanupSemanticScore_(i,s);f>=u&&(u=f,l=r,c=i,h=s)}e[t-1][1]!==l&&(l?e[t-1][1]=l:(e.splice(t-1,1),t--),e[t][1]=c,h?e[t+1][1]=h:(e.splice(t+1,1),t--))}t++}},e.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,r=[],i=0,s=null,o=0,a=!1,l=!1,c=!1,h=!1;o<e.length;)e[o][0]===n.DIFF_EQUAL?(e[o][1].length<this.diffEditCost&&(c||h)?(r[i++]=o,a=c,l=h,s=e[o][1]):(i=0,s=null),c=h=!1):(e[o][0]===n.DIFF_DELETE?h=!0:c=!0,s&&(a&&l&&c&&h||s.length<this.diffEditCost/2&&Number(a)+Number(l)+Number(c)+Number(h)===3)&&(e.splice(r[i-1],0,[n.DIFF_DELETE,s]),e[r[i-1]+1][0]=n.DIFF_INSERT,i--,s=null,a&&l?(c=h=!0,i=0):(o=--i>0?r[i-1]:-1,c=h=!1),t=!0)),o++;t&&this.diff_cleanupMerge(e)},e.prototype.diff_cleanupMerge=function(e){e.push([n.DIFF_EQUAL,""]);for(var t,r=0,i=0,s=0,o="",a="";r<e.length;)switch(e[r][0]){case n.DIFF_INSERT:s++,a+=e[r][1],r++;break;case n.DIFF_DELETE:i++,o+=e[r][1],r++;break;case n.DIFF_EQUAL:i+s>1?(0!==i&&0!==s&&(0!==(t=this.diff_commonPrefix(a,o))&&(r-i-s>0&&e[r-i-s-1][0]===n.DIFF_EQUAL?e[r-i-s-1][1]+=a.substring(0,t):(e.splice(0,0,[n.DIFF_EQUAL,a.substring(0,t)]),r++),a=a.substring(t),o=o.substring(t)),0!==(t=this.diff_commonSuffix(a,o))&&(e[r][1]=a.substring(a.length-t)+e[r][1],a=a.substring(0,a.length-t),o=o.substring(0,o.length-t))),r-=i+s,e.splice(r,i+s),o.length&&(e.splice(r,0,[n.DIFF_DELETE,o]),r++),a.length&&(e.splice(r,0,[n.DIFF_INSERT,a]),r++),r++):0!==r&&e[r-1][0]===n.DIFF_EQUAL?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,s=0,i=0,o="",a=""}""===e[e.length-1][1]&&e.pop();var l=!1;for(r=1;r<e.length-1;)e[r-1][0]===n.DIFF_EQUAL&&e[r+1][0]===n.DIFF_EQUAL&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)===e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),l=!0):e[r][1].substring(0,e[r+1][1].length)===e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),l=!0)),r++;l&&this.diff_cleanupMerge(e)},e.prototype.diff_xIndex=function(e,t){var r,i=0,s=0,o=0,a=0;for(r=0;r<e.length&&(e[r][0]!==n.DIFF_INSERT&&(i+=e[r][1].length),e[r][0]!==n.DIFF_DELETE&&(s+=e[r][1].length),!(i>t));r++)o=i,a=s;return e.length!==r&&e[r][0]===n.DIFF_DELETE?a:a+(t-o)},e.prototype.diff_prettyHtml=function(e){for(var t=[],r=/&/g,i=/</g,s=/>/g,o=/\n/g,a=0;a<e.length;a++){var l=e[a][0],c=e[a][1].replace(r,"&amp;").replace(i,"&lt;").replace(s,"&gt;").replace(o,"&para;<br>");switch(l){case n.DIFF_INSERT:t[a]='<ins style="background:#e6ffe6;">'+c+"</ins>";break;case n.DIFF_DELETE:t[a]='<del style="background:#ffe6e6;">'+c+"</del>";break;case n.DIFF_EQUAL:t[a]="<span>"+c+"</span>"}}return t.join("")},e.prototype.diff_text1=function(e){for(var t=[],r=0;r<e.length;r++)e[r][0]!==n.DIFF_INSERT&&(t[r]=e[r][1]);return t.join("")},e.prototype.diff_text2=function(e){for(var t=[],r=0;r<e.length;r++)e[r][0]!==n.DIFF_DELETE&&(t[r]=e[r][1]);return t.join("")},e.prototype.diff_levenshtein=function(e){for(var t=0,r=0,i=0,s=0;s<e.length;s++){var o=e[s][0],a=e[s][1];switch(o){case n.DIFF_INSERT:r+=a.length;break;case n.DIFF_DELETE:i+=a.length;break;case n.DIFF_EQUAL:t+=f.max(r,i),r=0,i=0}}return t+=f.max(r,i)},e.prototype.diff_toDelta=function(e){for(var t=[],r=0;r<e.length;r++)switch(e[r][0]){case n.DIFF_INSERT:t[r]="+"+encodeURI(e[r][1]);break;case n.DIFF_DELETE:t[r]="-"+e[r][1].length;break;case n.DIFF_EQUAL:t[r]="="+e[r][1].length}return t.join("\t").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(e,t){for(var r=[],i=0,s=0,o=t.split(/\t/g),a=0;a<o.length;a++){var l=o[a].substring(1);switch(o[a].charAt(0)){case"+":try{r[i++]=[n.DIFF_INSERT,decodeURI(l)]}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var c=parseInt(l,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+l);var h=e.substring(s,s+=c);"="===o[a].charAt(0)?r[i++]=[n.DIFF_EQUAL,h]:r[i++]=[n.DIFF_DELETE,h];break;default:if(o[a])throw new Error("Invalid diff operation in diff_fromDelta: "+o[a])}}if(s!==e.length)throw new Error("Delta length ("+s+") does not equal source text length ("+e.length+")");return r},e.prototype.match_main=function(e,t,r){if(null==e||null==t||null==r)throw new Error("Null input. (match_main)");return r=f.max(0,f.min(r,e.length)),e===t?0:e.length?e.substring(r,r+t.length)===t?r:this.match_bitap_(e,t,r):-1},e.prototype.patch_make=function(e,t,r){var i,s;if("string"==typeof e&&"string"==typeof t&&void 0===r)i=e,(s=this.diff_main(i,t,!0)).length>2&&(this.diff_cleanupSemantic(s),this.diff_cleanupEfficiency(s));else if(e&&"object"==typeof e&&void 0===t&&void 0===r)s=e,i=this.diff_text1(s);else if("string"==typeof e&&t&&"object"==typeof t&&void 0===r)i=e,s=t;else{if("string"!=typeof e||"string"!=typeof t||!r||"object"!=typeof r)throw new Error("Unknown call format to patch_make");i=e,s=r}if(0===s.length)return[];for(var o=[],a=new d,l=0,c=0,h=0,u=i,f=i,g=0;g<s.length;g++){var p=s[g][0],m=s[g][1];switch(l||p===n.DIFF_EQUAL||(a.start1=c,a.start2=h),p){case n.DIFF_INSERT:a.diffs[l++]=s[g],a.length2+=m.length,f=f.substring(0,h)+m+f.substring(h);break;case n.DIFF_DELETE:a.length1+=m.length,a.diffs[l++]=s[g],f=f.substring(0,h)+f.substring(h+m.length);break;case n.DIFF_EQUAL:m.length<=2*this.patchMargin&&l&&s.length!==g+1?(a.diffs[l++]=s[g],a.length1+=m.length,a.length2+=m.length):m.length>=2*this.patchMargin&&l&&(this.patch_addContext_(a,u),o.push(a),a=new d,l=0,u=f,c=h)}p!==n.DIFF_INSERT&&(c+=m.length),p!==n.DIFF_DELETE&&(h+=m.length)}return l&&(this.patch_addContext_(a,u),o.push(a)),o},e.prototype.patch_deepCopy=function(e){for(var t=[],r=0;r<e.length;r++){for(var i=e[r],n=new d,s=0;s<i.diffs.length;s++)n.diffs[s]=[i.diffs[s][0],i.diffs[s][1]];n.start1=i.start1,n.start2=i.start2,n.length1=i.length1,n.length2=i.length2,t[r]=n}return t},e.prototype.patch_apply=function(e,t){if(0===e.length)return[t,[]];e=this.patch_deepCopy(e);var r=this.patch_addPadding(e);t=r+t+r,this.patch_splitMax(e);for(var i=0,s=[],o=0;o<e.length;o++){var a=e[o].start2+i,l=this.diff_text1(e[o].diffs),c=void 0,h=-1;if(l.length>this.matchMaxBits?-1!==(c=this.match_main(t,l.substring(0,this.matchMaxBits),a))&&(-1===(h=this.match_main(t,l.substring(l.length-this.matchMaxBits),a+l.length-this.matchMaxBits))||c>=h)&&(c=-1):c=this.match_main(t,l,a),-1===c)s[o]=!1,i-=e[o].length2-e[o].length1;else{s[o]=!0,i=c-a;var u=void 0;if(l===(u=-1===h?t.substring(c,c+l.length):t.substring(c,h+this.matchMaxBits)))t=t.substring(0,c)+this.diff_text2(e[o].diffs)+t.substring(c+l.length);else{var f=this.diff_main(l,u,!1);if(l.length>this.matchMaxBits&&this.diff_levenshtein(f)/l.length>this.patchDeleteThreshold)s[o]=!1;else{this.diff_cleanupSemanticLossless(f);for(var d=0,g=0,p=0;p<e[o].diffs.length;p++){var m=e[o].diffs[p];m[0]!==n.DIFF_EQUAL&&(g=this.diff_xIndex(f,d)),m[0]===n.DIFF_INSERT?t=t.substring(0,c+g)+m[1]+t.substring(c+g):m[0]===n.DIFF_DELETE&&(t=t.substring(0,c+g)+t.substring(c+this.diff_xIndex(f,d+m[1].length))),m[0]!==n.DIFF_DELETE&&(d+=m[1].length)}}}}}return[t=t.substring(r.length,t.length-r.length),s]},e.prototype.patch_addPadding=function(e){for(var t=this.patchMargin,r="",i=1;i<=t;i++)r+=String.fromCharCode(i);for(i=0;i<e.length;i++)e[i].start1+=t,e[i].start2+=t;var s=e[0],o=s.diffs;if(0===o.length||o[0][0]!==n.DIFF_EQUAL)o.unshift([n.DIFF_EQUAL,r]),s.start1-=t,s.start2-=t,s.length1+=t,s.length2+=t;else if(t>o[0][1].length){var a=t-o[0][1].length;o[0][1]=r.substring(o[0][1].length)+o[0][1],s.start1-=a,s.start2-=a,s.length1+=a,s.length2+=a}if(0===(o=(s=e[e.length-1]).diffs).length||o[o.length-1][0]!==n.DIFF_EQUAL)o.push([n.DIFF_EQUAL,r]),s.length1+=t,s.length2+=t;else if(t>o[o.length-1][1].length){a=t-o[o.length-1][1].length;o[o.length-1][1]+=r.substring(0,a),s.length1+=a,s.length2+=a}return r},e.prototype.patch_splitMax=function(e){for(var t=this.matchMaxBits,r=0;r<e.length;r++)if(!(e[r].length1<=t)){var i=e[r];e.splice(r--,1);for(var s=i.start1,o=i.start2,a="";0!==i.diffs.length;){var l=new d,c=!0;for(l.start1=s-a.length,l.start2=o-a.length,""!==a&&(l.length1=l.length2=a.length,l.diffs.push([n.DIFF_EQUAL,a]));0!==i.diffs.length&&l.length1<t-this.patchMargin;){var h=i.diffs[0][0],u=i.diffs[0][1];h===n.DIFF_INSERT?(l.length2+=u.length,o+=u.length,l.diffs.push(i.diffs.shift()),c=!1):h===n.DIFF_DELETE&&1===l.diffs.length&&l.diffs[0][0]===n.DIFF_EQUAL&&u.length>2*t?(l.length1+=u.length,s+=u.length,c=!1,l.diffs.push([h,u]),i.diffs.shift()):(u=u.substring(0,t-l.length1-this.patchMargin),l.length1+=u.length,s+=u.length,h===n.DIFF_EQUAL?(l.length2+=u.length,o+=u.length):c=!1,l.diffs.push([h,u]),u===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(u.length))}a=(a=this.diff_text2(l.diffs)).substring(a.length-this.patchMargin);var f=this.diff_text1(i.diffs).substring(0,this.patchMargin);""!==f&&(l.length1+=f.length,l.length2+=f.length,0!==l.diffs.length&&l.diffs[l.diffs.length-1][0]===n.DIFF_EQUAL?l.diffs[l.diffs.length-1][1]+=f:l.diffs.push([n.DIFF_EQUAL,f])),c||e.splice(++r,0,l)}}},e.prototype.patch_toText=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r];return t.join("")},e.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var r=e.split("\n"),i=0,s=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<r.length;){var o=r[i].match(s);if(!o)throw new Error("Invalid patch string: "+r[i]);var a=new d;t.push(a),a.start1=parseInt(o[1],10),""===o[2]?(a.start1--,a.length1=1):"0"===o[2]?a.length1=0:(a.start1--,a.length1=parseInt(o[2],10)),a.start2=parseInt(o[3],10),""===o[4]?(a.start2--,a.length2=1):"0"===o[4]?a.length2=0:(a.start2--,a.length2=parseInt(o[4],10)),i++;for(var l=void 0,c=void 0,h=void 0;i<r.length;){l=r[i].charAt(0),h=r[i].substring(1);try{c=decodeURI(h)}catch(e){throw new Error("Illegal escape in patch_fromText: "+h)}if("-"===l)a.diffs.push([n.DIFF_DELETE,c]);else if("+"===l)a.diffs.push([n.DIFF_INSERT,c]);else if(" "===l)a.diffs.push([n.DIFF_EQUAL,c]);else{if("@"===l)break;if(""!==l)throw new Error('Invalid patch mode "'+l+'" in: '+c)}i++}}return t},e.prototype.diff_compute_=function(e,t,r,i){var s;if(!e)return[[n.DIFF_INSERT,t]];if(!t)return[[n.DIFF_DELETE,e]];var o=e.length>t.length?e:t,a=e.length>t.length?t:e,l=o.indexOf(a);if(-1!==l)return s=[[n.DIFF_INSERT,o.substring(0,l)],[n.DIFF_EQUAL,a],[n.DIFF_INSERT,o.substring(l+a.length)]],e.length>t.length&&(s[0][0]=n.DIFF_DELETE,s[2][0]=n.DIFF_DELETE),s;if(1===a.length)return[[n.DIFF_DELETE,e],[n.DIFF_INSERT,t]];var c=this.diff_halfMatch_(e,t);if(c){var h=c[0],u=c[1],f=c[2],d=c[3],g=c[4],p=this.diff_main(h,f,r,i),m=this.diff_main(u,d,r,i);return p.concat([[n.DIFF_EQUAL,g]],m)}return r&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,i):this.diff_bisect_(e,t,i)},e.prototype.diff_lineMode_=function(e,t,r){var i=this.diff_linesToChars_(e,t);e=i.chars1,t=i.chars2;var s=i.lineArray,o=this.diff_main(e,t,!1,r);this.diff_charsToLines_(o,s),this.diff_cleanupSemantic(o),o.push([n.DIFF_EQUAL,""]);for(var a=0,l=0,c=0,h="",u="";a<o.length;){switch(o[a][0]){case n.DIFF_INSERT:c++,u+=o[a][1];break;case n.DIFF_DELETE:l++,h+=o[a][1];break;case n.DIFF_EQUAL:if(l>=1&&c>=1){o.splice(a-l-c,l+c),a=a-l-c;for(var f=this.diff_main(h,u,!1,r),d=f.length-1;d>=0;d--)o.splice(a,0,f[d]);a+=f.length}c=0,l=0,h="",u=""}a++}return o.pop(),o},e.prototype.diff_bisect_=function(e,t,r){for(var i=e.length,s=t.length,o=Math.ceil((i+s)/2),a=o,l=2*o,c=new Array(l),h=new Array(l),u=0;u<l;u++)c[u]=-1,h[u]=-1;c[a+1]=0,h[a+1]=0;for(var f=i-s,d=f%2!=0,g=0,p=0,m=0,v=0,y=0;y<o&&!(Date.now()>r);y++){for(var b=-y+g;b<=y-p;b+=2){for(var S=a+b,x=void 0,_=(x=b===-y||b!==y&&c[S-1]<c[S+1]?c[S+1]:c[S-1]+1)-b;x<i&&_<s&&e.charAt(x)===t.charAt(_);)x++,_++;if(c[S]=x,x>i)p+=2;else if(_>s)g+=2;else if(d){if((E=a+f-b)>=0&&E<l&&-1!==h[E])if(x>=(I=i-h[E]))return this.diff_bisectSplit_(e,t,x,_,r)}}for(var D=-y+m;D<=y-v;D+=2){for(var E=a+D,I=void 0,T=(I=D===-y||D!==y&&h[E-1]<h[E+1]?h[E+1]:h[E-1]+1)-D;I<i&&T<s&&e.charAt(i-I-1)===t.charAt(s-T-1);)I++,T++;if(h[E]=I,I>i)v+=2;else if(T>s)m+=2;else if(!d){if((S=a+f-D)>=0&&S<l&&-1!==c[S]){_=a+(x=c[S])-S;if(x>=(I=i-I))return this.diff_bisectSplit_(e,t,x,_,r)}}}}return[[n.DIFF_DELETE,e],[n.DIFF_INSERT,t]]},e.prototype.diff_bisectSplit_=function(e,t,r,i,n){var s=e.substring(0,r),o=t.substring(0,i),a=e.substring(r),l=t.substring(i),c=this.diff_main(s,o,!1,n),h=this.diff_main(a,l,!1,n);return c.concat(h)},e.prototype.diff_linesToChars_=function(e,t){var r=[],i={};return r[0]="",{chars1:this.diff_linesToCharsMunge_(e,r,i,4e4),chars2:this.diff_linesToCharsMunge_(t,r,i,65535),lineArray:r}},e.prototype.diff_linesToCharsMunge_=function(e,t,r,i){for(var n="",s=0,o=-1,a=t.length;o<e.length-1;){-1===(o=e.indexOf("\n",s))&&(o=e.length-1);var l=e.substring(s,o+1);(r.hasOwnProperty?r.hasOwnProperty(l):void 0!==r[l])?n+=String.fromCharCode(r[l]):(a===i&&(l=e.substring(s),o=e.length),n+=String.fromCharCode(a),r[l]=a,t[a++]=l),s=o+1}return n},e.prototype.diff_charsToLines_=function(e,t){for(var r=0;r<e.length;r++){for(var i=e[r][1],n=[],s=0;s<i.length;s++)n[s]=t[i.charCodeAt(s)];e[r][1]=n.join("")}},e.prototype.diff_commonOverlap_=function(e,t){var r=e.length,i=t.length;if(0===r||0===i)return 0;r>i?e=e.substring(r-i):r<i&&(t=t.substring(0,r));var n=f.min(r,i);if(e===t)return n;for(var s=0,o=1;;){var a=e.substring(n-o),l=t.indexOf(a);if(-1===l)return s;o+=l,0!==l&&e.substring(n-o)!==t.substring(0,o)||(s=o,o++)}},e.prototype.diff_halfMatch_=function(e,t){if(this.diffTimeout<=0)return null;var r=e.length>t.length?e:t,i=e.length>t.length?t:e;if(r.length<4||2*i.length<r.length)return null;var n,s,o,a,l,c=this.diff_halfMatchI_(r,i,Math.ceil(r.length/4)),h=this.diff_halfMatchI_(r,i,Math.ceil(r.length/2));if(!c&&!h)return null;var u=(n=h?c&&c[4].length>h[4].length?c:h:c)[4];return e.length>t.length?(s=n[0],o=n[1],a=n[2],l=n[3]):(a=n[0],l=n[1],s=n[2],o=n[3]),[s,o,a,l,u]},e.prototype.diff_halfMatchI_=function(e,t,r){for(var i,n,s,o,a=e.substring(r,r+Math.floor(e.length/4)),l="",c=t.indexOf(a,0);-1!==c;){var h=this.diff_commonPrefix(e.substring(r),t.substring(c)),u=this.diff_commonSuffix(e.substring(0,r),t.substring(0,c));l.length<u+h&&(l=t.substring(c-u,c)+t.substring(c,c+h),i=e.substring(0,r-u),n=e.substring(r+h),s=t.substring(0,c-u),o=t.substring(c+h)),c=t.indexOf(a,c+1)}return 2*l.length>=e.length?[i,n,s,o,l]:null},e.prototype.diff_cleanupSemanticScore_=function(e,t){if(!e||!t)return 6;var r=e.charAt(e.length-1),i=t.charAt(0),n=r.match(s),h=i.match(s),u=n&&r.match(o),f=h&&i.match(o),d=u&&r.match(a),g=f&&i.match(a),p=d&&e.match(l),m=g&&t.match(c);return p||m?5:d||g?4:n&&!u&&f?3:u||f?2:n||h?1:0},e.prototype.match_bitap_=function(e,t,r){if(t.length>this.matchMaxBits)throw new Error("Pattern too long for this browser");var i=this.match_alphabet_(t),n=this.matchThreshold,s=e.indexOf(t,r);-1!==s&&(n=f.min(this.match_bitapScore_(0,s,t,r),n),-1!==(s=e.lastIndexOf(t,r+t.length))&&(n=f.min(this.match_bitapScore_(0,s,t,r),n)));var o,a,l=1<<t.length-1;s=-1;for(var c,h=t.length+e.length,u=0;u<t.length;u++){for(o=0,a=h;o<a;)this.match_bitapScore_(u,r+a,t,r)<=n?o=a:h=a,a=Math.floor((h-o)/2+o);h=a;var d=f.max(1,r-a+1),g=f.min(r+a,e.length)+t.length,p=Array(g+2);p[g+1]=(1<<u)-1;for(var m=g;m>=d;m--){var v=i[e.charAt(m-1)];if(p[m]=0===u?(p[m+1]<<1|1)&v:(p[m+1]<<1|1)&v|(c[m+1]|c[m])<<1|1|c[m+1],p[m]&l){var y=this.match_bitapScore_(u,m-1,t,r);if(y<=n){if(n=y,!((s=m-1)>r))break;d=f.max(1,2*r-s)}}}if(this.match_bitapScore_(u+1,r,t,r)>n)break;c=p}return s},e.prototype.match_bitapScore_=function(e,t,r,i){var n=e/r.length,s=Math.abs(i-t);return this.matchDistance?n+s/this.matchDistance:s?1:n},e.prototype.match_alphabet_=function(e){for(var t={},r=0;r<e.length;r++)t[e.charAt(r)]=0;for(r=0;r<e.length;r++)t[e.charAt(r)]|=1<<e.length-r-1;return t},e.prototype.patch_addContext_=function(e,t){if(0!==t.length){if(null==e.start2)throw Error("patch not initialized");for(var r=t.substring(e.start2,e.start2+e.length1),i=0;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<this.matchMaxBits-this.patchMargin-this.patchMargin;)i+=this.patchMargin,r=t.substring(e.start2-i,e.start2+e.length1+i);i+=this.patchMargin;var s=t.substring(e.start2-i,e.start2);s&&e.diffs.unshift([n.DIFF_EQUAL,s]);var o=t.substring(e.start2+e.length1,e.start2+e.length1+i);o&&e.diffs.push([n.DIFF_EQUAL,o]),e.start1-=s.length,e.start2-=s.length,e.length1+=s.length+o.length,e.length2+=s.length+o.length}},e}()}});
//# sourceMappingURL=axiomselector.js.map